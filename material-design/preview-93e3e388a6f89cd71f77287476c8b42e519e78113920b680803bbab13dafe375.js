window.yepbuildversion="1671025268297",window.versiontimestamp=2569251824,!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function s(a){var b=!!a&&"length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function z(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(y.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return h.call(b,a)>-1!==c})}function F(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}function J(){d.removeEventListener("DOMContentLoaded",J),a.removeEventListener("load",J),n.ready()}function M(){this.expando=n.expando+M.uid++}function R(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Q,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:P.test(c)?n.parseJSON(c):c}catch(e){}O.set(a,b,c)}else c=void 0;return c}function W(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,"")},i=h(),j=c&&c[3]||(n.cssNumber[b]?"":"px"),k=(n.cssNumber[b]||"px"!==j&&+i)&&T.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,n.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}function _(a,b){var c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function aa(a,b){for(var c=0,d=a.length;d>c;c++)N.set(a[c],"globalEval",!b||N.get(b[c],"globalEval"))}function ca(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],o=0,p=a.length;p>o;o++)if(f=a[o],f||0===f)if("object"===n.type(f))n.merge(m,f.nodeType?[f]:f);else if(ba.test(f)){for(g=g||l.appendChild(b.createElement("div")),h=(Y.exec(f)||["",""])[1].toLowerCase(),i=$[h]||$._default,g.innerHTML=i[1]+n.htmlPrefilter(f)+i[2],k=i[0];k--;)g=g.lastChild;n.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));for(l.textContent="",o=0;f=m[o++];)if(d&&n.inArray(f,d)>-1)e&&e.push(f);else if(j=n.contains(f.ownerDocument,f),g=_(l.appendChild(f),"script"),j&&aa(g),c)for(k=0;f=g[k++];)Z.test(f.type||"")&&c.push(f);return l}function ga(){return!0}function ha(){return!1}function ia(){try{return d.activeElement}catch(a){}}function ja(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)ja(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=ha;else if(!e)return a;return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}function pa(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function qa(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function ra(a){var b=na.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function sa(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(N.hasData(a)&&(f=N.access(a),g=N.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}O.hasData(a)&&(h=O.access(a),i=n.extend({},h),O.set(b,i))}}function ta(a,b){var c=b.nodeName.toLowerCase();"input"===c&&X.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function ua(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&"string"==typeof q&&!l.checkClone&&ma.test(q))return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),ua(f,b,c,d)});if(o&&(e=ca(b,a[0].ownerDocument,!1,a,d),g=e.firstChild,1===e.childNodes.length&&(e=g),g||d)){for(h=n.map(_(e,"script"),qa),i=h.length;o>m;m++)j=e,m!==p&&(j=n.clone(j,!0,!0),i&&n.merge(h,_(j,"script"))),c.call(a[m],j,m);if(i)for(k=h[h.length-1].ownerDocument,n.map(h,ra),m=0;i>m;m++)j=h[m],Z.test(j.type||"")&&!N.access(j,"globalEval")&&n.contains(k,j)&&(j.src?n._evalUrl&&n._evalUrl(j.src):n.globalEval(j.textContent.replace(oa,"")))}return a}function va(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||n.cleanData(_(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&aa(_(d,"script")),d.parentNode.removeChild(d));return a}function ya(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],"display");return c.detach(),d}function za(a){var b=d,c=xa[a];return c||(c=ya(a,b),"none"!==c&&c||(wa=(wa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=wa[0].contentDocument,b.write(),b.close(),c=ya(a,b),wa.detach()),xa[a]=c),c}function Fa(a,b,c){var d,e,f,g,h=a.style;return c=c||Ca(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),c&&!l.pixelMarginRight()&&Ba.test(g)&&Aa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0!==g?g+"":g}function Ga(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function Ma(a){if(a in La)return a;for(var b=a[0].toUpperCase()+a.slice(1),c=Ka.length;c--;)if(a=Ka[c]+b,a in La)return a}function Na(a,b,c){var d=T.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Oa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+U[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+U[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+U[f]+"Width",!0,e))):(g+=n.css(a,"padding"+U[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+U[f]+"Width",!0,e)));return g}function Pa(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ca(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Fa(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ba.test(e))return e;d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Oa(a,b,c||(g?"border":"content"),d,f)+"px"}function Qa(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=N.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&V(d)&&(f[g]=N.access(d,"olddisplay",za(d.nodeName)))):(e=V(d),"none"===c&&e||N.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Ra(a,b,c,d,e){return new Ra.prototype.init(a,b,c,d,e)}function Wa(){return a.setTimeout(function(){Sa=void 0}),Sa=n.now()}function Xa(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=U[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ya(a,b,c){for(var d,e=(_a.tweeners[b]||[]).concat(_a.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Za(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&V(a),q=N.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?N.get(a,"olddisplay")||za(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Ua.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?za(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=N.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;N.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ya(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function $a(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function _a(a,b,c){var d,e,f=0,g=_a.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Sa||Wa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:Sa||Wa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for($a(k,j.opts.specialEasing);g>f;f++)if(d=_a.prefilters[f].call(j,a,k,j.opts))return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d;return n.map(k,Ya,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function fb(a){return a.getAttribute&&a.getAttribute("class")||""}function wb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function xb(a,b,c,d){function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}var e={},f=a===tb;return g(b.dataTypes[0])||!e["*"]&&g("*")}function yb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function zb(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Ab(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function Gb(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Cb.test(a)?d(a,e):Gb(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Gb(a+"["+e+"]",b[e],c,d)}function Mb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m="2.2.4",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!n.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){var b;if("object"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;if(a.constructor&&!k.call(a,"constructor")&&!k.call(a.constructor.prototype||{},"isPrototypeOf"))return!1;for(b in a);return void 0===b||k.call(a,b)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?i[j.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=d.createElement("script"),b.text=a,d.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a))for(c=a.length;c>d&&b.call(a[d],d,a[d])!==!1;d++);else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:h.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d>g;g++)e=b(a[g],g,c),null!=e&&h.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&h.push(e);return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(d=e.call(arguments,2),f=function(){return a.apply(b||this,d.concat(e.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:l}),"function"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){i["[object "+b+"]"]=b.toLowerCase()});var t=function(a){function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==x&&9!==x&&11!==x)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a)))if(f=o[1]){if(9===x){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(o[2])return H.apply(d,b.getElementsByTagName(a)),d;if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==x)w=b,s=a;else if("object"!==b.nodeName.toLowerCase()){for((k=b.getAttribute("id"))?k=k.replace(aa,"\\$&"):b.setAttribute("id",k=u),r=g(a),h=r.length,l=V.test(k)?"#"+k:"[id='"+k+"']";h--;)r[h]=l+" "+qa(r[h]);s=r.join(","),w=_.test(a)&&oa(b.parentNode)||b}if(s)try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(Q,"$1"),b,d,e)}function ga(){function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}var a=[];return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){for(var c=a.split("|"),e=c.length;e--;)d.attrHandle[c[e]]=b}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function oa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function pa(){}function qa(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function ra(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[w,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function sa(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++)fa(a,b[d],c);return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d)for(j=ua(r,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l));if(f){if(e||a){if(e){for(j=[],k=r.length;k--;)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}for(k=r.length;k--;)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[ra(sa(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e&&!d.relative[a[e].type];e++);return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(Q,"$1"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){for(o=0,g||l.ownerDocument===n||(m(l),h=!p);q=a[o++];)if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){for(o=0;q=b[o++];)q(t,u,g,h);if(f){if(r>0)for(;s--;)t[s]||u[s]||(u[s]=F.call(i));u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+L+"*\\]",O=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",P=new RegExp(L+"+","g"),Q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),R=new RegExp("^"+L+"*,"+L+"*"),S=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),T=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),U=new RegExp(O),V=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_=/[+~]/,aa=/'|\\/g,ba=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ca=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ia(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ia(function(a){var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",O)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return ka(a,b);for(c=a;c=c.parentNode;)g.unshift(c);for(c=b;c=c.parentNode;)h.unshift(c);for(;g[d]===h[d];)d++;return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){for(;b=a[f++];)b===a[f]&&(e=d.push(f));for(;e--;)a.splice(d[e],1)}return k=null,a},e=fa.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else for(;b=a[d++];)c+=e(b);return c},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||"").replace(ba,ca),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(P," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){for(;p;){for(m=b;m=m[p];)if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];m=++n&&m&&m[p]||(t=n=0)||o.pop();)if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)for(;(m=++n&&m&&m[p]||(t=n=0)||o.pop())&&((h?m.nodeName.toLowerCase()!==r:1!==m.nodeType)||!++t||(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m!==b)););return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){for(var d,f=e(a,b),g=f.length;g--;)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,"$1"));return d[u]?ha(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||"")||fa.error("unsupported lang: "+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=la(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=ma(b);return pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=d.preFilter;h;){c&&!(e=R.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q," ")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));
if(!c)break}return b?h.length:h?fa.error(a):z(a,i).slice(0)},h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){for(b||(b=g(a)),c=b.length;c--;)f=wa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xa(e,d)),f.selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}for(i=W.needsContext.test(a)?0:j.length;i--&&(k=j[i],!d.relative[l=k.type]);)if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qa(j),!a)return H.apply(e,f),e;break}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ia(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ja("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ja("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute("disabled")})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},w=n.expr.match.needsContext,x=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,y=/^.[^:#\[\.,]*$/;n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return!!z(this,"string"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||A,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:B.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b))for(e in b)n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?void 0!==c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?h.call(n(a),this[0]):h.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,"parentNode")},parentsUntil:function(a,b,c){return u(a,"parentNode",c)},next:function(a){return F(a,"nextSibling")},prev:function(a){return F(a,"previousSibling")},nextAll:function(a){return u(a,"nextSibling")},prevAll:function(a){return u(a,"previousSibling")},nextUntil:function(a,b,c){return u(a,"nextSibling",c)},prevUntil:function(a,b,c){return u(a,"previousSibling",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||n.uniqueSort(e),D.test(a)&&e.reverse()),this.pushStack(e)}});var G=/\S+/g;n.Callbacks=function(a){a="string"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1)for(c=g.shift();++h<f.length;)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1);a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){for(var c;(c=n.inArray(b,f,c))>-1;)f.splice(c,1),h>=c&&h--}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var i,j,k,b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}};if(d>1)for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler("ready"),n(d).off("ready"))))}}),n.ready.promise=function(b){return I||(I=n.Deferred(),"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(n.ready):(d.addEventListener("DOMContentLoaded",J),a.addEventListener("load",J))),I.promise(b)},n.ready.promise();var K=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)K(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},L=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};M.uid=1,M.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!L(a))return{};var b=a[this.expando];return b||(b={},L(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[b]=c;else for(d in b)e[d]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b)this.register(a);else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(G)||[])),c=d.length;for(;c--;)delete f[d[c]]}(void 0===b||n.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!n.isEmptyObject(b)}};var N=new M,O=new M,P=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;n.extend({hasData:function(a){return O.hasData(a)||N.hasData(a)},data:function(a,b,c){return O.access(a,b,c)},removeData:function(a,b){O.remove(a,b)},_data:function(a,b,c){return N.access(a,b,c)},_removeData:function(a,b){N.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=O.get(f),1===f.nodeType&&!N.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),R(f,d,e[d])));N.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){O.set(this,a)}):K(this,function(b){var c,d;if(f&&void 0===b){if(c=O.get(f,a)||O.get(f,a.replace(Q,"-$&").toLowerCase()),void 0!==c)return c;if(d=n.camelCase(a),c=O.get(f,d),void 0!==c)return c;if(c=R(f,d,void 0),void 0!==c)return c}else d=n.camelCase(a),this.each(function(){var c=O.get(this,d);O.set(this,d,b),a.indexOf("-")>-1&&void 0!==c&&O.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){O.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=N.get(a,b),c&&(!d||n.isArray(c)?d=N.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return N.get(a,c)||N.access(a,c,{empty:n.Callbacks("once memory").add(function(){N.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=N.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),U=["Top","Right","Bottom","Left"],V=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},X=/^(?:checkbox|radio)$/i,Y=/<([\w:-]+)/,Z=/^$|\/(?:java|ecma)script/i,$={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$.optgroup=$.option,$.tbody=$.tfoot=$.colgroup=$.caption=$.thead,$.th=$.td;var ba=/<|&#?\w+;/;!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var da=/^key/,ea=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fa=/^([^.]*)(?:\.(.+)|)/;n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.get(a);if(r)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return"undefined"!=typeof n&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(G)||[""],j=b.length;j--;)h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.hasData(a)&&N.get(a);if(r&&(i=r.events)){for(b=(b||"").match(G)||[""],j=b.length;j--;)if(h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){for(l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&N.remove(a,"handle events")}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(N.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){for(h=n.event.handlers.call(this,a,j),b=0;(f=h[b++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,c=0;(g=f.handlers[c++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(g.namespace)||(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f,g=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||d,e=c.documentElement,f=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,e,f=a.type,g=a,h=this.fixHooks[f];for(h||(this.fixHooks[f]=h=ea.test(f)?this.mouseHooks:da.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;b--;)c=e[b],a[c]=g[c];return a.target||(a.target=d),3===a.target.nodeType&&(a.target=a.target.parentNode),h.filter?h.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==ia()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===ia()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ga:ha):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:ha,isPropagationStopped:ha,isImmediatePropagationStopped:ha,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ga,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ga,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ga,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||n.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),n.fn.extend({on:function(a,b,c,d){return ja(this,a,b,c,d)},one:function(a,b,c,d){return ja(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=ha),this.each(function(){n.event.remove(this,a,c,b)})}});var ka=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,la=/<script|<style|<link/i,ma=/checked\s*(?:[^=]|=\s*.checked.)/i,na=/^true\/(.*)/,oa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;n.extend({htmlPrefilter:function(a){return a.replace(ka,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=_(h),f=_(a),d=0,e=f.length;e>d;d++)ta(f[d],g[d]);if(b)if(c)for(f=f||_(a),g=g||_(h),d=0,e=f.length;e>d;d++)sa(f[d],g[d]);else sa(a,h);return g=_(h,"script"),g.length>0&&aa(g,!i&&_(a,"script")),h},cleanData:function(a){for(var b,c,d,e=n.event.special,f=0;void 0!==(c=a[f]);f++)if(L(c)){if(b=c[N.expando]){if(b.events)for(d in b.events)e[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);c[N.expando]=void 0}c[O.expando]&&(c[O.expando]=void 0)}}}),n.fn.extend({domManip:ua,detach:function(a){return va(this,a,!0)},remove:function(a){return va(this,a)},text:function(a){return K(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.appendChild(a)}})},prepend:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(_(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return K(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!la.test(a)&&!$[(Y.exec(a)||["",""])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(_(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return ua(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(_(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),f=e.length-1,h=0;f>=h;h++)c=h===f?this:this.clone(!0),n(e[h])[b](c),g.apply(d,c.get());return this.pushStack(d)}});var wa,xa={HTML:"block",BODY:"block"},Aa=/^margin/,Ba=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ca=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Da=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Ea=d.documentElement;!function(){function i(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",Ea.appendChild(g);var d=a.getComputedStyle(h);b="1%"!==d.top,f="2px"===d.marginLeft,c="4px"===d.width,h.style.marginRight="50%",e="4px"===d.marginRight,Ea.removeChild(g)}var b,c,e,f,g=d.createElement("div"),h=d.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h),n.extend(l,{pixelPosition:function(){return i(),b},boxSizingReliable:function(){return null==c&&i(),c},pixelMarginRight:function(){return null==c&&i(),e},reliableMarginLeft:function(){return null==c&&i(),f},reliableMarginRight:function(){var b,c=h.appendChild(d.createElement("div"));return c.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",h.style.width="1px",Ea.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),Ea.removeChild(g),h.removeChild(c),b}}))}();var Ha=/^(none|table(?!-c[ea]).+)/,Ia={position:"absolute",visibility:"hidden",display:"block"},Ja={letterSpacing:"0",fontWeight:"400"},Ka=["Webkit","O","Moz","ms"],La=d.createElement("div").style;n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Fa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=T.exec(c))&&e[1]&&(c=W(a,b,e),f="number"),void(null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(n.cssNumber[h]?"":"px")),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c))))}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Fa(a,b,d)),"normal"===e&&b in Ja&&(e=Ja[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Ha.test(n.css(a,"display"))&&0===a.offsetWidth?Da(a,Ia,function(){return Pa(a,b,d)}):Pa(a,b,d):void 0},set:function(a,c,d){var e,f=d&&Ca(a),g=d&&Oa(a,b,d,"border-box"===n.css(a,"boxSizing",!1,f),f);return g&&(e=T.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=n.css(a,b)),Na(a,c,g)}}}),n.cssHooks.marginLeft=Ga(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Fa(a,"marginLeft"))||a.getBoundingClientRect().left-Da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0}),n.cssHooks.marginRight=Ga(l.reliableMarginRight,function(a,b){return b?Da(a,{display:"inline-block"},Fa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Aa.test(a)||(n.cssHooks[a+b].set=Na)}),n.fn.extend({css:function(a,b){return K(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ca(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Qa(this,!0)},hide:function(){return Qa(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}}),n.Tween=Ra,Ra.prototype={constructor:Ra,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ra.propHooks[this.prop];return a&&a.get?a.get(this):Ra.propHooks._default.get(this)},run:function(a){var b,c=Ra.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ra.propHooks._default.set(this),this}},Ra.prototype.init.prototype=Ra.prototype,Ra.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},Ra.propHooks.scrollTop=Ra.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},n.fx=Ra.prototype.init,n.fx.step={};var Sa,Ta,Ua=/^(?:toggle|show|hide)$/,Va=/queueHooks$/;n.Animation=n.extend(_a,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return W(c.elem,a,T.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++)c=a[d],_a.tweeners[c]=_a.tweeners[c]||[],_a.tweeners[c].unshift(b)},prefilters:[Za],prefilter:function(a,b){b?_a.prefilters.unshift(a):_a.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=_a(this,n.extend({},a),f);(e||N.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=N.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Va.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=N.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Xa(b,!0),a,d,e)}}),n.each({slideDown:Xa("show"),slideUp:Xa("hide"),slideToggle:Xa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Sa=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Sa=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ta||(Ta=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(Ta),Ta=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",l.checkOn=""!==a.value,l.optSelected=c.selected,b.disabled=!0,l.optDisabled=!c.disabled,a=d.createElement("input"),a.value="t",a.type="radio",l.radioValue="t"===a.value}();var ab,bb=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return K(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;return 3!==f&&8!==f&&2!==f?"undefined"==typeof a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ab:void 0)),void 0!==c?null===c?void n.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d)):void 0},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType)for(;c=f[e++];)d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}),ab={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=bb[b]||n.find.attr;
bb[b]=function(a,b,d){var e,f;return d||(f=bb[b],bb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,bb[b]=f),e}});var cb=/^(?:input|select|textarea|button)$/i,db=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return K(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;return 3!==f&&8!==f&&2!==f?(1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]):void 0},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):cb.test(a.nodeName)||db.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var eb=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,fb(this)))});if("string"==typeof a&&a)for(b=a.match(G)||[];c=this[i++];)if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){for(g=0;f=b[g++];)d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,fb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a)for(b=a.match(G)||[];c=this[i++];)if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){for(g=0;f=b[g++];)for(;d.indexOf(" "+f+" ")>-1;)d=d.replace(" "+f+" "," ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,fb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c)for(d=0,e=n(this),f=a.match(G)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else void 0!==a&&"boolean"!==c||(b=fb(this),b&&N.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":N.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;for(b=" "+a+" ";c=this[d++];)if(1===c.nodeType&&(" "+fb(c)+" ").replace(eb," ").indexOf(b)>-1)return!0;return!1}});var gb=/\r/g,hb=/[\x20\t\r\n\f]+/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];return arguments.length?(d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))})):e?(b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(gb,""):null==c?"":c)):void 0}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a)).replace(hb," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=n.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=n.inArray(n.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var ib=/^(?:focusinfocus|focusoutblur)$/;n.extend(n.event,{trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,"type")?b.type:b,r=k.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!ib.test(q+n.event.triggered)&&(q.indexOf(".")>-1&&(r=q.split("."),q=r.shift(),r.sort()),l=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},f||!o.trigger||o.trigger.apply(e,c)!==!1)){if(!f&&!o.noBubble&&!n.isWindow(e)){for(j=o.delegateType||q,ib.test(j+q)||(h=h.parentNode);h;h=h.parentNode)p.push(h),i=h;i===(e.ownerDocument||d)&&p.push(i.defaultView||i.parentWindow||a)}for(g=0;(h=p[g++])&&!b.isPropagationStopped();)b.type=g>1?j:o.bindType||q,m=(N.get(h,"events")||{})[b.type]&&N.get(h,"handle"),m&&m.apply(h,c),m=l&&h[l],m&&m.apply&&L(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=q,f||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!L(e)||l&&n.isFunction(e[q])&&!n.isWindow(e)&&(i=e[l],i&&(e[l]=null),n.event.triggered=q,e[q](),n.event.triggered=void 0,i&&(e[l]=i)),b.result}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b)}}),n.fn.extend({trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),l.focusin="onfocusin"in a,l.focusin||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=N.access(d,b);e||d.addEventListener(a,c,!0),N.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=N.access(d,b)-1;e?N.access(d,b,e):(d.removeEventListener(a,c,!0),N.remove(d,b))}}});var jb=a.location,kb=n.now(),lb=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};var mb=/#.*$/,nb=/([?&])_=[^&]*/,ob=/^(.*?):[ \t]*([^\r\n]*)$/gm,pb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qb=/^(?:GET|HEAD)$/,rb=/^\/\//,sb={},tb={},ub="*/".concat("*"),vb=d.createElement("a");vb.href=jb.href,n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jb.href,type:"GET",isLocal:pb.test(jb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ub,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?yb(yb(a,n.ajaxSettings),b):yb(n.ajaxSettings,a)},ajaxPrefilter:wb(sb),ajaxTransport:wb(tb),ajax:function(b,c){function z(b,c,d,h){var j,l,t,u,w,y=c;2!==v&&(v=2,i&&a.clearTimeout(i),e=void 0,g=h||"",x.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(u=zb(m,x,d)),u=Ab(m,u,x,j),j?(m.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(n.lastModified[f]=w),w=x.getResponseHeader("etag"),w&&(n.etag[f]=w)),204===b||"HEAD"===m.type?y="nocontent":304===b?y="notmodified":(y=u.state,l=u.data,t=u.error,j=!t)):(t=y,!b&&y||(y="error",0>b&&(b=0))),x.status=b,x.statusText=(c||y)+"",j?q.resolveWith(o,[l,y,x]):q.rejectWith(o,[x,y,t]),x.statusCode(s),s=void 0,k&&p.trigger(j?"ajaxSuccess":"ajaxError",[x,m,j?l:t]),r.fireWith(o,[x,y]),k&&(p.trigger("ajaxComplete",[x,m]),--n.active||n.event.trigger("ajaxStop")))}"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=n.ajaxSetup({},c),o=m.context||m,p=m.context&&(o.nodeType||o.jquery)?n(o):n.event,q=n.Deferred(),r=n.Callbacks("once memory"),s=m.statusCode||{},t={},u={},v=0,w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(2===v){if(!h)for(h={};b=ob.exec(g);)h[b[1].toLowerCase()]=b[2];b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===v?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return v||(a=u[c]=u[c]||a,t[a]=b),this},overrideMimeType:function(a){return v||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>v)for(b in a)s[b]=[s[b],a[b]];else x.always(a[x.status]);return this},abort:function(a){var b=a||w;return e&&e.abort(b),z(0,b),this}};if(q.promise(x).complete=r.add,x.success=x.done,x.error=x.fail,m.url=((b||m.url||jb.href)+"").replace(mb,"").replace(rb,jb.protocol+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=n.trim(m.dataType||"*").toLowerCase().match(G)||[""],null==m.crossDomain){j=d.createElement("a");try{j.href=m.url,j.href=j.href,m.crossDomain=vb.protocol+"//"+vb.host!=j.protocol+"//"+j.host}catch(y){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=n.param(m.data,m.traditional)),xb(sb,m,c,x),2===v)return x;k=n.event&&m.global,k&&0===n.active++&&n.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!qb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(lb.test(f)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=nb.test(f)?f.replace(nb,"$1_="+kb++):f+(lb.test(f)?"&":"?")+"_="+kb++)),m.ifModified&&(n.lastModified[f]&&x.setRequestHeader("If-Modified-Since",n.lastModified[f]),n.etag[f]&&x.setRequestHeader("If-None-Match",n.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+ub+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)x.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(o,x,m)===!1||2===v))return x.abort();w="abort";for(l in{success:1,error:1,complete:1})x[l](m[l]);if(e=xb(tb,m,c,x)){if(x.readyState=1,k&&p.trigger("ajaxSend",[x,m]),2===v)return x;m.async&&m.timeout>0&&(i=a.setTimeout(function(){x.abort("timeout")},m.timeout));try{v=1,e.send(t,z)}catch(y){if(!(2>v))throw y;z(-1,y)}}else z(-1,"No Transport");return x},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return!n.expr.filters.visible(a)},n.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Bb=/%20/g,Cb=/\[\]$/,Db=/\r?\n/g,Eb=/^(?:submit|button|image|reset|file)$/i,Fb=/^(?:input|select|textarea|keygen)/i;n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Gb(c,a[c],b,e);return d.join("&").replace(Bb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Fb.test(this.nodeName)&&!Eb.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Db,"\r\n")}}):{name:b.name,value:c.replace(Db,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Hb={0:200,1223:204},Ib=n.ajaxSettings.xhr();l.cors=!!Ib&&"withCredentials"in Ib,l.ajax=Ib=!!Ib,n.ajaxTransport(function(b){var c,d;return l.cors||Ib&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Hb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=n("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Jb=[],Kb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Jb.pop()||n.expando+"_"+kb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Kb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Kb,"$1"+e):b.jsonp!==!1&&(b.url+=(lb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Jb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||d;var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ca([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var Lb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Lb)return Lb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length},n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;return f?(b=f.documentElement,n.contains(b,d)?(e=d.getBoundingClientRect(),c=Mb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e):void 0},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===n.css(a,"position");)a=a.offsetParent;return a||Ea})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;n.fn[a]=function(d){return K(this,function(a,d,e){var f=Mb(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Ga(l.pixelPosition,function(a,c){return c?(c=Fa(a,b),Ba.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return K(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},size:function(){return this.length}}),n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Nb=a.jQuery,Ob=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Ob),b&&a.jQuery===n&&(a.jQuery=Nb),n},b||(a.jQuery=a.$=n),n}),function(){function parse(str){return parseUntil(str+"</root>",["root"]).nodes}function Node(kind,data){return data.type=kind,data}function parseUntil(str,stack){for(var nodes=[];str.length;){var nextTag=str.indexOf(tagStart);if(~nextTag)if(nextTag)nodes.push(Node("Text",{content:str.slice(0,nextTag)})),str=str.slice(nextTag);else if(startsWithCommentStart(str)){var end=str.indexOf(commentEnd);nodes.push(Node("Comment",{content:str.slice(commentStart.length,end)})),str=str.slice(end+commentEnd.length)}else if("/"!==str.charAt(nextTag+1)){var results=parseTag(str,stack);if(results.tag&&(nodes.push(Node("Element",results.tag)),str=results.str),results.stack.length!==stack.length){stack=results.stack;break}}else{var endTagEnd=str.indexOf(tagEnd),tagName=str.slice(2,endTagEnd).trim().split(" ")[0];str=str.slice(endTagEnd+1);var loc=stack.lastIndexOf(tagName);if(~loc){stack=stack.slice(0,loc);break}}else nodes.push(Node("Text",{content:str})),str=""}return{nodes:nodes,stack:stack,str:str}}function parseTag(str,stack){var idxTagEnd=str.indexOf(tagEnd),idxSpace=str.indexOf(" "),tagNameEnd=~idxSpace?Math.min(idxTagEnd,idxSpace):idxTagEnd,tagName=str.slice(1,tagNameEnd),lowTagName=tagName.toLowerCase();if(stack[stack.length-1]===tagName&&~closingTags.indexOf(lowTagName))return{stack:stack.slice(0,-1)};var attrs=parseAttrs(str.slice(tagNameEnd)),tag={tagName:tagName,attributes:attrs.attributes};if(str=attrs.str,startsWithSelfClose(str))str=str.slice(2);else if(str=str.slice(1),~childlessTags.indexOf(lowTagName)){var end="</"+tagName+">",idx=str.indexOf(end);~idx||(idx=1/0),tag.content=str.slice(0,idx),str=str.slice(idx)}else if(!~voidTags.indexOf(lowTagName)){var results=parseUntil(str,stack.concat(tagName));tag.children=results.nodes,str=results.str,stack=results.stack}return{tag:tag,str:str,stack:stack}}function parseAttrs(str){str=str.trim();var results=tagPairs(str,0);str=str.slice(results.cursor);var attributes=results.kvs.map(function(pair){var kv=splitHead(pair.trim(),"=");return kv[1]=kv[1]?unquote(kv[1]):kv[0],kv}).reduce(function(attrs,kv){var property=kv[0],value=kv[1];if("class"===property)attrs.className=value.split(" ");else if("style"===property)attrs.style=parseStyle(value);else if(startsWithDataDash(property)){attrs.dataset=attrs.dataset||{};var key=camelCase(property.slice(5));attrs.dataset[key]=castValue(value)}else attrs[camelCase(property)]=castValue(value);return attrs},{});return{str:str,attributes:attributes}}function splitHead(str,sep){var idx=str.indexOf(sep);return~idx?[str.slice(0,idx),str.slice(idx+sep.length)]:[str]}function tagPairs(str,index){for(var words=[],quote=null,cursor=index,wordBegin=cursor,len=str.length;len>cursor;){var char=str.charAt(cursor),isTagEnd=!quote&&("/"===char||char===tagEnd);if(isTagEnd){cursor!==wordBegin&&words.push(str.slice(wordBegin,cursor));break}var isWordEnd=!quote&&" "===char;if(isWordEnd)cursor!==wordBegin&&words.push(str.slice(wordBegin,cursor)),wordBegin=cursor+1,cursor++;else{var isQuoteEnd=char===quote;if(isQuoteEnd)quote=null,cursor++;else{var isQuoteStart=!quote&&("'"===char||'"'===char);isQuoteStart?(quote=char,cursor++):cursor++}}}for(var attrs=[],wLen=words.length,i=0;wLen>i;i++){var word=words[i];if(word&&word.length){var isNotPair=-1===word.indexOf("=");if(isNotPair){var secondWord=words[i+1],thirdWord=words[i+2],isSpacedPair="="===secondWord&&thirdWord;if(isSpacedPair){var newWord=word+"="+thirdWord;attrs.push(newWord),i+=2;continue}}attrs.push(word)}}return{cursor:cursor,kvs:attrs}}function unquote(str){var car=str.charAt(0),end=str.length-1;return'"'===car||"'"===car&&car===str.charAt(end)?str.slice(1,end):str}function parseStyle(str){return str.trim().split(";").map(function(statement){return statement.trim().split(":")}).reduce(function(styles,kv){return kv[1]&&(styles[camelCase(kv[0].trim())]=castValue(kv[1].trim())),styles},{})}function camelCase(str){return str.split("-").reduce(function(str,word){return str+word.charAt(0).toUpperCase()+word.slice(1)})}function castValue(str){if("string"!=typeof str)return str;var num=+str;return isNaN(num)?str:num}function startsWithCommentStart(s){return"<"===s.charAt(0)&&"!"===s.charAt(1)&&"-"===s.charAt(2)&&"-"===s.charAt(3)}function startsWithSelfClose(s){return"/"===s.charAt(0)&&">"===s.charAt(1)}function startsWithDataDash(s){return"d"===s.charAt(0)&&"a"===s.charAt(1)&&"t"===s.charAt(2)&&"a"===s.charAt(3)&&"-"===s.charAt(4)}var root=this,tagStart="<",tagEnd=">",commentStart="<!--",commentEnd="-->",voidTags=["!doctype","area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],closingTags=["colgroup","dd","dt","li","options","p","td","tfoot","th","thead","tr"],childlessTags=["style","script","template"],himalaya={parse:parse,parseTag:parseTag,parseUntil:parseUntil,parseAttrs:parseAttrs,parseStyle:parseStyle};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=himalaya),exports.himalaya=himalaya):root.himalaya=himalaya}.call(this),!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Himalaytranslate=t()}(function(){return function o(a,u,f){function c(r,t){if(!u[r]){if(!a[r]){var n="function"==typeof require&&require;if(!t&&n)return n(r,!0);if(l)return l(r,!0);var e=new Error("Cannot find module '"+r+"'");throw e.code="MODULE_NOT_FOUND",e}var i=u[r]={exports:{}};a[r][0].call(i.exports,function(t){var n=a[r][1][t];return c(n||t)},i,i.exports,o,a,u,f)}return u[r].exports}for(var l="function"==typeof require&&require,t=0;t<f.length;t++)c(f[t]);return c}({1:[function(t,n,r){function c(t){if(!(this instanceof c))return new c(t);var n=this.walker=c.walker(t);this.map=c.map(n),this.filter=c.filter(n),this.where=c.where(n);for(var r,e=this.depthIterator=c.depthIterator(n),i=this.breadthIterator=c.breadthIterator(n),o=["forEach","find","findWhere","reduce","parent"],a=0;a<o.length;a++){var u=o[a],f=(r=u).charAt(0).toUpperCase()+r.slice(1);this["depth"+f]=c[u](e),this["breadth"+f]=c[u](i)}this.depthSiblings=c.siblings(n,e),this.breadthSiblings=c.siblings(n,i)}function l(t,n){for(var r=[],e=t(n),i=0;i<e.length;i++)r=r.concat(e[i][1]);return r}function h(t,n){var r={};for(var e in t)if(t.hasOwnProperty(e)&&!~n.indexOf(e)){var i=t[e];if("object"==typeof i){var o=e+".";r[e]=h(i,n.reduce(function(t,n){return n.indexOf(o)||t.push(n.slice(o.length)),t},[]))}else r[e]=i}return r}function o(t,n){for(var r=n.split("."),e=0;e<r.length;e++)if(!(t=t[r[e]]))return!1;return!0}function d(t,n,r){for(var e=n.split("."),i=e.length-1,o=0;i>o;o++)t=t[e[o]];t[e[i]]=r}function e(r){return function(t){for(var n in r)if(r.hasOwnProperty(n)&&r[n]!==t[n])return!1;return!0}}c.walker=function(i){var t=Array.isArray(i)?function(t,n){for(var r=0;r<i.length;r++){var e=i[r];o(t,e)&&n(e)}}:i;return function(r){var e=[];return t(r,function(t,n){void 0===n?e.push([t,function(t,n){for(var r=n.split("."),e=0;e<r.length;e++)t=t[r[e]];return t}(r,t)]):e.push([t,n])}),e}},c.map=function(l){return function(t,n){for(var r=l(t),e=[],i=0;i<r.length;i++)e.push(r[i][0]);var o=n(h(t,e));for(i=0;i<r.length;i++){var a,u=r[i][0],f=r[i][1];if(Array.isArray(f)){a=[];for(var c=0;c<f.length;c++)a.push(this.map(f[c],n))}else a=this.map(f,n);d(o,u,a)}return o}},c.filter=function(p){return function t(n,r){if(r(n)){for(var e=p(n),i=[],o=0;o<e.length;o++)i.push(e[o][0]);var a=h(n,i);for(o=0;o<e.length;o++){var u=null,f=e[o][0],c=e[o][1];if(Array.isArray(c)){u=[];for(var l=0;l<c.length;l++){var s=c[l];t(s,r)&&u.push(s)}}else t(c,r)&&(u=c);d(a,f,u)}return a}}},c.where=function(r){return function(t,n){return c.filter(r)(t,e(n))}},c.depthIterator=function(c){return function(t){function f(t,n){return t[t.length-1-n]}var a=[[t]],u=[0];return{next:function t(){if(!u.length)return{done:!0};var n=f(a,0),r=f(u,0);if(r<n.length){u[u.length-1]++;var e=f(a,1),i=e?e[f(u,1)-1]:void 0,o=l(c,n[r]);return o.length&&(a.push(o),u.push(0)),{done:!1,value:n[r],parent:i}}return a.pop(),u.pop(),t()}}}},c.breadthIterator=function(u){return function(t){var n=void 0,r=[],e=0,i=[t],o=0,a=[t];return{next:function t(){return o<i.length?{done:!1,value:i[o++],parent:n}:e<r.length?(n=r[e++],i=l(u,n),o=0,a=a.concat(i),t()):a.length?(r=a,e=0,a=[],t()):{done:!0}}}}},c.forEach=function(i){return function(t,n){for(var r,e=i(t);!(r=e.next()).done;)n(r.value,r.parent,t)}},c.find=function(i){return function(t,n){for(var r,e=i(t);!(r=e.next()).done;)if(n(r.value,r.parent,t))return r.value}},c.findWhere=function(r){return function(t,n){return c.find(r)(t,e(n))}},c.reduce=function(o){return function(t,n,r){for(var e,i=o(t);!(e=i.next()).done;)r=void 0===r?e.value:n(r,e.value,e.parent,t);return r}},c.parent=function(i){return function(t,n){if(n!==t)for(var r,e=i(t);!(r=e.next()).done;)if(r.value===n)return r.parent}},c.siblings=function(u,f){return function(t,n){var r=c.parent(f)(t,n);if(r)for(var e=u(r),i=0;i<e.length;i++){var o=e[i][1];if(Array.isArray(o)){var a=o.indexOf(n);if(~a)return{left:o.slice(0,a),right:o.slice(a+1)}}}}},c.walk=function(t,i){function o(t){var n=Array.prototype.slice.call(arguments,1);if(Array.isArray(t)){for(var r=[],e=0;e<t.length;e++)r.push(i.apply(null,[t[e],o].concat(n)));return r}return i.apply(null,[t,o].concat(n))}if(void 0===i)return i=t,o;var n=Array.prototype.slice.call(arguments,2);return o.apply(null,[t].concat(n))},n.exports=c},{}],2:[function(t,n,r){function p(t,n,r){if(!r&&t===n)return t;var e="string"==typeof n&&~n.indexOf('"')?'"':"'";return t+"="+e+n+e}function h(t){return t.trim().replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()}function d(r){return Object.keys(r).reduce(function(t,n){return t+"; "+h(n)+": "+r[n]},"").slice(2)}function g(n){function t(t){return~n.indexOf(t)}return t("Transitional")?"transitional":t("Strict")?"strict":t("Frameset")?"frameset":t("Basic")?"basic":t("1.1")?"1.1":t("Mobile")?"mobile":"html"}var i=t("paul"),s=["!doctype","area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],v="\n",e=function(t,n){function l(t){return!("Text"===t.type&&!t.content.trim())}var o,a,f=(n=n||{}).doctype,r=n.indentation||"  ",c=(a=~(o=r).indexOf("	")?function(t){return t}:function(t){return t.replace(/\t/g,o)},function(t,n,r){r=r||"";var e=t.split(v).map(a).filter(function(t){return!!t.trim()}),i=e.reduce(function(t,n){return Math.min(t,n.length-n.trimLeft().length)},1/0);return e.map(function(t){return function(t,n){for(;t--;)n=o+n;return n}(n,r+t.slice(i))}).join(v)});t.filter&&(t=t.filter(l));var e=i.walk(t,function(t,n,r){if("Text"===t.type)return c(t.content,r,"| ");if("Comment"===t.type)return~(a=t.content).indexOf(v)?c("//",r)+v+c(a,r+1):c("//"+a,r);var e=t.tagName;t.attributes.id&&(e+="#"+t.attributes.id),t.attributes.className&&(e+="."+t.attributes.className.join(".")),"div"===t.tagName&&3<e.length&&(e=e.slice(3)),e=c(e,r);var i=t.attributes,o=Object.keys(i).filter(function(t){return"className"!==t&&"id"!==t});o.length&&(e+="(",e+=o.map(function(t){var n=i[t];return"dataset"===t?Object.keys(n).map(function(t){return p("data-"+h(t),n[t],"xml"===f)}).join(", "):"style"===t?p(t,d(n)):p(h(t),n,"xml"===f)}).join(", "),e+=")");var a,u=t.tagName.toLowerCase();return~s.indexOf(u)?"!doctype"===u?(f||(f=g(e)),c("doctype "+f,r)):e:"string"==typeof t.content?t.content?e+"."+v+c(t.content,r+1):e:t.children.length?1===t.children.length&&"Text"===t.children[0].type?~(a=t.children[0].content).indexOf(v)?e+"."+v+c(a,r+1):e+" "+a:e+v+n(t.children.filter(l),r+1).join(v):e},0);return e.join&&(e=e.join(v)),e};n.exports={toHTML:function(t,n){var f=(n=n||{}).doctype,r=i.walk(t,function(t,n){if("Text"===t.type)return t.content;if("Comment"===t.type)return"<!--"+t.content+"-->";var r="<"+t.tagName,e=t.attributes;for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];if("dataset"===i)for(var a in o)o.hasOwnProperty(a)&&(r+=" "+p("data-"+h(a),o[a],"xml"===f));else r+="style"===i?" "+p(i,d(o)):"className"===i?" "+p("class",o.join(" ")):" "+p(h(i),o,"xml"===f)}var u=t.tagName.toLowerCase();return"xml"!==f&&~s.indexOf(u)?(f||"!doctype"!==u||(f=g(r)),r+">"):(r+=">")+("string"==typeof t.content?t.content:n(t.children||[]).join(""))+"</"+t.tagName+">"});return r.join&&(r=r.join("")),r},toJade:e,toPug:e}},{paul:1}]},{},[2])(2)}),function(C){"use strict";function re(a){return D(a)?(w(a.objectMaxDepth)&&(Wb.objectMaxDepth=Xb(a.objectMaxDepth)?a.objectMaxDepth:NaN),void(w(a.urlErrorParamsEnabled)&&Ga(a.urlErrorParamsEnabled)&&(Wb.urlErrorParamsEnabled=a.urlErrorParamsEnabled))):Wb}function Xb(a){return W(a)&&a>0}function F(a,b){return b=b||Error,function(){var c,d=arguments[0];for(c="["+(a?a+":":"")+d+"] http://errors.angularjs.org/1.7.8/"+(a?a+"/":"")+d,
d=1;d<arguments.length;d++){c=c+(1==d?"?":"&")+"p"+(d-1)+"=";var f,e=encodeURIComponent;f=arguments[d],f="function"==typeof f?f.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof f?"undefined":"string"!=typeof f?JSON.stringify(f):f,c+=e(f)}return new b(c)}}function ya(a){if(null==a||$a(a))return!1;if(H(a)||A(a)||x&&a instanceof x)return!0;var b="length"in Object(a)&&a.length;return W(b)&&(b>=0&&b-1 in a||"function"==typeof a.item)}function r(a,b,d){var c,e;if(a)if(B(a))for(c in a)"prototype"!==c&&"length"!==c&&"name"!==c&&a.hasOwnProperty(c)&&b.call(d,a[c],c,a);else if(H(a)||ya(a)){var f="object"!=typeof a;for(c=0,e=a.length;e>c;c++)(f||c in a)&&b.call(d,a[c],c,a)}else if(a.forEach&&a.forEach!==r)a.forEach(b,d,a);else if(Nc(a))for(c in a)b.call(d,a[c],c,a);else if("function"==typeof a.hasOwnProperty)for(c in a)a.hasOwnProperty(c)&&b.call(d,a[c],c,a);else for(c in a)ta.call(a,c)&&b.call(d,a[c],c,a);return a}function Oc(a,b,d){for(var c=Object.keys(a).sort(),e=0;e<c.length;e++)b.call(d,a[c[e]],c[e]);return c}function Yb(a){return function(b,d){a(d,b)}}function se(){return++pb}function Zb(a,b,d){for(var c=a.$$hashKey,e=0,f=b.length;f>e;++e){var g=b[e];if(D(g)||B(g))for(var k=Object.keys(g),h=0,l=k.length;l>h;h++){var m=k[h],p=g[m];d&&D(p)?ha(p)?a[m]=new Date(p.valueOf()):ab(p)?a[m]=new RegExp(p):p.nodeName?a[m]=p.cloneNode(!0):$b(p)?a[m]=p.clone():(D(a[m])||(a[m]=H(p)?[]:{}),Zb(a[m],[p],!0)):a[m]=p}}return c?a.$$hashKey=c:delete a.$$hashKey,a}function S(a){return Zb(a,Ha.call(arguments,1),!1)}function te(a){return Zb(a,Ha.call(arguments,1),!0)}function fa(a){return parseInt(a,10)}function ac(a,b){return S(Object.create(a),b)}function E(){}function Ta(a){return a}function ia(a){return function(){return a}}function bc(a){return B(a.toString)&&a.toString!==la}function z(a){return"undefined"==typeof a}function w(a){return"undefined"!=typeof a}function D(a){return null!==a&&"object"==typeof a}function Nc(a){return null!==a&&"object"==typeof a&&!Pc(a)}function A(a){return"string"==typeof a}function W(a){return"number"==typeof a}function ha(a){return"[object Date]"===la.call(a)}function H(a){return Array.isArray(a)||a instanceof Array}function cc(a){switch(la.call(a)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return a instanceof Error}}function B(a){return"function"==typeof a}function ab(a){return"[object RegExp]"===la.call(a)}function $a(a){return a&&a.window===a}function bb(a){return a&&a.$evalAsync&&a.$watch}function Ga(a){return"boolean"==typeof a}function ue(a){return a&&W(a.length)&&ve.test(la.call(a))}function $b(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function we(a){var b={};a=a.split(",");var d;for(d=0;d<a.length;d++)b[a[d]]=!0;return b}function ua(a){return K(a.nodeName||a[0]&&a[0].nodeName)}function cb(a,b){var d=a.indexOf(b);return d>=0&&a.splice(d,1),d}function Ia(a,b,d){function c(a,b,c){if(c--,0>c)return"...";var f,d=b.$$hashKey;if(H(a)){f=0;for(var g=a.length;g>f;f++)b.push(e(a[f],c))}else if(Nc(a))for(f in a)b[f]=e(a[f],c);else if(a&&"function"==typeof a.hasOwnProperty)for(f in a)a.hasOwnProperty(f)&&(b[f]=e(a[f],c));else for(f in a)ta.call(a,f)&&(b[f]=e(a[f],c));return d?b.$$hashKey=d:delete b.$$hashKey,b}function e(a,b){if(!D(a))return a;var d=g.indexOf(a);if(-1!==d)return k[d];if($a(a)||bb(a))throw pa("cpws");var d=!1,e=f(a);return void 0===e&&(e=H(a)?[]:Object.create(Pc(a)),d=!0),g.push(a),k.push(e),d?c(a,e,b):e}function f(a){switch(la.call(a)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new a.constructor(e(a.buffer),a.byteOffset,a.length);case"[object ArrayBuffer]":if(!a.slice){var b=new ArrayBuffer(a.byteLength);return new Uint8Array(b).set(new Uint8Array(a)),b}return a.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new a.constructor(a.valueOf());case"[object RegExp]":return b=new RegExp(a.source,a.toString().match(/[^/]*$/)[0]),b.lastIndex=a.lastIndex,b;case"[object Blob]":return new a.constructor([a],{type:a.type})}return B(a.cloneNode)?a.cloneNode(!0):void 0}var g=[],k=[];if(d=Xb(d)?d:NaN,b){if(ue(b)||"[object ArrayBuffer]"===la.call(b))throw pa("cpta");if(a===b)throw pa("cpi");return H(b)?b.length=0:r(b,function(a,c){"$$hashKey"!==c&&delete b[c]}),g.push(a),k.push(b),c(a,b,d)}return e(a,d)}function dc(a,b){return a===b||a!==a&&b!==b}function va(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var c,d=typeof a;if(d===typeof b&&"object"===d){if(!H(a)){if(ha(a))return ha(b)?dc(a.getTime(),b.getTime()):!1;if(ab(a))return ab(b)?a.toString()===b.toString():!1;if(bb(a)||bb(b)||$a(a)||$a(b)||H(b)||ha(b)||ab(b))return!1;d=T();for(c in a)if("$"!==c.charAt(0)&&!B(a[c])){if(!va(a[c],b[c]))return!1;d[c]=!0}for(c in b)if(!(c in d)&&"$"!==c.charAt(0)&&w(b[c])&&!B(b[c]))return!1;return!0}if(!H(b))return!1;if((d=a.length)===b.length){for(c=0;d>c;c++)if(!va(a[c],b[c]))return!1;return!0}}return!1}function db(a,b,d){return a.concat(Ha.call(b,d))}function Va(a,b){var d=2<arguments.length?Ha.call(arguments,2):[];return!B(b)||b instanceof RegExp?b:d.length?function(){return arguments.length?b.apply(a,db(d,arguments,0)):b.apply(a,d)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function Qc(a,b){var d=b;return"string"==typeof a&&"$"===a.charAt(0)&&"$"===a.charAt(1)?d=void 0:$a(b)?d="$WINDOW":b&&C.document===b?d="$DOCUMENT":bb(b)&&(d="$SCOPE"),d}function eb(a,b){return z(a)?void 0:(W(b)||(b=b?2:null),JSON.stringify(a,Qc,b))}function Rc(a){return A(a)?JSON.parse(a):a}function ec(a,b){a=a.replace(xe,"");var d=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return X(d)?b:d}function Sc(a,b){return a=new Date(a.getTime()),a.setMinutes(a.getMinutes()+b),a}function fc(a,b,d){d=d?-1:1;var c=a.getTimezoneOffset();return b=ec(b,c),Sc(a,d*(b-c))}function za(a){a=x(a).clone().empty();var b=x("<div></div>").append(a).html();try{return a[0].nodeType===Pa?K(b):b.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(a,b){return"<"+K(b)})}catch(d){return K(b)}}function Tc(a){try{return decodeURIComponent(a)}catch(b){}}function gc(a){var b={};return r((a||"").split("&"),function(a){var c,e,f;a&&(e=a=a.replace(/\+/g,"%20"),c=a.indexOf("="),-1!==c&&(e=a.substring(0,c),f=a.substring(c+1)),e=Tc(e),w(e)&&(f=w(f)?Tc(f):!0,ta.call(b,e)?H(b[e])?b[e].push(f):b[e]=[b[e],f]:b[e]=f))}),b}function ye(a){var b=[];return r(a,function(a,c){H(a)?r(a,function(a){b.push(ba(c,!0)+(!0===a?"":"="+ba(a,!0)))}):b.push(ba(c,!0)+(!0===a?"":"="+ba(a,!0)))}),b.length?b.join("&"):""}function hc(a){return ba(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ba(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function ze(a,b){var d,c,e=Qa.length;for(c=0;e>c;++c)if(d=Qa[c]+b,A(d=a.getAttribute(d)))return d;return null}function Ae(a,b){var d,c,e={};r(Qa,function(b){b+="app",!d&&a.hasAttribute&&a.hasAttribute(b)&&(d=a,c=a.getAttribute(b))}),r(Qa,function(b){b+="app";var e;!d&&(e=a.querySelector("["+b.replace(":","\\:")+"]"))&&(d=e,c=e.getAttribute(b))}),d&&(Be?(e.strictDi=null!==ze(d,"strict-di"),b(d,c?[c]:[],e)):C.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match."))}function Uc(a,b,d){D(d)||(d={}),d=S({strictDi:!1},d);var c=function(){if(a=x(a),a.injector()){var c=a[0]===C.document?"document":za(a);throw pa("btstrpd",c.replace(/</,"&lt;").replace(/>/,"&gt;"))}return b=b||[],b.unshift(["$provide",function(b){b.value("$rootElement",a)}]),d.debugInfoEnabled&&b.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]),b.unshift("ng"),c=fb(b,d.strictDi),c.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),c},e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;return C&&e.test(C.name)&&(d.debugInfoEnabled=!0,C.name=C.name.replace(e,"")),C&&!f.test(C.name)?c():(C.name=C.name.replace(f,""),ca.resumeBootstrap=function(a){return r(a,function(a){b.push(a)}),c()},void(B(ca.resumeDeferredBootstrap)&&ca.resumeDeferredBootstrap()))}function Ce(){C.name="NG_ENABLE_DEBUG_INFO!"+C.name,C.location.reload()}function De(a){if(a=ca.element(a).injector(),!a)throw pa("test");return a.get("$$testability")}function Vc(a,b){return b=b||"_",a.replace(Ee,function(a,c){return(c?b:"")+a.toLowerCase()})}function Fe(){var a;if(!Wc){var b=qb();(rb=z(b)?C.jQuery:b?C[b]:void 0)&&rb.fn.on?(x=rb,S(rb.fn,{scope:Wa.scope,isolateScope:Wa.isolateScope,controller:Wa.controller,injector:Wa.injector,inheritedData:Wa.inheritedData})):x=Y,a=x.cleanData,x.cleanData=function(b){for(var c,f,e=0;null!=(f=b[e]);e++)(c=(x._data(f)||{}).events)&&c.$destroy&&x(f).triggerHandler("$destroy");a(b)},ca.element=x,Wc=!0}}function gb(a,b,d){if(!a)throw pa("areq",b||"?",d||"required");return a}function sb(a,b,d){return d&&H(a)&&(a=a[a.length-1]),gb(B(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function Ja(a,b){if("hasOwnProperty"===a)throw pa("badname",b)}function Ge(a,b,d){if(!b)return a;b=b.split(".");for(var c,e=a,f=b.length,g=0;f>g;g++)c=b[g],a&&(a=(e=a)[c]);return!d&&B(a)?Va(e,a):a}function tb(a){for(var c,b=a[0],d=a[a.length-1],e=1;b!==d&&(b=b.nextSibling);e++)(c||a[e]!==b)&&(c||(c=x(Ha.call(a,0,e))),c.push(b));return c||a}function T(){return Object.create(null)}function ic(a){if(null==a)return"";switch(typeof a){case"string":break;case"number":a=""+a;break;default:a=!bc(a)||H(a)||ha(a)?eb(a):a.toString()}return a}function He(a){function b(a,b,c){return a[b]||(a[b]=c())}var d=F("$injector"),c=F("ng");return a=b(a,"angular",Object),a.$$minErr=a.$$minErr||F,b(a,"module",function(){var a={};return function(f,g,k){var h={};if("hasOwnProperty"===f)throw c("badname","module");return g&&a.hasOwnProperty(f)&&(a[f]=null),b(a,f,function(){function a(b,c,d,f){return f||(f=e),function(){return f[d||"push"]([b,c,arguments]),t}}function b(a,c,d){return d||(d=e),function(b,e){return e&&B(e)&&(e.$$moduleName=f),d.push([a,c,arguments]),t}}if(!g)throw d("nomod",f);var e=[],n=[],s=[],G=a("$injector","invoke","push",n),t={_invokeQueue:e,_configBlocks:n,_runBlocks:s,info:function(a){if(w(a)){if(!D(a))throw c("aobj","value");return h=a,this}return h},requires:g,name:f,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:b("$provide","decorator",n),animation:b("$animateProvider","register"),filter:b("$filterProvider","register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),component:b("$compileProvider","component"),config:G,run:function(a){return s.push(a),this}};return k&&G(k),t})}})}function ja(a,b){if(H(a)){b=b||[];for(var d=0,c=a.length;c>d;d++)b[d]=a[d]}else if(D(a))for(d in b=b||{},a)("$"!==d.charAt(0)||"$"!==d.charAt(1))&&(b[d]=a[d]);return b||a}function Ie(a,b){var d=[];return Xb(b)&&(a=ca.copy(a,null,b)),JSON.stringify(a,function(a,b){if(b=Qc(a,b),D(b)){if(0<=d.indexOf(b))return"...";d.push(b)}return b})}function Je(a){S(a,{errorHandlingConfig:re,bootstrap:Uc,copy:Ia,extend:S,merge:te,equals:va,element:x,forEach:r,injector:fb,noop:E,bind:Va,toJson:eb,fromJson:Rc,identity:Ta,isUndefined:z,isDefined:w,isString:A,isFunction:B,isObject:D,isNumber:W,isElement:$b,isArray:H,version:Ke,isDate:ha,callbacks:{$$counter:0},getTestability:De,reloadWithDebugInfo:Ce,$$minErr:F,$$csp:Aa,$$encodeUriSegment:hc,$$encodeUriQuery:ba,$$lowercase:K,$$stringify:ic,$$uppercase:ub}),kc=He(C),kc("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:Le}),a.provider("$compile",Xc).directive({a:Me,input:Yc,textarea:Yc,form:Ne,script:Oe,select:Pe,option:Qe,ngBind:Re,ngBindHtml:Se,ngBindTemplate:Te,ngClass:Ue,ngClassEven:Ve,ngClassOdd:We,ngCloak:Xe,ngController:Ye,ngForm:Ze,ngHide:$e,ngIf:af,ngInclude:bf,ngInit:cf,ngNonBindable:df,ngPluralize:ef,ngRef:ff,ngRepeat:gf,ngShow:hf,ngStyle:jf,ngSwitch:kf,ngSwitchWhen:lf,ngSwitchDefault:mf,ngOptions:nf,ngTransclude:of,ngModel:pf,ngList:qf,ngChange:rf,pattern:Zc,ngPattern:Zc,required:$c,ngRequired:$c,minlength:ad,ngMinlength:ad,maxlength:bd,ngMaxlength:bd,ngValue:sf,ngModelOptions:tf}).directive({ngInclude:uf,input:vf}).directive(vb).directive(cd),a.provider({$anchorScroll:wf,$animate:xf,$animateCss:yf,$$animateJs:zf,$$animateQueue:Af,$$AnimateRunner:Bf,$$animateAsyncRun:Cf,$browser:Df,$cacheFactory:Ef,$controller:Ff,$document:Gf,$$isDocumentHidden:Hf,$exceptionHandler:If,$filter:dd,$$forceReflow:Jf,$interpolate:Kf,$interval:Lf,$$intervalFactory:Mf,$http:Nf,$httpParamSerializer:Of,$httpParamSerializerJQLike:Pf,$httpBackend:Qf,$xhrFactory:Rf,$jsonpCallbacks:Sf,$location:Tf,$log:Uf,$parse:Vf,$rootScope:Wf,$q:Xf,$$q:Yf,$sce:Zf,$sceDelegate:$f,$sniffer:ag,$$taskTrackerFactory:bg,$templateCache:cg,$templateRequest:dg,$$testability:eg,$timeout:fg,$window:gg,$$rAF:hg,$$jqLite:ig,$$Map:jg,$$cookieReader:kg})}]).info({angularVersion:"1.7.8"})}function wb(a,b){return b.toUpperCase()}function xb(a){return a.replace(lg,wb)}function lc(a){return a=a.nodeType,1===a||!a||9===a}function ed(a,b){var d,c,e=b.createDocumentFragment(),f=[];if(mc.test(a)){for(d=e.appendChild(b.createElement("div")),c=(mg.exec(a)||["",""])[1].toLowerCase(),c=oa[c]||oa._default,d.innerHTML=c[1]+a.replace(ng,"<$1></$2>")+c[2],c=c[0];c--;)d=d.lastChild;f=db(f,d.childNodes),d=e.firstChild,d.textContent=""}else f.push(b.createTextNode(a));return e.textContent="",e.innerHTML="",r(f,function(a){e.appendChild(a)}),e}function Y(a){if(a instanceof Y)return a;var b;if(A(a)&&(a=U(a),b=!0),!(this instanceof Y)){if(b&&"<"!==a.charAt(0))throw nc("nosel");return new Y(a)}if(b){b=C.document;var d;a=(d=og.exec(a))?[b.createElement(d[1])]:(d=ed(a,b))?d.childNodes:[],oc(this,a)}else B(a)?fd(a):oc(this,a)}function pc(a){return a.cloneNode(!0)}function yb(a,b){!b&&lc(a)&&x.cleanData([a]),a.querySelectorAll&&x.cleanData(a.querySelectorAll("*"))}function gd(a){for(var b in a)return!1;return!0}function hd(a){var b=a.ng339,d=b&&Ka[b],c=d&&d.events,d=d&&d.data;d&&!gd(d)||c&&!gd(c)||(delete Ka[b],a.ng339=void 0)}function id(a,b,d,c){if(w(c))throw nc("offargs");var e=(c=zb(a))&&c.events,f=c&&c.handle;if(f){if(b){var g=function(b){var c=e[b];w(d)&&cb(c||[],d),w(d)&&c&&0<c.length||(a.removeEventListener(b,f),delete e[b])};r(b.split(" "),function(a){g(a),Ab[a]&&g(Ab[a])})}else for(b in e)"$destroy"!==b&&a.removeEventListener(b,f),delete e[b];hd(a)}}function qc(a,b){var d=a.ng339;(d=d&&Ka[d])&&(b?delete d.data[b]:d.data={},hd(a))}function zb(a,b){var d=a.ng339,d=d&&Ka[d];return b&&!d&&(a.ng339=d=++pg,d=Ka[d]={events:{},data:{},handle:void 0}),d}function rc(a,b,d){if(lc(a)){var c,e=w(d),f=!e&&b&&!D(b),g=!b;if(a=(a=zb(a,!f))&&a.data,e)a[xb(b)]=d;else{if(g)return a;if(f)return a&&a[xb(b)];for(c in b)a[xb(c)]=b[c]}}}function Bb(a,b){return a.getAttribute?-1<(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" "):!1}function Cb(a,b){if(b&&a.setAttribute){var d=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),c=d;r(b.split(" "),function(a){a=U(a),c=c.replace(" "+a+" "," ")}),c!==d&&a.setAttribute("class",U(c))}}function Db(a,b){if(b&&a.setAttribute){var d=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),c=d;r(b.split(" "),function(a){a=U(a),-1===c.indexOf(" "+a+" ")&&(c+=a+" ")}),c!==d&&a.setAttribute("class",U(c))}}function oc(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var d=b.length;if("number"==typeof d&&b.window!==b){if(d)for(var c=0;d>c;c++)a[a.length++]=b[c]}else a[a.length++]=b}}function jd(a,b){return Eb(a,"$"+(b||"ngController")+"Controller")}function Eb(a,b,d){for(9===a.nodeType&&(a=a.documentElement),b=H(b)?b:[b];a;){for(var c=0,e=b.length;e>c;c++)if(w(d=x.data(a,b[c])))return d;a=a.parentNode||11===a.nodeType&&a.host}}function kd(a){for(yb(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Fb(a,b){b||yb(a);var d=a.parentNode;d&&d.removeChild(a)}function qg(a,b){b=b||C,"complete"===b.document.readyState?b.setTimeout(a):x(b).on("load",a)}function fd(a){function b(){C.document.removeEventListener("DOMContentLoaded",b),C.removeEventListener("load",b),a()}"complete"===C.document.readyState?C.setTimeout(a):(C.document.addEventListener("DOMContentLoaded",b),C.addEventListener("load",b))}function ld(a,b){var d=Gb[b.toLowerCase()];return d&&md[ua(a)]&&d}function rg(a,b){var d=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var f=b[d||c.type],g=f?f.length:0;if(g){if(z(c.immediatePropagationStopped)){var k=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0,c.stopPropagation&&c.stopPropagation(),k&&k.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped};var h=f.specialHandlerWrapper||sg;g>1&&(f=ja(f));for(var l=0;g>l;l++)c.isImmediatePropagationStopped()||h(a,c,f[l])}};return d.elem=a,d}function sg(a,b,d){d.call(a,b)}function tg(a,b,d){var c=b.relatedTarget;c&&(c===a||ug.call(a,c))||d.call(a,b)}function ig(){this.$get=function(){return S(Y,{hasClass:function(a,b){return a.attr&&(a=a[0]),Bb(a,b)},addClass:function(a,b){return a.attr&&(a=a[0]),Db(a,b)},removeClass:function(a,b){return a.attr&&(a=a[0]),Cb(a,b)}})}}function La(a,b){var d=a&&a.$$hashKey;return d?("function"==typeof d&&(d=a.$$hashKey()),d):(d=typeof a,d="function"===d||"object"===d&&null!==a?a.$$hashKey=d+":"+(b||se)():d+":"+a)}function nd(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function od(a){return a=Function.prototype.toString.call(a).replace(vg,""),a.match(wg)||a.match(xg)}function yg(a){return(a=od(a))?"function("+(a[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function fb(a,b){function d(a){return function(b,c){return D(b)?void r(b,Yb(a)):a(b,c)}}function c(a,b){if(Ja(a,"service"),(B(b)||H(b))&&(b=n.instantiate(b)),!b.$get)throw Ba("pget",a);return p[a+"Provider"]=b}function e(a,b){return function(){var c=t.invoke(b,this);if(z(c))throw Ba("undef",a);return c}}function f(a,b,d){return c(a,{$get:!1!==d?e(a,b):b})}function g(a){gb(z(a)||H(a),"modulesToLoad","not an array");var c,b=[];return r(a,function(a){function d(a){var b,c;for(b=0,c=a.length;c>b;b++){var e=a[b],f=n.get(e[0]);f[e[1]].apply(f,e[2])}}if(!m.get(a)){m.set(a,!0);try{A(a)?(c=kc(a),t.modules[a]=c,b=b.concat(g(c.requires)).concat(c._runBlocks),d(c._invokeQueue),d(c._configBlocks)):B(a)?b.push(n.invoke(a)):H(a)?b.push(n.invoke(a)):sb(a,"module")}catch(e){throw H(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Ba("modulerr",a,e.stack||e.message||e)}}}),b}function k(a,c){function d(b,e){if(a.hasOwnProperty(b)){if(a[b]===h)throw Ba("cdep",b+" <- "+l.join(" <- "));return a[b]}try{return l.unshift(b),a[b]=h,a[b]=c(b,e),a[b]}catch(f){throw a[b]===h&&delete a[b],f}finally{l.shift()}}function e(a,c,f){var g=[];a=fb.$$annotate(a,b,f);for(var h=0,k=a.length;k>h;h++){var l=a[h];if("string"!=typeof l)throw Ba("itkn",l);g.push(c&&c.hasOwnProperty(l)?c[l]:d(l,f))}return g}return{invoke:function(a,b,c,d){if("string"==typeof c&&(d=c,c=null),c=e(a,c,d),H(a)&&(a=a[a.length-1]),d=a,Ca||"function"!=typeof d)d=!1;else{var f=d.$$ngIsClass;Ga(f)||(f=d.$$ngIsClass=/^class\b/.test(Function.prototype.toString.call(d))),d=f}return d?(c.unshift(null),new(Function.prototype.bind.apply(a,c))):a.apply(b,c)},instantiate:function(a,b,c){var d=H(a)?a[a.length-1]:a;return a=e(a,b,c),a.unshift(null),new(Function.prototype.bind.apply(d,a))},get:d,annotate:fb.$$annotate,has:function(b){return p.hasOwnProperty(b+"Provider")||a.hasOwnProperty(b)}}}b=!0===b;var h={},l=[],m=new Hb,p={$provide:{provider:d(c),factory:d(f),service:d(function(a,b){return f(a,["$injector",function(a){return a.instantiate(b)}])}),value:d(function(a,b){return f(a,ia(b),!1)}),constant:d(function(a,b){Ja(a,"constant"),p[a]=b,s[a]=b}),decorator:function(a,b){var c=n.get(a+"Provider"),d=c.$get;c.$get=function(){var a=t.invoke(d,c);return t.invoke(b,null,{$delegate:a})}}}},n=p.$injector=k(p,function(a,b){throw ca.isString(b)&&l.push(b),Ba("unpr",l.join(" <- "))}),s={},G=k(s,function(a,b){var c=n.get(a+"Provider",b);return t.invoke(c.$get,c,void 0,a)}),t=G;p.$injectorProvider={$get:ia(G)},t.modules=n.modules=T();var N=g(a),t=G.get("$injector");return t.strictDi=b,r(N,function(a){a&&t.invoke(a)}),t.loadNewModules=function(a){r(g(a),function(a){a&&t.invoke(a)})},t}function wf(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,d,c){function e(a){var b=null;return Array.prototype.some.call(a,function(a){return"a"===ua(a)?(b=a,!0):void 0}),b}function f(a){if(a){a.scrollIntoView();var c;c=g.yOffset,B(c)?c=c():$b(c)?(c=c[0],c="fixed"!==b.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):W(c)||(c=0),c&&(a=a.getBoundingClientRect().top,b.scrollBy(0,a-c))}else b.scrollTo(0,0)}function g(a){a=A(a)?a:W(a)?a.toString():d.hash();var b;a?(b=k.getElementById(a))?f(b):(b=e(k.getElementsByName(a)))?f(b):"top"===a&&f(null):f(null)}var k=b.document;return a&&c.$watch(function(){return d.hash()},function(a,b){a===b&&""===a||qg(function(){c.$evalAsync(g)})}),g}]}function hb(a,b){return a||b?a?b?(H(a)&&(a=a.join(" ")),H(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function zg(a){A(a)&&(a=a.split(" "));var b=T();return r(a,function(a){a.length&&(b[a]=!0)}),b}function ra(a){return D(a)?a:{}}function Ag(a,b,d,c,e){function f(){qa=null,k()}function g(){t=y(),t=z(t)?null:t,va(t,P)&&(t=P),N=P=t}function k(){var a=N;g(),(v!==h.url()||a!==t)&&(v=h.url(),N=t,r(J,function(a){a(h.url(),t)}))}var h=this,l=a.location,m=a.history,p=a.setTimeout,n=a.clearTimeout,s={},G=e(d);h.isMock=!1,h.$$completeOutstandingRequest=G.completeTask,h.$$incOutstandingRequestCount=G.incTaskCount,h.notifyWhenNoOutstandingRequests=G.notifyWhenNoPendingTasks;var t,N,v=l.href,jc=b.find("base"),qa=null,y=c.history?function(){try{return m.state}catch(a){}}:E;g(),h.url=function(b,d,e){if(z(e)&&(e=null),l!==a.location&&(l=a.location),m!==a.history&&(m=a.history),b){var f=N===e;if(b=ga(b).href,v===b&&(!c.history||f))return h;var k=v&&Da(v)===Da(b);return v=b,N=e,!c.history||k&&f?(k||(qa=b),d?l.replace(b):k?(d=l,e=b,f=e.indexOf("#"),e=-1===f?"":e.substr(f),d.hash=e):l.href=b,l.href!==b&&(qa=b)):(m[d?"replaceState":"pushState"](e,"",b),g()),qa&&(qa=b),h}return(qa||l.href).replace(/#$/,"")},h.state=function(){return t};var J=[],I=!1,P=null;h.onUrlChange=function(b){return I||(c.history&&x(a).on("popstate",f),x(a).on("hashchange",f),I=!0),J.push(b),b},h.$$applicationDestroyed=function(){x(a).off("hashchange popstate",f)},h.$$checkUrlChange=k,h.baseHref=function(){var a=jc.attr("href");return a?a.replace(/^(https?:)?\/\/[^/]*/,""):""},h.defer=function(a,b,c){var d;return b=b||0,c=c||G.DEFAULT_TASK_TYPE,G.incTaskCount(c),d=p(function(){delete s[d],G.completeTask(a,c)},b),s[d]=c,d},h.defer.cancel=function(a){if(s.hasOwnProperty(a)){var b=s[a];return delete s[a],n(a),G.completeTask(E,b),!0}return!1}}function Df(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(a,b,d,c,e){return new Ag(a,c,b,d,e)}]}function Ef(){this.$get=function(){function a(a,c){function e(a){a!==p&&(n?n===a&&(n=a.n):n=a,f(a.n,a.p),f(a,p),p=a,p.n=null)}function f(a,b){a!==b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw F("$cacheFactory")("iid",a);var g=0,k=S({},c,{id:a}),h=T(),l=c&&c.capacity||Number.MAX_VALUE,m=T(),p=null,n=null;return b[a]={put:function(a,b){if(!z(b)){if(l<Number.MAX_VALUE){var c=m[a]||(m[a]={key:a});e(c)}return a in h||g++,h[a]=b,g>l&&this.remove(n.key),b}},get:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;e(b)}return h[a]},remove:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;b===p&&(p=b.p),b===n&&(n=b.n),f(b.n,b.p),delete m[a]}a in h&&(delete h[a],g--)},removeAll:function(){h=T(),g=0,m=T(),p=n=null},destroy:function(){m=k=h=null,delete b[a]},info:function(){return S({},k,{size:g})}}}var b={};return a.info=function(){var a={};return r(b,function(b,e){a[e]=b.info()}),a},a.get=function(a){return b[a]},a}}function cg(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function Xc(a,b){function d(a,b,c){var d=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/,e=T();return r(a,function(a,f){if(a=a.trim(),a in p)e[f]=p[a];else{var g=a.match(d);if(!g)throw $("iscp",b,f,a,c?"controller bindings definition":"isolate scope definition");e[f]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||f},g[4]&&(p[a]=e[f])}}),e}function c(a){var b=a.charAt(0);if(!b||b!==K(b))throw $("baddir",a);if(a!==a.trim())throw $("baddir",a)}function e(a){var b=a.require||a.controller&&a.name;return!H(b)&&D(b)&&r(b,function(a,c){var d=a.match(l);a.substring(d[0].length)||(b[c]=d[0]+c)}),b}var f={},g=/^\s*directive:\s*([\w-]+)\s+(.*)$/,k=/(([\w-]+)(?::([^;]+))?;?)/,h=we("ngSrc,ngSrcset,src,srcset"),l=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,m=/^(on[a-z]+|formaction)$/,p=T();this.directive=function qa(b,d){return gb(b,"name"),Ja(b,"directive"),A(b)?(c(b),gb(d,"directiveFactory"),f.hasOwnProperty(b)||(f[b]=[],a.factory(b+"Directive",["$injector","$exceptionHandler",function(a,c){var d=[];return r(f[b],function(f,g){try{var h=a.invoke(f);B(h)?h={compile:ia(h)}:!h.compile&&h.link&&(h.compile=ia(h.link)),h.priority=h.priority||0,h.index=g,h.name=h.name||b,h.require=e(h);var k=h,l=h.restrict;if(l&&(!A(l)||!/[EACM]/.test(l)))throw $("badrestrict",l,b);k.restrict=l||"EA",h.$$moduleName=f.$$moduleName,d.push(h)}catch(m){c(m)}}),d}])),f[b].push(d)):r(b,Yb(qa)),this},this.component=function y(a,b){function c(a){function e(b){return B(b)||H(b)?function(c,d){return a.invoke(b,this,{$element:c,$attrs:d})}:b}var f=b.template||b.templateUrl?b.template:"",g={controller:d,controllerAs:Bg(b.controller)||b.controllerAs||"$ctrl",template:e(f),templateUrl:e(b.templateUrl),transclude:b.transclude,scope:{},bindToController:b.bindings||{},restrict:"E",require:b.require};return r(b,function(a,b){"$"===b.charAt(0)&&(g[b]=a)}),g}if(!A(a))return r(a,Yb(Va(this,y))),this;var d=b.controller||function(){};return r(b,function(a,b){"$"===b.charAt(0)&&(c[b]=a,B(d)&&(d[b]=a))}),c.$inject=["$injector"],this.directive(a,c)},this.aHrefSanitizationWhitelist=function(a){return w(a)?(b.aHrefSanitizationWhitelist(a),this):b.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return w(a)?(b.imgSrcSanitizationWhitelist(a),this):b.imgSrcSanitizationWhitelist()};var n=!0;this.debugInfoEnabled=function(a){return w(a)?(n=a,this):n};var s=!1;this.strictComponentBindingsEnabled=function(a){return w(a)?(s=a,this):s};var G=10;this.onChangesTtl=function(a){return arguments.length?(G=a,this):G};var t=!0;this.commentDirectivesEnabled=function(a){return arguments.length?(t=a,this):t};var N=!0;this.cssClassDirectivesEnabled=function(a){return arguments.length?(N=a,this):N};var v=T();this.addPropertySecurityContext=function(a,b,c){var d=a.toLowerCase()+"|"+b.toLowerCase();if(d in v&&v[d]!==c)throw $("ctxoverride",a,b,v[d],c);return v[d]=c,this},function(){function a(b,c){r(c,function(a){v[a.toLowerCase()]=b})}a(V.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),a(V.CSS,["*|style"]),a(V.URL,"area|href area|ping a|href a|ping blockquote|cite body|background del|cite input|src ins|cite q|cite".split(" ")),a(V.MEDIA_URL,"audio|src img|src img|srcset source|src source|srcset track|src video|src video|poster".split(" ")),a(V.RESOURCE_URL,"*|formAction applet|code applet|codebase base|href embed|src frame|src form|action head|profile html|manifest iframe|src link|href media|src object|codebase object|data script|src".split(" "))}(),this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(a,b,c,e,p,M,L,u,R){function q(){try{if(!--Ja)throw Ua=void 0,$("infchng",G);L.$apply(function(){for(var a=0,b=Ua.length;b>a;++a)try{Ua[a]()}catch(d){c(d)}Ua=void 0})}finally{Ja++}}function ma(a,b){if(!a)return a;if(!A(a))throw $("srcset",b,a.toString());for(var c="",d=U(a),e=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,e=/\s/.test(d)?e:/(,)/,d=d.split(e),e=Math.floor(d.length/2),f=0;e>f;f++)var g=2*f,c=c+u.getTrustedMediaUrl(U(d[g])),c=c+(" "+U(d[g+1]));return d=U(d[2*f]).split(/\s/),c+=u.getTrustedMediaUrl(U(d[0])),2===d.length&&(c+=" "+U(d[1])),c}function w(a,b){if(b){var d,e,f,c=Object.keys(b);for(d=0,e=c.length;e>d;d++)f=c[d],this[f]=b[f]}else this.$attr={};this.$$element=a}function O(a,b,c){Fa.innerHTML="<span "+b+">",b=Fa.firstChild.attributes;var d=b[0];b.removeNamedItem(d.name),d.value=c,a.attributes.setNamedItem(d)}function sa(a,b){try{a.addClass(b)}catch(c){}}function da(a,b,c,d,e){a instanceof x||(a=x(a));var f=Xa(a,b,a,c,d,e);da.$$addScopeClass(a);var g=null;return function(b,c,d){if(!a)throw $("multilink");gb(b,"scope"),e&&e.needsNewScope&&(b=b.$parent.$new()),d=d||{};var h=d.parentBoundTranscludeFn,k=d.transcludeControllers;if(d=d.futureParentElement,h&&h.$$boundTransclude&&(h=h.$$boundTransclude),g||(g=(d=d&&d[0])&&"foreignobject"!==ua(d)&&la.call(d).match(/SVG/)?"svg":"html"),d="html"!==g?x(ja(g,x("<div></div>").append(a).html())):c?Wa.clone.call(a):a,k)for(var l in k)d.data("$"+l+"Controller",k[l].instance);return da.$$addScopeInfo(d,b),c&&c(d,b),f&&f(b,d,d,h),c||(a=f=null),d}}function Xa(a,b,c,d,e,f){function g(a,c,d,e){var f,k,l,m,p,I,t;if(n)for(t=Array(c.length),m=0;m<h.length;m+=3)f=h[m],t[f]=c[f];else t=c;for(m=0,p=h.length;p>m;)k=t[h[m++]],c=h[m++],f=h[m++],c?(c.scope?(l=a.$new(),da.$$addScopeInfo(x(k),l)):l=a,I=c.transcludeOnThisElement?ka(a,c.transclude,e):!c.templateOnThisElement&&e?e:!e&&b?ka(a,b):null,c(f,l,k,d,I)):f&&f(a,k.childNodes,void 0,e)}for(var l,m,p,I,n,h=[],k=H(a)||a instanceof x,t=0;t<a.length;t++)l=new w,11===Ca&&ib(a,t,k),m=sc(a[t],[],l,0===t?d:void 0,e),(f=m.length?aa(m,a[t],l,b,c,null,[],[],f):null)&&f.scope&&da.$$addScopeClass(l.$$element),l=f&&f.terminal||!(p=a[t].childNodes)||!p.length?null:Xa(p,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:b),(f||l)&&(h.push(t,f,l),I=!0,n=n||f),f=null;return I?g:null}function ib(a,b,c){var f,d=a[b],e=d.parentNode;if(d.nodeType===Pa)for(;f=e?d.nextSibling:a[b+1],f&&f.nodeType===Pa;)d.nodeValue+=f.nodeValue,f.parentNode&&f.parentNode.removeChild(f),c&&f===a[b+1]&&a.splice(b+1,1)}function ka(a,b,c){function d(e,f,g,h,k){return e||(e=a.$new(!1,k),e.$$transcluded=!0),b(e,f,{parentBoundTranscludeFn:c,transcludeControllers:g,futureParentElement:h})}var f,e=d.$$slots=T();for(f in b.$$slots)e[f]=b.$$slots[f]?ka(a,b.$$slots[f],c):null;return d}function sc(a,b,d,e,f){var h,g=d.$attr;switch(a.nodeType){case 1:h=ua(a),X(b,wa(h),"E",e,f);for(var l,m,n,t,J,s=a.attributes,v=0,G=s&&s.length;G>v;v++){var M,P=!1,N=!1,r=!1,y=!1,u=!1;l=s[v],m=l.name,t=l.value,n=wa(m.toLowerCase()),(J=n.match(Ra))?(r="Attr"===J[1],y="Prop"===J[1],u="On"===J[1],m=m.replace(pd,"").toLowerCase().substr(4+J[1].length).replace(/_(.)/g,function(a,b){return b.toUpperCase()})):(M=n.match(Sa))&&ca(M[1])&&(P=m,N=m.substr(0,m.length-5)+"end",m=m.substr(0,m.length-6)),y||u?(d[n]=t,g[n]=l.name,y?Ea(a,b,n,m):b.push(qd(p,L,c,n,m,!1))):(n=wa(m.toLowerCase()),g[n]=m,(r||!d.hasOwnProperty(n))&&(d[n]=t,ld(a,n)&&(d[n]=!0)),Ia(a,b,t,n,r),X(b,n,"A",e,f,P,N))}if("input"===h&&"hidden"===a.getAttribute("type")&&a.setAttribute("autocomplete","off"),!Qa)break;if(g=a.className,D(g)&&(g=g.animVal),A(g)&&""!==g)for(;a=k.exec(g);)n=wa(a[2]),X(b,n,"C",e,f)&&(d[n]=U(a[3])),g=g.substr(a.index+a[0].length);break;case Pa:na(b,a.nodeValue);break;case 8:if(!Oa)break;F(a,b,d,e,f)}return b.sort(ia),b}function F(a,b,c,d,e){try{var f=g.exec(a.nodeValue);if(f){var h=wa(f[1]);X(b,h,"M",d,e)&&(c[h]=U(f[2]))}}catch(k){}}function V(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw $("uterdir",b,c);1===a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(e>0)}else d.push(a);return x(d)}function Y(a,b,c){return function(d,e,f,g,h){return e=V(e[0],b,c),a(d,e,f,g,h)}}function Z(a,b,c,d,e,f){var g;return a?da(b,c,d,e,f):function(){return g||(g=da(b,c,d,e,f),b=c=f=null),g.apply(this,arguments)}}function aa(a,b,d,e,f,g,h,k,l){function m(a,b,c,d){a&&(c&&(a=Y(a,c,d)),a.require=u.require,a.directiveName=Q,(s===u||u.$$isolateScope)&&(a=Aa(a,{isolateScope:!0})),h.push(a)),b&&(c&&(b=Y(b,c,d)),b.require=u.require,b.directiveName=Q,(s===u||u.$$isolateScope)&&(b=Aa(b,{isolateScope:!0})),k.push(b))}function p(a,e,f,g,l){function m(a,b,c,d){var e;if(bb(a)||(d=c,c=b,b=a,a=void 0),N&&(e=P),c||(c=N?Q.parent():Q),
!d)return l(a,b,e,c,R);var f=l.$$slots[d];if(f)return f(a,b,e,c,R);if(z(f))throw $("noslot",d,za(Q))}var n,u,L,y,G,P,M,Q;b===f?(g=d,Q=d.$$element):(Q=x(f),g=new w(Q,d)),G=e,s?y=e.$new(!0):t&&(G=e.$parent),l&&(M=m,M.$$boundTransclude=l,M.isSlotFilled=function(a){return!!l.$$slots[a]}),J&&(P=ea(Q,g,M,J,y,e,s)),s&&(da.$$addScopeInfo(Q,y,!0,!(v&&(v===s||v===s.$$originalDirective))),da.$$addScopeClass(Q,!0),y.$$isolateBindings=s.$$isolateBindings,u=Da(e,g,y,y.$$isolateBindings,s),u.removeWatches&&y.$on("$destroy",u.removeWatches));for(n in P){u=J[n],L=P[n];var Cg=u.$$bindings.bindToController;L.instance=L(),Q.data("$"+u.name+"Controller",L.instance),L.bindingInfo=Da(G,g,L.instance,Cg,u)}for(r(J,function(a,b){var c=a.require;a.bindToController&&!H(c)&&D(c)&&S(P[b].instance,W(b,c,Q,P))}),r(P,function(a){var b=a.instance;if(B(b.$onChanges))try{b.$onChanges(a.bindingInfo.initialChanges)}catch(d){c(d)}if(B(b.$onInit))try{b.$onInit()}catch(e){c(e)}B(b.$doCheck)&&(G.$watch(function(){b.$doCheck()}),b.$doCheck()),B(b.$onDestroy)&&G.$on("$destroy",function(){b.$onDestroy()})}),n=0,u=h.length;u>n;n++)L=h[n],Ba(L,L.isolateScope?y:e,Q,g,L.require&&W(L.directiveName,L.require,Q,P),M);var R=e;for(s&&(s.template||null===s.templateUrl)&&(R=y),a&&a(R,f.childNodes,void 0,l),n=k.length-1;n>=0;n--)L=k[n],Ba(L,L.isolateScope?y:e,Q,g,L.require&&W(L.directiveName,L.require,Q,P),M);r(P,function(a){a=a.instance,B(a.$postLink)&&a.$postLink()})}l=l||{};for(var u,Q,M,q,O,n=-Number.MAX_VALUE,t=l.newScopeDirective,J=l.controllerDirectives,s=l.newIsolateScopeDirective,v=l.templateDirective,L=l.nonTlbTranscludeDirective,G=!1,P=!1,N=l.hasElementTranscludeDirective,y=d.$$element=x(b),R=e,ma=!1,Ib=!1,sa=0,A=a.length;A>sa;sa++){u=a[sa];var E=u.$$start,ib=u.$$end;if(E&&(y=V(b,E,ib)),M=void 0,n>u.priority)break;if((O=u.scope)&&(u.templateUrl||(D(O)?(ba("new/isolated scope",s||t,u,y),s=u):ba("new/isolated scope",s,u,y)),t=t||u),Q=u.name,!ma&&(u.replace&&(u.templateUrl||u.template)||u.transclude&&!u.$$tlb)){for(O=sa+1;ma=a[O++];)if(ma.transclude&&!ma.$$tlb||ma.replace&&(ma.templateUrl||ma.template)){Ib=!0;break}ma=!0}if(!u.templateUrl&&u.controller&&(J=J||T(),ba("'"+Q+"' controller",J[Q],u,y),J[Q]=u),O=u.transclude)if(G=!0,u.$$tlb||(ba("transclusion",L,u,y),L=u),"element"===O)N=!0,n=u.priority,M=y,y=d.$$element=x(da.$$createComment(Q,d[Q])),b=y[0],pa(f,Ha.call(M,0),b),R=Z(Ib,M,e,n,g&&g.name,{nonTlbTranscludeDirective:L});else{var ka=T();if(D(O)){M=C.document.createDocumentFragment();var Xa=T(),F=T();r(O,function(a,b){var c="?"===a.charAt(0);a=c?a.substring(1):a,Xa[a]=b,ka[b]=null,F[b]=c}),r(y.contents(),function(a){var b=Xa[wa(ua(a))];b?(F[b]=!0,ka[b]=ka[b]||C.document.createDocumentFragment(),ka[b].appendChild(a)):M.appendChild(a)}),r(F,function(a,b){if(!a)throw $("reqslot",b)});for(var K in ka)ka[K]&&(R=x(ka[K].childNodes),ka[K]=Z(Ib,R,e));M=x(M.childNodes)}else M=x(pc(b)).contents();y.empty(),R=Z(Ib,M,e,void 0,void 0,{needsNewScope:u.$$isolateScope||u.$$newScope}),R.$$slots=ka}if(u.template)if(P=!0,ba("template",v,u,y),v=u,O=B(u.template)?u.template(y,d):u.template,O=Na(O),u.replace){if(g=u,M=mc.test(O)?rd(ja(u.templateNamespace,U(O))):[],b=M[0],1!==M.length||1!==b.nodeType)throw $("tplrt",Q,"");pa(f,y,b),A={$attr:{}},O=sc(b,[],A);var Dg=a.splice(sa+1,a.length-(sa+1));(s||t)&&fa(O,s,t),a=a.concat(O).concat(Dg),ga(d,A),A=a.length}else y.html(O);if(u.templateUrl)P=!0,ba("template",v,u,y),v=u,u.replace&&(g=u),p=ha(a.splice(sa,a.length-sa),y,d,f,G&&R,h,k,{controllerDirectives:J,newScopeDirective:t!==u&&t,newIsolateScopeDirective:s,templateDirective:v,nonTlbTranscludeDirective:L}),A=a.length;else if(u.compile)try{q=u.compile(y,d,R);var X=u.$$originalDirective||u;B(q)?m(null,Va(X,q),E,ib):q&&m(Va(X,q.pre),Va(X,q.post),E,ib)}catch(ca){c(ca,za(y))}u.terminal&&(p.terminal=!0,n=Math.max(n,u.priority))}return p.scope=t&&!0===t.scope,p.transcludeOnThisElement=G,p.templateOnThisElement=P,p.transclude=R,l.hasElementTranscludeDirective=N,p}function W(a,b,c,d){var e;if(A(b)){var f=b.match(l);b=b.substring(f[0].length);var g=f[1]||f[3],f="?"===f[2];if("^^"===g?c=c.parent():e=(e=d&&d[b])&&e.instance,!e){var h="$"+b+"Controller";e="^^"===g&&c[0]&&9===c[0].nodeType?null:g?c.inheritedData(h):c.data(h)}if(!e&&!f)throw $("ctreq",b,a)}else if(H(b))for(e=[],g=0,f=b.length;f>g;g++)e[g]=W(a,b[g],c,d);else D(b)&&(e={},r(b,function(b,f){e[f]=W(a,b,c,d)}));return e||null}function ea(a,b,c,d,e,f,g){var k,h=T();for(k in d){var l=d[k],m={$scope:l===g||l.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},p=l.controller;"@"===p&&(p=b[l.name]),m=M(p,m,!0,l.controllerAs),h[l.name]=m,a.data("$"+l.name+"Controller",m.instance)}return h}function fa(a,b,c){for(var d=0,e=a.length;e>d;d++)a[d]=ac(a[d],{$$isolateScope:b,$$newScope:c})}function X(b,c,e,g,h,k,l){if(c===h)return null;var m=null;if(f.hasOwnProperty(c)){h=a.get(c+"Directive");for(var p=0,n=h.length;n>p;p++)if(c=h[p],(z(g)||g>c.priority)&&-1!==c.restrict.indexOf(e)){if(k&&(c=ac(c,{$$start:k,$$end:l})),!c.$$bindings){var I=m=c,t=c.name,u={isolateScope:null,bindToController:null};if(D(I.scope)&&(!0===I.bindToController?(u.bindToController=d(I.scope,t,!0),u.isolateScope={}):u.isolateScope=d(I.scope,t,!1)),D(I.bindToController)&&(u.bindToController=d(I.bindToController,t,!0)),u.bindToController&&!I.controller)throw $("noctrl",t);m=m.$$bindings=u,D(m.isolateScope)&&(c.$$isolateBindings=m.isolateScope)}b.push(c),m=c}}return m}function ca(b){if(f.hasOwnProperty(b))for(var c=a.get(b+"Directive"),d=0,e=c.length;e>d;d++)if(b=c[d],b.multiElement)return!0;return!1}function ga(a,b){var c=b.$attr,d=a.$attr;r(a,function(d,e){"$"!==e.charAt(0)&&(b[e]&&b[e]!==d&&(d=d.length?d+(("style"===e?";":" ")+b[e]):b[e]),a.$set(e,d,!0,c[e]))}),r(b,function(b,e){a.hasOwnProperty(e)||"$"===e.charAt(0)||(a[e]=b,"class"!==e&&"style"!==e&&(d[e]=c[e]))})}function ha(a,b,d,f,g,h,k,l){var p,n,m=[],t=b[0],u=a.shift(),J=ac(u,{templateUrl:null,transclude:null,replace:null,$$originalDirective:u}),s=B(u.templateUrl)?u.templateUrl(b,d):u.templateUrl,L=u.templateNamespace;return b.empty(),e(s).then(function(c){var e,I;if(c=Na(c),u.replace){if(c=mc.test(c)?rd(ja(L,U(c))):[],e=c[0],1!==c.length||1!==e.nodeType)throw $("tplrt",u.name,s);c={$attr:{}},pa(f,b,e);var v=sc(e,[],c);D(u.scope)&&fa(v,!0),a=v.concat(a),ga(d,c)}else e=t,b.html(c);for(a.unshift(J),p=aa(a,e,d,g,b,u,h,k,l),r(f,function(a,c){a===e&&(f[c]=b[0])}),n=Xa(b[0].childNodes,g);m.length;){c=m.shift(),I=m.shift();var y=m.shift(),P=m.shift(),v=b[0];if(!c.$$destroyed){if(I!==t){var G=I.className;l.hasElementTranscludeDirective&&u.replace||(v=pc(e)),pa(y,x(I),v),sa(x(v),G)}I=p.transcludeOnThisElement?ka(c,p.transclude,P):P,p(n,c,v,f,I)}}m=null})["catch"](function(a){cc(a)&&c(a)}),function(a,b,c,d,e){a=e,b.$$destroyed||(m?m.push(b,c,d,a):(p.transcludeOnThisElement&&(a=ka(b,p.transclude,e)),p(n,b,c,d,a)))}}function ia(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function ba(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw $("multidir",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,za(d))}function na(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:function(a){a=a.parent();var b=!!a.length;return b&&da.$$addBindingClass(a),function(a,c){var e=c.parent();b||da.$$addBindingClass(e),da.$$addBindingInfo(e,d.expressions),a.$watch(d,function(a){c[0].nodeValue=a})}}})}function ja(a,b){switch(a=K(a||"html")){case"svg":case"math":var c=C.document.createElement("div");return c.innerHTML="<"+a+">"+b+"</"+a+">",c.childNodes[0].childNodes;default:return b}}function oa(a,b){return"srcdoc"===b?u.HTML:"src"===b||"ngSrc"===b?-1===["img","video","audio","source","track"].indexOf(a)?u.RESOURCE_URL:u.MEDIA_URL:"xlinkHref"===b?"image"===a?u.MEDIA_URL:"a"===a?u.URL:u.RESOURCE_URL:"form"===a&&"action"===b||"base"===a&&"href"===b||"link"===a&&"href"===b?u.RESOURCE_URL:"a"!==a||"href"!==b&&"ngHref"!==b?void 0:u.URL}function xa(a,b){var c=b.toLowerCase();return v[a+"|"+c]||v["*|"+c]}function ya(a){return ma(u.valueOf(a),"ng-prop-srcset")}function Ea(a,b,c,d){if(m.test(d))throw $("nodomevents");a=ua(a);var e=xa(a,d),f=Ta;"srcset"!==d||"img"!==a&&"source"!==a?e&&(f=u.getTrusted.bind(u,e)):f=ya,b.push({priority:100,compile:function(a,b){var e=p(b[c]),g=p(b[c],function(a){return u.valueOf(a)});return{pre:function(a,b){function c(){var g=e(a);b[0][d]=f(g)}c(),a.$watch(g,c)}}}})}function Ia(a,c,d,e,f){var g=ua(a),k=oa(g,e),l=h[e]||f,p=b(d,!f,k,l);if(p){if("multiple"===e&&"select"===g)throw $("selmulti",za(a));if(m.test(e))throw $("nodomevents");c.push({priority:100,compile:function(){return{pre:function(a,c,f){c=f.$$observers||(f.$$observers=T());var g=f[e];g!==d&&(p=g&&b(g,!0,k,l),d=g),p&&(f[e]=p(a),(c[e]||(c[e]=[])).$$inter=!0,(f.$$observers&&f.$$observers[e].$$scope||a).$watch(p,function(a,b){"class"===e&&a!==b?f.$updateClass(a,b):f.$set(e,a)}))}}}})}}function pa(a,b,c){var g,h,d=b[0],e=b.length,f=d.parentNode;if(a)for(g=0,h=a.length;h>g;g++)if(a[g]===d){a[g++]=c,h=g+e-1;for(var k=a.length;k>g;g++,h++)k>h?a[g]=a[h]:delete a[g];a.length-=e-1,a.context===d&&(a.context=c);break}for(f&&f.replaceChild(c,d),a=C.document.createDocumentFragment(),g=0;e>g;g++)a.appendChild(b[g]);for(x.hasData(d)&&(x.data(c,x.data(d)),x(d).off("$destroy")),x.cleanData(a.querySelectorAll("*")),g=1;e>g;g++)delete b[g];b[0]=c,b.length=1}function Aa(a,b){return S(function(){return a.apply(null,arguments)},a,b)}function Ba(a,b,d,e,f,g){try{a(b,d,e,f,g)}catch(h){c(h,za(d))}}function ra(a,b){if(s)throw $("missingattr",a,b)}function Da(a,c,d,e,f){function g(b,c,e){B(d.$onChanges)&&!dc(c,e)&&(Ua||(a.$$postDigest(q),Ua=[]),m||(m={},Ua.push(h)),m[b]&&(e=m[b].previousValue),m[b]=new Jb(e,c))}function h(){d.$onChanges(m),m=void 0}var m,k=[],l={};return r(e,function(e,h){var I,t,u,s,m=e.attrName,n=e.optional;switch(e.mode){case"@":n||ta.call(c,m)||(ra(m,f.name),d[h]=c[m]=void 0),n=c.$observe(m,function(a){(A(a)||Ga(a))&&(g(h,a,d[h]),d[h]=a)}),c.$$observers[m].$$scope=a,I=c[m],A(I)?d[h]=b(I)(a):Ga(I)&&(d[h]=I),l[h]=new Jb(tc,d[h]),k.push(n);break;case"=":if(!ta.call(c,m)){if(n)break;ra(m,f.name),c[m]=void 0}if(n&&!c[m])break;t=p(c[m]),s=t.literal?va:dc,u=t.assign||function(){throw I=d[h]=t(a),$("nonassign",c[m],m,f.name)},I=d[h]=t(a),n=function(b){return s(b,d[h])||(s(b,I)?u(a,b=d[h]):d[h]=b),I=b},n.$stateful=!0,n=e.collection?a.$watchCollection(c[m],n):a.$watch(p(c[m],n),null,t.literal),k.push(n);break;case"<":if(!ta.call(c,m)){if(n)break;ra(m,f.name),c[m]=void 0}if(n&&!c[m])break;t=p(c[m]);var v=t.literal,L=d[h]=t(a);l[h]=new Jb(tc,d[h]),n=a[e.collection?"$watchCollection":"$watch"](t,function(a,b){if(b===a){if(b===L||v&&va(b,L))return;b=L}g(h,a,b),d[h]=a}),k.push(n);break;case"&":if(n||ta.call(c,m)||ra(m,f.name),t=c.hasOwnProperty(m)?p(c[m]):E,t===E&&n)break;d[h]=function(b){return t(a,b)}}}),{initialChanges:l,removeWatches:k.length&&function(){for(var a=0,b=k.length;b>a;++a)k[a]()}}}var Ua,Ma=/^\w/,Fa=C.document.createElement("div"),Oa=t,Qa=N,Ja=G;w.prototype={$normalize:wa,$addClass:function(a){a&&0<a.length&&R.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&R.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=sd(a,b);c&&c.length&&R.addClass(this.$$element,c),(c=sd(b,a))&&c.length&&R.removeClass(this.$$element,c)},$set:function(a,b,d,e){var f=ld(this.$$element[0],a),g=td[a],h=a;f?(this.$$element.prop(a,b),e=f):g&&(this[g]=b,h=g),this[a]=b,e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=e=Vc(a,"-")),"img"===ua(this.$$element)&&"srcset"===a&&(this[a]=b=ma(b,"$set('srcset', value)")),!1!==d&&(null===b||z(b)?this.$$element.removeAttr(e):Ma.test(e)?f&&!1===b?this.$$element.removeAttr(e):this.$$element.attr(e,b):O(this.$$element[0],e,b)),(a=this.$$observers)&&r(a[h],function(a){try{a(b)}catch(d){c(d)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=T()),e=d[a]||(d[a]=[]);return e.push(b),L.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||z(c[a])||b(c[a])}),function(){cb(e,b)}}};var Ka=b.startSymbol(),La=b.endSymbol(),Na="{{"===Ka&&"}}"===La?Ta:function(a){return a.replace(/\{\{/g,Ka).replace(/}}/g,La)},Ra=/^ng(Attr|Prop|On)([A-Z].*)$/,Sa=/^(.+)Start$/;return da.$$addBindingInfo=n?function(a,b){var c=a.data("$binding")||[];H(b)?c=c.concat(b):c.push(b),a.data("$binding",c)}:E,da.$$addBindingClass=n?function(a){sa(a,"ng-binding")}:E,da.$$addScopeInfo=n?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",b)}:E,da.$$addScopeClass=n?function(a,b){sa(a,b?"ng-isolate-scope":"ng-scope")}:E,da.$$createComment=function(a,b){var c="";return n&&(c=" "+(a||"")+": ",b&&(c+=b+" ")),C.document.createComment(c)},da}]}function Jb(a,b){this.previousValue=a,this.currentValue=b}function wa(a){return a.replace(pd,"").replace(Eg,function(a,d,c){return c?d.toUpperCase():d})}function sd(a,b){var d="",c=a.split(/\s+/),e=b.split(/\s+/),f=0;a:for(;f<c.length;f++){for(var g=c[f],k=0;k<e.length;k++)if(g===e[k])continue a;d+=(0<d.length?" ":"")+g}return d}function rd(a){a=x(a);var b=a.length;if(1>=b)return a;for(;b--;){var d=a[b];(8===d.nodeType||d.nodeType===Pa&&""===d.nodeValue.trim())&&Fg.call(a,b,1)}return a}function Bg(a,b){if(b&&A(b))return b;if(A(a)){var d=ud.exec(a);if(d)return d[3]}}function Ff(){var a={};this.has=function(b){return a.hasOwnProperty(b)},this.register=function(b,d){Ja(b,"controller"),D(b)?S(a,b):a[b]=d},this.$get=["$injector",function(b){function d(a,b,d,g){if(!a||!D(a.$scope))throw F("$controller")("noscp",g,b);a.$scope[b]=d}return function(c,e,f,g){var k,h,l;if(f=!0===f,g&&A(g)&&(l=g),A(c)){if(g=c.match(ud),!g)throw vd("ctrlfmt",c);if(h=g[1],l=l||g[3],c=a.hasOwnProperty(h)?a[h]:Ge(e.$scope,h,!0),!c)throw vd("ctrlreg",h);sb(c,h,!0)}return f?(f=(H(c)?c[c.length-1]:c).prototype,k=Object.create(f||null),l&&d(e,l,k,h||c.name),S(function(){var a=b.invoke(c,k,e,h);return a!==k&&(D(a)||B(a))&&(k=a,l&&d(e,l,k,h||c.name)),k},{instance:k,identifier:l})):(k=b.instantiate(c,e,h),l&&d(e,l,k,h||c.name),k)}}]}function Gf(){this.$get=["$window",function(a){return x(a.document)}]}function Hf(){this.$get=["$document","$rootScope",function(a,b){function d(){e=c.hidden}var c=a[0],e=c&&c.hidden;return a.on("visibilitychange",d),b.$on("$destroy",function(){a.off("visibilitychange",d)}),function(){return e}}]}function If(){this.$get=["$log",function(a){return function(b,d){a.error.apply(a,arguments)}}]}function uc(a){return D(a)?ha(a)?a.toISOString():eb(a):a}function Of(){this.$get=function(){return function(a){if(!a)return"";var b=[];return Oc(a,function(a,c){null===a||z(a)||B(a)||(H(a)?r(a,function(a){b.push(ba(c)+"="+ba(uc(a)))}):b.push(ba(c)+"="+ba(uc(a))))}),b.join("&")}}}function Pf(){this.$get=function(){return function(a){function b(a,e,f){H(a)?r(a,function(a,c){b(a,e+"["+(D(a)?c:"")+"]")}):D(a)&&!ha(a)?Oc(a,function(a,c){b(a,e+(f?"":"[")+c+(f?"":"]"))}):(B(a)&&(a=a()),d.push(ba(e)+"="+(null==a?"":ba(uc(a)))))}if(!a)return"";var d=[];return b(a,"",!0),d.join("&")}}}function vc(a,b){if(A(a)){var d=a.replace(Gg,"").trim();if(d){var e,c=b("Content-Type"),c=c&&0===c.indexOf(wd);if((e=c)||(e=(e=d.match(Hg))&&Ig[e[0]].test(d)),e)try{a=Rc(d)}catch(f){if(!c)return a;throw Kb("baddata",a,f)}}}return a}function xd(a){var d,b=T();return A(a)?r(a.split("\n"),function(a){d=a.indexOf(":");var e=K(U(a.substr(0,d)));a=U(a.substr(d+1)),e&&(b[e]=b[e]?b[e]+", "+a:a)}):D(a)&&r(a,function(a,d){var f=K(d),g=U(a);f&&(b[f]=b[f]?b[f]+", "+g:g)}),b}function yd(a){var b;return function(d){return b||(b=xd(a)),d?(d=b[K(d)],void 0===d&&(d=null),d):b}}function zd(a,b,d,c){return B(c)?c(a,b,d):(r(c,function(c){a=c(a,b,d)}),a)}function Nf(){var a=this.defaults={transformResponse:[vc],transformRequest:[function(a){return D(a)&&"[object File]"!==la.call(a)&&"[object Blob]"!==la.call(a)&&"[object FormData]"!==la.call(a)?eb(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ja(wc),put:ja(wc),patch:ja(wc)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},b=!1;this.useApplyAsync=function(a){return w(a)?(b=!!a,this):b};var d=this.interceptors=[],c=this.xsrfWhitelistedOrigins=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(e,f,g,k,h,l,m,p){function n(b){function c(a,b){for(var d=0,e=b.length;e>d;){var f=b[d++],g=b[d++];a=a.then(f,g)}return b.length=0,a}function d(a,b){var c,e={};return r(a,function(a,d){B(a)?(c=a(b),null!=c&&(e[d]=c)):e[d]=a}),e}function f(a){var b=S({},a);return b.data=zd(a.data,a.headers,a.status,g.transformResponse),a=a.status,a>=200&&300>a?b:l.reject(b)}if(!D(b))throw F("$http")("badreq",b);if(!A(p.valueOf(b.url)))throw F("$http")("badreq",b.url);var g=S({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer,jsonpCallbackParam:a.jsonpCallbackParam},b);g.headers=function(b){var f,g,h,c=a.headers,e=S({},b.headers),c=S({},c.common,c[K(b.method)]);a:for(f in c){g=K(f);for(h in e)if(K(h)===g)continue a;e[f]=c[f]}return d(e,ja(b))}(b),g.method=ub(g.method),g.paramSerializer=A(g.paramSerializer)?m.get(g.paramSerializer):g.paramSerializer,e.$$incOutstandingRequestCount("$http");var h=[],k=[];return b=l.resolve(g),r(v,function(a){(a.request||a.requestError)&&h.unshift(a.request,a.requestError),(a.response||a.responseError)&&k.push(a.response,a.responseError)}),b=c(b,h),b=b.then(function(b){var c=b.headers,d=zd(b.data,yd(c),void 0,b.transformRequest);return z(d)&&r(c,function(a,b){"content-type"===K(b)&&delete c[b]}),z(b.withCredentials)&&!z(a.withCredentials)&&(b.withCredentials=a.withCredentials),s(b,d).then(f,f)}),b=c(b,k),b=b["finally"](function(){e.$$completeOutstandingRequest(E,"$http")})}function s(c,d){function e(a){if(a){var c={};return r(a,function(a,d){c[d]=function(c){function d(){a(c)}b?h.$applyAsync(d):h.$$phase?d():h.$apply(d)}}),c}}function k(a,c,d,e,f){function g(){m(c,a,d,e,f)}R&&(a>=200&&300>a?R.put(O,[a,c,xd(d),e,f]):R.remove(O)),b?h.$applyAsync(g):(g(),h.$$phase||h.$apply())}function m(a,b,d,e,f){b=b>=-1?b:0,(b>=200&&300>b?L.resolve:L.reject)({data:a,status:b,headers:yd(d),config:c,statusText:e,xhrStatus:f})}function s(a){m(a.data,a.status,ja(a.headers()),a.statusText,a.xhrStatus)}function v(){var a=n.pendingRequests.indexOf(c);-1!==a&&n.pendingRequests.splice(a,1)}var R,q,L=l.defer(),u=L.promise,ma=c.headers,x="jsonp"===K(c.method),O=c.url;return x?O=p.getTrustedResourceUrl(O):A(O)||(O=p.valueOf(O)),O=G(O,c.paramSerializer(c.params)),x&&(O=t(O,c.jsonpCallbackParam)),n.pendingRequests.push(c),u.then(v,v),!c.cache&&!a.cache||!1===c.cache||"GET"!==c.method&&"JSONP"!==c.method||(R=D(c.cache)?c.cache:D(a.cache)?a.cache:N),R&&(q=R.get(O),w(q)?q&&B(q.then)?q.then(s,s):H(q)?m(q[1],q[0],ja(q[2]),q[3],q[4]):m(q,200,{},"OK","complete"):R.put(O,u)),z(q)&&((q=jc(c.url)?g()[c.xsrfCookieName||a.xsrfCookieName]:void 0)&&(ma[c.xsrfHeaderName||a.xsrfHeaderName]=q),f(c.method,O,d,k,ma,c.timeout,c.withCredentials,c.responseType,e(c.eventHandlers),e(c.uploadEventHandlers))),u}function G(a,b){return 0<b.length&&(a+=(-1===a.indexOf("?")?"?":"&")+b),a}function t(a,b){var c=a.split("?");if(2<c.length)throw Kb("badjsonp",a);return c=gc(c[1]),r(c,function(c,d){if("JSON_CALLBACK"===c)throw Kb("badjsonp",a);if(d===b)throw Kb("badjsonp",b,a)}),a+=(-1===a.indexOf("?")?"?":"&")+b+"=JSON_CALLBACK"}var N=k("$http");a.paramSerializer=A(a.paramSerializer)?m.get(a.paramSerializer):a.paramSerializer;var v=[];r(d,function(a){v.unshift(A(a)?m.get(a):m.invoke(a))});var jc=Jg(c);return n.pendingRequests=[],function(a){r(arguments,function(a){n[a]=function(b,c){return n(S({},c||{},{method:a,url:b}))}})}("get","delete","head","jsonp"),function(a){r(arguments,function(a){n[a]=function(b,c,d){return n(S({},d||{},{method:a,url:b,data:c}))}})}("post","put","patch"),n.defaults=a,n}]}function Rf(){this.$get=function(){return function(){return new C.XMLHttpRequest}}}function Qf(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(a,b,d,c){return Kg(a,c,a.defer,b,d[0])}]}function Kg(a,b,d,c,e){function f(a,b,d){a=a.replace("JSON_CALLBACK",b);var f=e.createElement("script"),m=null;return f.type="text/javascript",f.src=a,f.async=!0,m=function(a){f.removeEventListener("load",m),f.removeEventListener("error",m),e.body.removeChild(f),f=null;var g=-1,s="unknown";a&&("load"!==a.type||c.wasCalled(b)||(a={type:"error"}),s=a.type,g="error"===a.type?404:200),d&&d(g,s)},f.addEventListener("load",m),f.addEventListener("error",m),e.body.appendChild(f),m}return function(e,k,h,l,m,p,n,s,G,t){function N(a){J="timeout"===a,qa&&qa(),y&&y.abort()}function v(a,b,c,e,f,g){w(P)&&d.cancel(P),qa=y=null,a(b,c,e,f,g)}if(k=k||a.url(),"jsonp"===K(e))var q=c.createCallback(k),qa=f(k,q,function(a,b){var d=200===a&&c.getResponse(q);v(l,a,d,"",b,"complete"),c.removeCallback(q)});else{var y=b(e,k),J=!1;if(y.open(e,k,!0),r(m,function(a,b){w(a)&&y.setRequestHeader(b,a)}),y.onload=function(){var a=y.statusText||"",b="response"in y?y.response:y.responseText,c=1223===y.status?204:y.status;0===c&&(c=b?200:"file"===ga(k).protocol?404:0),v(l,c,b,y.getAllResponseHeaders(),a,"complete")},y.onerror=function(){v(l,-1,null,null,"","error")},y.ontimeout=function(){v(l,-1,null,null,"","timeout")},y.onabort=function(){v(l,-1,null,null,"",J?"timeout":"abort")},r(G,function(a,b){y.addEventListener(b,a)}),r(t,function(a,b){y.upload.addEventListener(b,a)}),n&&(y.withCredentials=!0),s)try{y.responseType=s}catch(I){if("json"!==s)throw I}y.send(z(h)?null:h)}if(p>0)var P=d(function(){N("timeout")},p);else p&&B(p.then)&&p.then(function(){N(w(p.$$timeoutId)?"timeout":"abort")})}}function Kf(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(d,c,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(p,a).replace(n,b)}function k(a,b,c,d){var e=a.$watch(function(a){return e(),d(a)},b,c);return e}function h(f,h,n,p){function v(a){try{return a=n&&!r?e.getTrusted(n,a):e.valueOf(a),p&&!w(a)?a:ic(a)}catch(b){c(Ma.interr(f,b))}}var r=n===e.URL||n===e.MEDIA_URL;if(!f.length||-1===f.indexOf(a)){if(h)return;return h=g(f),r&&(h=e.getTrusted(n,h)),h=ia(h),h.exp=f,h.expressions=[],h.$$watchDelegate=k,h}p=!!p;for(var q,y,P,u,J=0,I=[],Q=f.length,M=[],L=[];Q>J;){if(-1===(q=f.indexOf(a,J))||-1===(y=f.indexOf(b,q+l))){J!==Q&&M.push(g(f.substring(J)));break}J!==q&&M.push(g(f.substring(J,q))),J=f.substring(q+l,y),I.push(J),J=y+m,L.push(M.length),M.push("")}u=1===M.length&&1===L.length;var R=r&&u?void 0:v;if(P=I.map(function(a){return d(a,R)}),!h||I.length){var x=function(a){for(var b=0,c=I.length;c>b;b++){if(p&&z(a[b]))return;M[L[b]]=a[b]}return r?e.getTrusted(n,u?M[0]:M.join("")):(n&&1<M.length&&Ma.throwNoconcat(f),M.join(""))};return S(function(a){var b=0,d=I.length,e=Array(d);try{for(;d>b;b++)e[b]=P[b](a);return x(e)}catch(g){c(Ma.interr(f,g))}},{exp:f,expressions:I,$$watchDelegate:function(a,b){var c;return a.$watchGroup(P,function(d,e){var f=x(d);b.call(this,f,d!==e?c:f,a),c=f})}})}}var l=a.length,m=b.length,p=new RegExp(a.replace(/./g,f),"g"),n=new RegExp(b.replace(/./g,f),"g");return h.startSymbol=function(){return a},h.endSymbol=function(){return b},h}]}function Lf(){this.$get=["$$intervalFactory","$window",function(a,b){var d={},c=function(a){b.clearInterval(a),delete d[a]},e=a(function(a,c,e){return a=b.setInterval(a,c),d[a]=e,a},c);return e.cancel=function(a){if(!a)return!1;if(!a.hasOwnProperty("$$intervalId"))throw Lg("badprom");if(!d.hasOwnProperty(a.$$intervalId))return!1;a=a.$$intervalId;var b=d[a],e=b.promise;return e.$$state&&(e.$$state.pur=!0),b.reject("canceled"),c(a),!0},e}]}function Mf(){this.$get=["$browser","$q","$$q","$rootScope",function(a,b,d,c){return function(e,f){return function(g,k,h,l){function m(){p?g.apply(null,n):g(s)}var p=4<arguments.length,n=p?Ha.call(arguments,4):[],s=0,G=w(l)&&!l,t=(G?d:b).defer(),r=t.promise;return h=w(h)?h:0,r.$$intervalId=e(function(){G?a.defer(m):c.$evalAsync(m),t.notify(s++),h>0&&s>=h&&(t.resolve(s),f(r.$$intervalId)),G||c.$apply()},k,t,G),r}}}]}function Ad(a,b){var d=ga(a);b.$$protocol=d.protocol,b.$$host=d.hostname,b.$$port=fa(d.port)||Mg[d.protocol]||null}function Bd(a,b,d){if(Ng.test(a))throw jb("badpath",a);var c="/"!==a.charAt(0);c&&(a="/"+a),a=ga(a);for(var c=(c&&"/"===a.pathname.charAt(0)?a.pathname.substring(1):a.pathname).split("/"),e=c.length;e--;)c[e]=decodeURIComponent(c[e]),d&&(c[e]=c[e].replace(/\//g,"%2F"));d=c.join("/"),b.$$path=d,b.$$search=gc(a.search),b.$$hash=decodeURIComponent(a.hash),b.$$path&&"/"!==b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function xc(a,b){return a.slice(0,b.length)===b}function xa(a,b){return xc(b,a)?b.substr(a.length):void 0}function Da(a){var b=a.indexOf("#");return-1===b?a:a.substr(0,b)}function yc(a,b,d){this.$$html5=!0,d=d||"",Ad(a,this),this.$$parse=function(a){var d=xa(b,a);if(!A(d))throw jb("ipthprfx",a,b);Bd(d,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$normalizeUrl=function(a){return b+a.substr(1)},this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return w(f=xa(a,c))?(g=f,g=d&&w(f=xa(d,f))?b+(xa("/",f)||f):a+g):w(f=xa(b,c))?g=b+f:b===c+"/"&&(g=b),g&&this.$$parse(g),!!g}}function zc(a,b,d){Ad(a,this),this.$$parse=function(c){var f,e=xa(a,c)||xa(b,c);z(e)||"#"!==e.charAt(0)?this.$$html5?f=e:(f="",z(e)&&(a=c,this.replace())):(f=xa(d,e),z(f)&&(f=e)),Bd(f,this,!1),c=this.$$path;var e=a,g=/^\/[A-Z]:(\/.*)/;xc(f,e)&&(f=f.replace(e,"")),g.exec(f)||(c=(f=g.exec(c))?f[1]:c),this.$$path=c,this.$$compose()},this.$$normalizeUrl=function(b){return a+(b?d+b:"")},this.$$parseLinkUrl=function(b,d){return Da(a)===Da(b)?(this.$$parse(b),!0):!1}}function Cd(a,b,d){this.$$html5=!0,zc.apply(this,arguments),this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return a===Da(c)?f=c:(g=xa(b,c))?f=a+d+g:b===c+"/"&&(f=b),f&&this.$$parse(f),!!f},this.$$normalizeUrl=function(b){return a+d+b}}function Lb(a){return function(){return this[a]}}function Dd(a,b){return function(d){return z(d)?this[a]:(this[a]=b(d),this.$$compose(),this)}}function Tf(){var a="!",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return w(b)?(a=b,this):a},this.html5Mode=function(a){return Ga(a)?(b.enabled=a,this):D(a)?(Ga(a.enabled)&&(b.enabled=a.enabled),Ga(a.requireBase)&&(b.requireBase=a.requireBase),(Ga(a.rewriteLinks)||A(a.rewriteLinks))&&(b.rewriteLinks=a.rewriteLinks),this):b},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(d,c,e,f,g){function k(a,b){return a===b||ga(a).href===ga(b).href}function h(a,b,d){var e=m.url(),f=m.$$state;try{c.url(a,b,d),m.$$state=c.state()}catch(g){throw m.url(e),m.$$state=f,g}}function l(a,b){d.$broadcast("$locationChangeSuccess",m.absUrl(),a,m.$$state,b)}var m,p;p=c.baseHref();var s,n=c.url();if(b.enabled){if(!p&&b.requireBase)throw jb("nobase");s=n.substring(0,n.indexOf("/",n.indexOf("//")+2))+(p||"/"),p=e.history?yc:Cd}else s=Da(n),p=zc;var r=s.substr(0,Da(s).lastIndexOf("/")+1);m=new p(s,r,"#"+a),m.$$parseLinkUrl(n,n),m.$$state=c.state();var t=/^\s*(javascript|mailto):/i;f.on("click",function(a){var e=b.rewriteLinks;if(e&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!==a.which&&2!==a.button){for(var g=x(a.target);"a"!==ua(g[0]);)if(g[0]===f[0]||!(g=g.parent())[0])return;if(!A(e)||!z(g.attr(e))){var e=g.prop("href"),h=g.attr("href")||g.attr("xlink:href");D(e)&&"[object SVGAnimatedString]"===e.toString()&&(e=ga(e.animVal).href),t.test(e)||!e||g.attr("target")||a.isDefaultPrevented()||!m.$$parseLinkUrl(e,h)||(a.preventDefault(),m.absUrl()!==c.url()&&d.$apply())}}}),m.absUrl()!==n&&c.url(m.absUrl(),!0);var N=!0;return c.onUrlChange(function(a,b){xc(a,r)?(d.$evalAsync(function(){var f,c=m.absUrl(),e=m.$$state;m.$$parse(a),m.$$state=b,f=d.$broadcast("$locationChangeStart",a,c,b,e).defaultPrevented,m.absUrl()===a&&(f?(m.$$parse(c),m.$$state=e,h(c,!1,e)):(N=!1,l(c,e)))}),d.$$phase||d.$digest()):g.location.href=a}),d.$watch(function(){if(N||m.$$urlUpdatedByLocation){m.$$urlUpdatedByLocation=!1;var a=c.url(),b=m.absUrl(),f=c.state(),g=m.$$replace,n=!k(a,b)||m.$$html5&&e.history&&f!==m.$$state;(N||n)&&(N=!1,d.$evalAsync(function(){var b=m.absUrl(),c=d.$broadcast("$locationChangeStart",b,a,m.$$state,f).defaultPrevented;m.absUrl()===b&&(c?(m.$$parse(a),m.$$state=f):(n&&h(b,g,f===m.$$state?null:m.$$state),l(a,f)))}))}m.$$replace=!1}),m}]}function Uf(){var a=!0,b=this;this.debugEnabled=function(b){return w(b)?(a=b,this):a},this.$get=["$window",function(d){function c(a){return cc(a)&&(a.stack&&f?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function e(a){var b=d.console||{},e=b[a]||b.log||E;return function(){var a=[];return r(arguments,function(b){a.push(c(b))}),Function.prototype.apply.call(e,b,a)}}var f=Ca||/\bEdge\//.test(d.navigator&&d.navigator.userAgent);return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function Og(a){return a+""}function Pg(a,b){return"undefined"!=typeof a?a:b}function Ed(a,b){return"undefined"==typeof a?b:"undefined"==typeof b?a:a+b}function Qg(a,b){switch(a.type){case q.MemberExpression:if(a.computed)return!1;break;case q.UnaryExpression:return 1;case q.BinaryExpression:return"+"!==a.operator?1:!1;case q.CallExpression:return!1}return void 0===b?Fd:b}function Z(a,b,d){var c,e,f=a.isPure=Qg(a,d);switch(a.type){case q.Program:c=!0,r(a.body,function(a){Z(a.expression,b,f),c=c&&a.expression.constant}),a.constant=c;break;case q.Literal:a.constant=!0,a.toWatch=[];break;case q.UnaryExpression:Z(a.argument,b,f),a.constant=a.argument.constant,a.toWatch=a.argument.toWatch;break;case q.BinaryExpression:Z(a.left,b,f),Z(a.right,b,f),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case q.LogicalExpression:Z(a.left,b,f),Z(a.right,b,f),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.constant?[]:[a];break;case q.ConditionalExpression:Z(a.test,b,f),Z(a.alternate,b,f),Z(a.consequent,b,f),a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant,a.toWatch=a.constant?[]:[a];break;case q.Identifier:a.constant=!1,a.toWatch=[a];break;case q.MemberExpression:Z(a.object,b,f),a.computed&&Z(a.property,b,f),a.constant=a.object.constant&&(!a.computed||a.property.constant),a.toWatch=a.constant?[]:[a];break;case q.CallExpression:c=d=a.filter?!b(a.callee.name).$stateful:!1,e=[],r(a.arguments,function(a){Z(a,b,f),c=c&&a.constant,e.push.apply(e,a.toWatch)}),a.constant=c,a.toWatch=d?e:[a];break;case q.AssignmentExpression:Z(a.left,b,f),Z(a.right,b,f),a.constant=a.left.constant&&a.right.constant,a.toWatch=[a];break;case q.ArrayExpression:c=!0,e=[],r(a.elements,function(a){Z(a,b,f),c=c&&a.constant,e.push.apply(e,a.toWatch)}),a.constant=c,a.toWatch=e;break;case q.ObjectExpression:c=!0,e=[],r(a.properties,function(a){Z(a.value,b,f),c=c&&a.value.constant,e.push.apply(e,a.value.toWatch),a.computed&&(Z(a.key,b,!1),c=c&&a.key.constant,e.push.apply(e,a.key.toWatch))}),a.constant=c,a.toWatch=e;break;case q.ThisExpression:a.constant=!1,a.toWatch=[];break;case q.LocalsExpression:a.constant=!1,a.toWatch=[]}}function Gd(a){if(1===a.length){a=a[0].expression;var b=a.toWatch;return 1!==b.length?b:b[0]!==a?b:void 0}}function Hd(a){return a.type===q.Identifier||a.type===q.MemberExpression}function Id(a){return 1===a.body.length&&Hd(a.body[0].expression)?{type:q.AssignmentExpression,left:a.body[0].expression,right:{type:q.NGValueParameter},operator:"="}:void 0}function Jd(a){this.$filter=a}function Kd(a){this.$filter=a}function Mb(a,b,d){this.ast=new q(a,d),this.astCompiler=d.csp?new Kd(b):new Jd(b)}function Ac(a){return B(a.valueOf)?a.valueOf():Rg.call(a)}function Vf(){var d,c,a=T(),b={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(a,c){b[a]=c},this.setIdentifierFns=function(a,b){return d=a,c=b,this},this.$get=["$filter",function(e){function f(b,c){var d,f;switch(typeof b){case"string":return f=b=b.trim(),d=a[f],d||(d=new Nb(G),d=new Mb(d,e,G).parse(b),a[f]=p(d)),s(d,c);case"function":return s(b,c);default:return s(E,c)}}function g(a,b,c){return null==a||null==b?a===b:"object"!=typeof a||(a=Ac(a),"object"!=typeof a||c)?a===b||a!==a&&b!==b:!1}function k(a,b,c,d,e){var h,f=d.inputs;if(1===f.length){var k=g,f=f[0];return a.$watch(function(a){var b=f(a);return g(b,k,f.isPure)||(h=d(a,void 0,void 0,[b]),k=b&&Ac(b)),h},b,c,e)}for(var l=[],m=[],n=0,p=f.length;p>n;n++)l[n]=g,m[n]=null;return a.$watch(function(a){for(var b=!1,c=0,e=f.length;e>c;c++){var k=f[c](a);(b||(b=!g(k,l[c],f[c].isPure)))&&(m[c]=k,l[c]=k&&Ac(k))}return b&&(h=d(a,void 0,void 0,m)),
h},b,c,e)}function h(a,b,c,d,e){function f(){h(m)&&k()}function g(a,b,c,d){return m=u&&d?d[0]:n(a,b,c,d),h(m)&&a.$$postDigest(f),s(m)}var k,m,h=d.literal?l:w,n=d.$$intercepted||d,s=d.$$interceptor||Ta,u=d.inputs&&!n.inputs;return g.literal=d.literal,g.constant=d.constant,g.inputs=d.inputs,p(g),k=a.$watch(g,b,c,e)}function l(a){var b=!0;return r(a,function(a){w(a)||(b=!1)}),b}function m(a,b,c,d){var e=a.$watch(function(a){return e(),d(a)},b,c);return e}function p(a){return a.constant?a.$$watchDelegate=m:a.oneTime?a.$$watchDelegate=h:a.inputs&&(a.$$watchDelegate=k),a}function n(a,b){function c(d){return b(a(d))}return c.$stateful=a.$stateful||b.$stateful,c.$$pure=a.$$pure&&b.$$pure,c}function s(a,b){if(!b)return a;a.$$interceptor&&(b=n(a.$$interceptor,b),a=a.$$intercepted);var c=!1,d=function(d,e,f,g){return d=c&&g?g[0]:a(d,e,f,g),b(d)};return d.$$intercepted=a,d.$$interceptor=b,d.literal=a.literal,d.oneTime=a.oneTime,d.constant=a.constant,b.$stateful||(c=!a.inputs,d.inputs=a.inputs?a.inputs:[a],b.$$pure||(d.inputs=d.inputs.map(function(a){return a.isPure===Fd?function(b){return a(b)}:a}))),p(d)}var G={csp:Aa().noUnsafeEval,literals:Ia(b),isIdentifierStart:B(d)&&d,isIdentifierContinue:B(c)&&c};return f.$$getAst=function(a){var b=new Nb(G);return new Mb(b,e,G).getAst(a).ast},f}]}function Xf(){var a=!0;this.$get=["$rootScope","$exceptionHandler",function(b,d){return Ld(function(a){b.$evalAsync(a)},d,a)}],this.errorOnUnhandledRejections=function(b){return w(b)?(a=b,this):a}}function Yf(){var a=!0;this.$get=["$browser","$exceptionHandler",function(b,d){return Ld(function(a){b.defer(a)},d,a)}],this.errorOnUnhandledRejections=function(b){return w(b)?(a=b,this):a}}function Ld(a,b,d){function c(){return new e}function e(){var a=this.promise=new f;this.resolve=function(b){h(a,b)},this.reject=function(b){m(a,b)},this.notify=function(b){n(a,b)}}function f(){this.$$state={status:0}}function g(){for(;!w&&x.length;){var a=x.shift();if(!a.pur){a.pur=!0;var c=a.value,c="Possibly unhandled rejection: "+("function"==typeof c?c.toString().replace(/ \{[\s\S]*$/,""):z(c)?"undefined":"string"!=typeof c?Ie(c,void 0):c);cc(a.value)?b(a.value,c):b(c)}}}function k(c){!d||c.pending||2!==c.status||c.pur||(0===w&&0===x.length&&a(g),x.push(c)),!c.processScheduled&&c.pending&&(c.processScheduled=!0,++w,a(function(){var e,f,k;k=c.pending,c.processScheduled=!1,c.pending=void 0;try{for(var l=0,n=k.length;n>l;++l){c.pur=!0,f=k[l][0],e=k[l][c.status];try{B(e)?h(f,e(c.value)):1===c.status?h(f,c.value):m(f,c.value)}catch(p){m(f,p),p&&!0===p.$$passToExceptionHandler&&b(p)}}}finally{--w,d&&0===w&&a(g)}}))}function h(a,b){a.$$state.status||(b===a?p(a,v("qcycle",b)):l(a,b))}function l(a,b){function c(b){g||(g=!0,l(a,b))}function d(b){g||(g=!0,p(a,b))}function e(b){n(a,b)}var f,g=!1;try{(D(b)||B(b))&&(f=b.then),B(f)?(a.$$state.status=-1,f.call(b,c,d,e)):(a.$$state.value=b,a.$$state.status=1,k(a.$$state))}catch(h){d(h)}}function m(a,b){a.$$state.status||p(a,b)}function p(a,b){a.$$state.value=b,a.$$state.status=2,k(a.$$state)}function n(c,d){var e=c.$$state.pending;0>=c.$$state.status&&e&&e.length&&a(function(){for(var a,c,f=0,g=e.length;g>f;f++){c=e[f][0],a=e[f][3];try{n(c,B(a)?a(d):d)}catch(h){b(h)}}})}function s(a){var b=new f;return m(b,a),b}function G(a,b,c){var d=null;try{B(c)&&(d=c())}catch(e){return s(e)}return d&&B(d.then)?d.then(function(){return b(a)},s):b(a)}function t(a,b,c,d){var e=new f;return h(e,a),e.then(b,c,d)}function q(a){if(!B(a))throw v("norslvr",a);var b=new f;return a(function(a){h(b,a)},function(a){m(b,a)}),b}var v=F("$q",TypeError),w=0,x=[];S(f.prototype,{then:function(a,b,c){if(z(a)&&z(b)&&z(c))return this;var d=new f;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([d,a,b,c]),0<this.$$state.status&&k(this.$$state),d},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return G(b,y,a)},function(b){return G(b,s,a)},b)}});var y=t;return q.prototype=f.prototype,q.defer=c,q.reject=s,q.when=t,q.resolve=y,q.all=function(a){var b=new f,c=0,d=H(a)?[]:{};return r(a,function(a,e){c++,t(a).then(function(a){d[e]=a,--c||h(b,d)},function(a){m(b,a)})}),0===c&&h(b,d),b},q.race=function(a){var b=c();return r(a,function(a){t(a).then(b.resolve,b.reject)}),b.promise},q}function hg(){this.$get=["$window","$timeout",function(a,b){var d=a.requestAnimationFrame||a.webkitRequestAnimationFrame,c=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!d,f=e?function(a){var b=d(a);return function(){c(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]}function Wf(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++pb,this.$$ChildScope=null,this.$$suspended=!1}return b.prototype=a,b}var b=10,d=F("$rootScope"),c=null,e=null;this.digestTtl=function(a){return arguments.length&&(b=a),b},this.$get=["$exceptionHandler","$parse","$browser",function(f,g,k){function h(a){a.currentScope.$$destroyed=!0}function l(a){9===Ca&&(a.$$childHead&&l(a.$$childHead),a.$$nextSibling&&l(a.$$nextSibling)),a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}function m(){this.$id=++pb,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$suspended=this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function p(a){if(v.$$phase)throw d("inprog",v.$$phase);v.$$phase=a}function n(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function s(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function G(){}function t(){for(;y.length;)try{y.shift()()}catch(a){f(a)}e=null}function q(){null===e&&(e=k.defer(function(){v.$apply(t)},null,"$applyAsync"))}m.prototype={constructor:m,$new:function(b,c){var d;return c=c||this,b?(d=new m,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope),d.$parent=c,d.$$prevSibling=c.$$childTail,c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d,(b||c!==this)&&d.$on("$destroy",h),d},$watch:function(a,b,d,e){var f=g(a);if(b=B(b)?b:E,f.$$watchDelegate)return f.$$watchDelegate(this,b,d,f,a);var h=this,k=h.$$watchers,l={fn:b,last:G,get:f,exp:e||a,eq:!!d};return c=null,k||(k=h.$$watchers=[],k.$$digestWatchIndex=-1),k.unshift(l),k.$$digestWatchIndex++,n(this,1),function(){var a=cb(k,l);a>=0&&(n(h,-1),a<k.$$digestWatchIndex&&k.$$digestWatchIndex--),c=null}},$watchGroup:function(a,b){function c(){h=!1;try{k?(k=!1,b(e,e,g)):b(e,d,g)}finally{for(var f=0;f<a.length;f++)d[f]=e[f]}}var d=Array(a.length),e=Array(a.length),f=[],g=this,h=!1,k=!0;if(!a.length){var l=!0;return g.$evalAsync(function(){l&&b(e,e,g)}),function(){l=!1}}return 1===a.length?this.$watch(a[0],function(a,c,f){e[0]=a,d[0]=c,b(e,a===c?e:d,f)}):(r(a,function(a,b){var d=g.$watch(a,function(a){e[b]=a,h||(h=!0,g.$evalAsync(c))});f.push(d)}),function(){for(;f.length;)f.shift()()})},$watchCollection:function(a,b){function c(a){e=a;var b,d,g,h;if(!z(e)){if(D(e))if(ya(e))for(f!==n&&(f=n,t=f.length=0,l++),a=e.length,t!==a&&(l++,f.length=t=a),b=0;a>b;b++)h=f[b],g=e[b],d=h!==h&&g!==g,d||h===g||(l++,f[b]=g);else{f!==p&&(f=p={},t=0,l++),a=0;for(b in e)ta.call(e,b)&&(a++,g=e[b],h=f[b],b in f?(d=h!==h&&g!==g,d||h===g||(l++,f[b]=g)):(t++,f[b]=g,l++));if(t>a)for(b in l++,f)ta.call(e,b)||(t--,delete f[b])}else f!==e&&(f=e,l++);return l}}c.$$pure=g(a).literal,c.$stateful=!c.$$pure;var e,f,h,d=this,k=1<b.length,l=0,m=g(a,c),n=[],p={},s=!0,t=0;return this.$watch(m,function(){if(s?(s=!1,b(e,e,d)):b(e,h,d),k)if(D(e))if(ya(e)){h=Array(e.length);for(var a=0;a<e.length;a++)h[a]=e[a]}else for(a in h={},e)ta.call(e,a)&&(h[a]=e[a]);else h=e})},$digest:function(){var a,g,h,l,m,n,s,q,z,A,r=b,y=w.length?v:this,N=[];p("$digest"),k.$$checkUrlChange(),this===v&&null!==e&&(k.defer.cancel(e),t()),c=null;do{for(s=!1,q=y,n=0;n<w.length;n++){try{A=w[n],(l=A.fn)(A.scope,A.locals)}catch(C){f(C)}c=null}w.length=0;a:do{if(n=!q.$$suspended&&q.$$watchers)for(n.$$digestWatchIndex=n.length;n.$$digestWatchIndex--;)try{if(a=n[n.$$digestWatchIndex])if(m=a.get,(g=m(q))===(h=a.last)||(a.eq?va(g,h):X(g)&&X(h))){if(a===c){s=!1;break a}}else s=!0,c=a,a.last=a.eq?Ia(g,null):g,l=a.fn,l(g,h===G?g:h,q),5>r&&(z=4-r,N[z]||(N[z]=[]),N[z].push({msg:B(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:g,oldVal:h}))}catch(E){f(E)}if(!(n=!q.$$suspended&&q.$$watchersCount&&q.$$childHead||q!==y&&q.$$nextSibling))for(;q!==y&&!(n=q.$$nextSibling);)q=q.$parent}while(q=n);if((s||w.length)&&!r--)throw v.$$phase=null,d("infdig",b,N)}while(s||w.length);for(v.$$phase=null;J<x.length;)try{x[J++]()}catch(D){f(D)}x.length=J=0,k.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===v&&k.$$applicationDestroyed(),n(this,-this.$$watchersCount);for(var b in this.$$listenerCount)s(this,this.$$listenerCount[b],b);a&&a.$$childHead===this&&(a.$$childHead=this.$$nextSibling),a&&a.$$childTail===this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=E,this.$on=this.$watch=this.$watchGroup=function(){return E},this.$$listeners={},this.$$nextSibling=null,l(this)}},$eval:function(a,b){return g(a)(this,b)},$evalAsync:function(a,b){v.$$phase||w.length||k.defer(function(){w.length&&v.$digest()},null,"$evalAsync"),w.push({scope:this,fn:g(a),locals:b})},$$postDigest:function(a){x.push(a)},$apply:function(a){try{p("$apply");try{return this.$eval(a)}finally{v.$$phase=null}}catch(b){f(b)}finally{try{v.$digest()}catch(c){throw f(c),c}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&y.push(b),a=g(a),q()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(delete c[d],s(e,1,a))}},$emit:function(a,b){var d,l,m,c=[],e=this,g=!1,h={name:a,targetScope:e,stopPropagation:function(){g=!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},k=db([h],arguments,1);do{for(d=e.$$listeners[a]||c,h.currentScope=e,l=0,m=d.length;m>l;l++)if(d[l])try{d[l].apply(null,k)}catch(n){f(n)}else d.splice(l,1),l--,m--;if(g)break;e=e.$parent}while(e);return h.currentScope=null,h},$broadcast:function(a,b){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;for(var h,k,g=db([e],arguments,1);c=d;){for(e.currentScope=c,d=c.$$listeners[a]||[],h=0,k=d.length;k>h;h++)if(d[h])try{d[h].apply(null,g)}catch(l){f(l)}else d.splice(h,1),h--,k--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}return e.currentScope=null,e}};var v=new m,w=v.$$asyncQueue=[],x=v.$$postDigestQueue=[],y=v.$$applyAsyncQueue=[],J=0;return v}]}function Le(){var a=/^\s*(https?|s?ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return w(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return w(a)?(b=a,this):b},this.$get=function(){return function(d,c){var e=c?b:a,f=ga(d&&d.trim()).href;return""===f||f.match(e)?d:"unsafe:"+f}}}function Sg(a){if("self"===a)return a;if(A(a)){if(-1<a.indexOf("***"))throw Ea("iwcard",a);return a=Md(a).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+a+"$")}if(ab(a))return new RegExp("^"+a.source+"$");throw Ea("imatcher")}function Nd(a){var b=[];return w(a)&&r(a,function(a){b.push(Sg(a))}),b}function $f(){this.SCE_CONTEXTS=V;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=Nd(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=Nd(a)),b},this.$get=["$injector","$$sanitizeUri",function(d,c){function e(a,b){var c;return"self"===a?(c=Bc(b,Od))||(C.document.baseURI?c=C.document.baseURI:(Na||(Na=C.document.createElement("a"),Na.href=".",Na=Na.cloneNode(!1)),c=Na.href),c=Bc(b,c)):c=!!a.exec(b.href),c}function f(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}var g=function(a){throw Ea("unsafe")};d.has("$sanitize")&&(g=d.get("$sanitize"));var k=f(),h={};return h[V.HTML]=f(k),h[V.CSS]=f(k),h[V.MEDIA_URL]=f(k),h[V.URL]=f(h[V.MEDIA_URL]),h[V.JS]=f(k),h[V.RESOURCE_URL]=f(h[V.URL]),{trustAs:function(a,b){var c=h.hasOwnProperty(a)?h[a]:null;if(!c)throw Ea("icontext",a,b);if(null===b||z(b)||""===b)return b;if("string"!=typeof b)throw Ea("itype",a);return new c(b)},getTrusted:function(d,f){if(null===f||z(f)||""===f)return f;var k=h.hasOwnProperty(d)?h[d]:null;if(k&&f instanceof k)return f.$$unwrapTrustedValue();if(B(f.$$unwrapTrustedValue)&&(f=f.$$unwrapTrustedValue()),d===V.MEDIA_URL||d===V.URL)return c(f.toString(),d===V.MEDIA_URL);if(d===V.RESOURCE_URL){var n,s,k=ga(f.toString()),r=!1;for(n=0,s=a.length;s>n;n++)if(e(a[n],k)){r=!0;break}if(r)for(n=0,s=b.length;s>n;n++)if(e(b[n],k)){r=!1;break}if(r)return f;throw Ea("insecurl",f.toString())}if(d===V.HTML)return g(f);throw Ea("unsafe")},valueOf:function(a){return a instanceof k?a.$$unwrapTrustedValue():a}}}]}function Zf(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sceDelegate",function(b,d){if(a&&8>Ca)throw Ea("iequirks");var c=ja(V);c.isEnabled=function(){return a},c.trustAs=d.trustAs,c.getTrusted=d.getTrusted,c.valueOf=d.valueOf,a||(c.trustAs=c.getTrusted=function(a,b){return b},c.valueOf=Ta),c.parseAs=function(a,d){var e=b(d);return e.literal&&e.constant?e:b(d,function(b){return c.getTrusted(a,b)})};var e=c.parseAs,f=c.getTrusted,g=c.trustAs;return r(V,function(a,b){var d=K(b);c[("parse_as_"+d).replace(Cc,wb)]=function(b){return e(a,b)},c[("get_trusted_"+d).replace(Cc,wb)]=function(b){return f(a,b)},c[("trust_as_"+d).replace(Cc,wb)]=function(b){return g(a,b)}}),c}]}function ag(){this.$get=["$window","$document",function(a,b){var d={},c=!((!a.nw||!a.nw.process)&&a.chrome&&(a.chrome.app&&a.chrome.app.runtime||!a.chrome.app&&a.chrome.runtime&&a.chrome.runtime.id))&&a.history&&a.history.pushState,e=fa((/android (\d+)/.exec(K((a.navigator||{}).userAgent))||[])[1]),f=/Boxee/i.test((a.navigator||{}).userAgent),g=b[0]||{},k=g.body&&g.body.style,h=!1,l=!1;return k&&(h=!!("transition"in k||"webkitTransition"in k),l=!!("animation"in k||"webkitAnimation"in k)),{history:!(!c||4>e||f),hasEvent:function(a){if("input"===a&&Ca)return!1;if(z(d[a])){var b=g.createElement("div");d[a]="on"+a in b}return d[a]},csp:Aa(),transitions:h,animations:l,android:e}}]}function bg(){this.$get=ia(function(a){return new Tg(a)})}function Tg(a){function b(){var a=e.pop();return a&&a.cb}function d(a){for(var b=e.length-1;b>=0;--b){var c=e[b];if(c.type===a)return e.splice(b,1),c.cb}}var c={},e=[],f=this.ALL_TASKS_TYPE="$$all$$",g=this.DEFAULT_TASK_TYPE="$$default$$";this.completeTask=function(e,h){h=h||g;try{e()}finally{var l;l=h||g,c[l]&&(c[l]--,c[f]--),l=c[h];var m=c[f];if(!m||!l)for(l=m?d:b;m=l(h);)try{m()}catch(p){a.error(p)}}},this.incTaskCount=function(a){a=a||g,c[a]=(c[a]||0)+1,c[f]=(c[f]||0)+1},this.notifyWhenNoPendingTasks=function(a,b){b=b||f,c[b]?e.push({type:b,cb:a}):a()}}function dg(){var a;this.httpOptions=function(b){return b?(a=b,this):a},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(b,d,c,e,f){function g(k,h){g.totalPendingRequests++,(!A(k)||z(d.get(k)))&&(k=f.getTrustedResourceUrl(k));var l=c.defaults&&c.defaults.transformResponse;return H(l)?l=l.filter(function(a){return a!==vc}):l===vc&&(l=null),c.get(k,S({cache:d,transformResponse:l},a))["finally"](function(){g.totalPendingRequests--}).then(function(a){return d.put(k,a.data)},function(a){return h||(a=Ug("tpload",k,a.status,a.statusText),b(a)),e.reject(a)})}return g.totalPendingRequests=0,g}]}function eg(){this.$get=["$rootScope","$browser","$location",function(a,b,d){return{findBindings:function(a,b,d){a=a.getElementsByClassName("ng-binding");var g=[];return r(a,function(a){var c=ca.element(a).data("$binding");c&&r(c,function(c){d?new RegExp("(^|\\s)"+Md(b)+"(\\s|\\||$)").test(c)&&g.push(a):-1!==c.indexOf(b)&&g.push(a)})}),g},findModels:function(a,b,d){for(var g=["ng-","data-ng-","ng\\:"],k=0;k<g.length;++k){var h=a.querySelectorAll("["+g[k]+"model"+(d?"=":"*=")+'"'+b+'"]');if(h.length)return h}},getLocation:function(){return d.url()},setLocation:function(b){b!==d.url()&&(d.url(b),a.$digest())},whenStable:function(a){b.notifyWhenNoOutstandingRequests(a)}}}]}function fg(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,d,c,e){function f(f,h,l){B(f)||(l=h,h=f,f=E);var r,m=Ha.call(arguments,3),p=w(l)&&!l,n=(p?c:d).defer(),s=n.promise;return r=b.defer(function(){try{n.resolve(f.apply(null,m))}catch(b){n.reject(b),e(b)}finally{delete g[s.$$timeoutId]}p||a.$apply()},h,"$timeout"),s.$$timeoutId=r,g[r]=n,s}var g={};return f.cancel=function(a){if(!a)return!1;if(!a.hasOwnProperty("$$timeoutId"))throw Vg("badprom");if(!g.hasOwnProperty(a.$$timeoutId))return!1;a=a.$$timeoutId;var c=g[a],d=c.promise;return d.$$state&&(d.$$state.pur=!0),c.reject("canceled"),delete g[a],b.defer.cancel(a)},f}]}function ga(a){return A(a)?(Ca&&(aa.setAttribute("href",a),a=aa.href),aa.setAttribute("href",a),a=aa.hostname,!Wg&&-1<a.indexOf(":")&&(a="["+a+"]"),{href:aa.href,protocol:aa.protocol?aa.protocol.replace(/:$/,""):"",host:aa.host,search:aa.search?aa.search.replace(/^\?/,""):"",hash:aa.hash?aa.hash.replace(/^#/,""):"",hostname:a,port:aa.port,pathname:"/"===aa.pathname.charAt(0)?aa.pathname:"/"+aa.pathname}):a}function Jg(a){var b=[Od].concat(a.map(ga));return function(a){return a=ga(a),b.some(Bc.bind(null,a))}}function Bc(a,b){return a=ga(a),b=ga(b),a.protocol===b.protocol&&a.host===b.host}function gg(){this.$get=ia(C)}function Pd(a){function b(a){try{return decodeURIComponent(a)}catch(b){return a}}var d=a[0]||{},c={},e="";return function(){var a,g,k,h,l;try{a=d.cookie||""}catch(m){a=""}if(a!==e)for(e=a,a=e.split("; "),c={},k=0;k<a.length;k++)g=a[k],h=g.indexOf("="),h>0&&(l=b(g.substring(0,h)),z(c[l])&&(c[l]=b(g.substring(h+1))));return c}}function kg(){this.$get=Pd}function dd(a){function b(d,c){if(D(d)){var e={};return r(d,function(a,c){e[c]=b(c,a)}),e}return a.factory(d+"Filter",c)}this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}],b("currency",Qd),b("date",Rd),b("filter",Xg),b("json",Yg),b("limitTo",Zg),b("lowercase",$g),b("number",Sd),b("orderBy",Td),b("uppercase",ah)}function Xg(){return function(a,b,d,c){if(!ya(a)){if(null==a)return a;throw F("filter")("notarray",a)}c=c||"$";var e;switch(Dc(b)){case"function":break;case"boolean":case"null":case"number":case"string":e=!0;case"object":b=bh(b,d,c,e);break;default:return a}return Array.prototype.filter.call(a,b)}}function bh(a,b,d,c){var e=D(a)&&d in a;return!0===b?b=va:B(b)||(b=function(a,b){return z(a)?!1:null===a||null===b?a===b:D(b)||D(a)&&!bc(a)?!1:(a=K(""+a),b=K(""+b),-1!==a.indexOf(b))}),function(f){return e&&!D(f)?Fa(f,a[d],b,d,!1):Fa(f,a,b,d,c)}}function Fa(a,b,d,c,e,f){var g=Dc(a),k=Dc(b);if("string"===k&&"!"===b.charAt(0))return!Fa(a,b.substring(1),d,c,e);if(H(a))return a.some(function(a){return Fa(a,b,d,c,e)});switch(g){case"object":var h;if(e){for(h in a)if(h.charAt&&"$"!==h.charAt(0)&&Fa(a[h],b,d,c,!0))return!0;return f?!1:Fa(a,b,d,c,!1)}if("object"===k){for(h in b)if(f=b[h],!B(f)&&!z(f)&&(g=h===c,!Fa(g?a:a[h],f,d,c,g,g)))return!1;return!0}return d(a,b);case"function":return!1;default:return d(a,b)}}function Dc(a){return null===a?"null":typeof a}function Qd(a){var b=a.NUMBER_FORMATS;return function(a,c,e){z(c)&&(c=b.CURRENCY_SYM),z(e)&&(e=b.PATTERNS[1].maxFrac);var f=c?/\u00A4/g:/\s*\u00A4\s*/g;return null==a?a:Ud(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,e).replace(f,c)}}function Sd(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Ud(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function ch(a){var d,c,e,f,g,b=0;for(-1<(c=a.indexOf(Vd))&&(a=a.replace(Vd,"")),0<(e=a.search(/e/i))?(0>c&&(c=e),c+=+a.slice(e+1),a=a.substring(0,e)):0>c&&(c=a.length),e=0;a.charAt(e)===Ec;e++);if(e===(g=a.length))d=[0],c=1;else{for(g--;a.charAt(g)===Ec;)g--;for(c-=e,d=[],f=0;g>=e;e++,f++)d[f]=+a.charAt(e)}return c>Wd&&(d=d.splice(0,Wd-1),b=c-1,c=1),{d:d,e:b,i:c}}function dh(a,b,d,c){var e=a.d,f=e.length-a.i;if(b=z(b)?Math.min(Math.max(d,f),c):+b,d=b+a.i,c=e[d],d>0){e.splice(Math.max(a.i,d));for(var g=d;g<e.length;g++)e[g]=0}else for(f=Math.max(0,f),a.i=1,e.length=Math.max(1,d=b+1),e[0]=0,g=1;d>g;g++)e[g]=0;if(c>=5)if(0>d-1){for(c=0;c>d;c--)e.unshift(0),a.i++;e.unshift(1),a.i++}else e[d-1]++;for(;f<Math.max(0,b);f++)e.push(0);(b=e.reduceRight(function(a,b,c,d){return b+=a,d[c]=b%10,Math.floor(b/10)},0))&&(e.unshift(b),a.i++)}function Ud(a,b,d,c,e){if(!A(a)&&!W(a)||isNaN(a))return"";var f=!isFinite(a),g=!1,k=Math.abs(a)+"",h="";if(f)h="\u221e";else{for(g=ch(k),dh(g,e,b.minFrac,b.maxFrac),h=g.d,k=g.i,e=g.e,f=[],g=h.reduce(function(a,b){return a&&!b},!0);0>k;)h.unshift(0),k++;for(k>0?f=h.splice(k,h.length):(f=h,h=[0]),k=[],h.length>=b.lgSize&&k.unshift(h.splice(-b.lgSize,h.length).join(""));h.length>b.gSize;)k.unshift(h.splice(-b.gSize,h.length).join(""));h.length&&k.unshift(h.join("")),h=k.join(d),f.length&&(h+=c+f.join("")),e&&(h+="e+"+e)}return 0>a&&!g?b.negPre+h+b.negSuf:b.posPre+h+b.posSuf}function Ob(a,b,d,c){var e="";for((0>a||c&&0>=a)&&(c?a=-a+1:(a=-a,e="-")),a=""+a;a.length<b;)a=Ec+a;return d&&(a=a.substr(a.length-b)),e+a}function ea(a,b,d,c,e){return d=d||0,function(f){return f=f["get"+a](),(d>0||f>-d)&&(f+=d),0===f&&-12===d&&(f=12),Ob(f,b,c,e)}}function kb(a,b,d){return function(c,e){var f=c["get"+a](),g=ub((d?"STANDALONE":"")+(b?"SHORT":"")+a);return e[g][f]}}function Xd(a){var b=new Date(a,0,1).getDay();return new Date(a,0,(4>=b?5:12)-b)}function Yd(a){return function(b){var d=Xd(b.getFullYear());return b=+new Date(b.getFullYear(),b.getMonth(),b.getDate()+(4-b.getDay()))-+d,b=1+Math.round(b/6048e5),Ob(b,a)}}function Fc(a,b){return 0>=a.getFullYear()?b.ERAS[0]:b.ERAS[1]}function Rd(a){function b(a){var b;if(b=a.match(d)){a=new Date(0);var f=0,g=0,k=b[8]?a.setUTCFullYear:a.setFullYear,h=b[8]?a.setUTCHours:a.setHours;b[9]&&(f=fa(b[9]+b[10]),g=fa(b[9]+b[11])),k.call(a,fa(b[1]),fa(b[2])-1,fa(b[3])),f=fa(b[4]||0)-f,g=fa(b[5]||0)-g,k=fa(b[6]||0),b=Math.round(1e3*parseFloat("0."+(b[7]||0))),h.call(a,f,g,k,b)}return a}var d=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d,f){var h,l,g="",k=[];if(d=d||"mediumDate",d=a.DATETIME_FORMATS[d]||d,A(c)&&(c=eh.test(c)?fa(c):b(c)),W(c)&&(c=new Date(c)),!ha(c)||!isFinite(c.getTime()))return c;for(;d;)(l=fh.exec(d))?(k=db(k,l,1),d=k.pop()):(k.push(d),d=null);var m=c.getTimezoneOffset();return f&&(m=ec(f,m),c=fc(c,f,!0)),r(k,function(b){h=gh[b],g+=h?h(c,a.DATETIME_FORMATS,m):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),g}}function Yg(){return function(a,b){return z(b)&&(b=2),eb(a,b)}}function Zg(){return function(a,b,d){return b=1/0===Math.abs(Number(b))?Number(b):fa(b),X(b)?a:(W(a)&&(a=a.toString()),ya(a)?(d=!d||isNaN(d)?0:fa(d),d=0>d?Math.max(0,a.length+d):d,b>=0?Gc(a,d,d+b):0===d?Gc(a,b,a.length):Gc(a,Math.max(0,d+b),d)):a)}}function Gc(a,b,d){return A(a)?a.slice(b,d):Ha.call(a,b,d)}function Td(a){function b(b){return b.map(function(b){var c=1,d=Ta;if(B(b))d=b;else if(A(b)&&(("+"===b.charAt(0)||"-"===b.charAt(0))&&(c="-"===b.charAt(0)?-1:1,b=b.substring(1)),""!==b&&(d=a(b),d.constant)))var e=d(),d=function(a){return a[e]};return{get:d,descending:c}})}function d(a){switch(typeof a){case"number":case"boolean":case"string":return!0;default:return!1}}function c(a,b){var c=0,d=a.type,h=b.type;if(d===h){var h=a.value,l=b.value;"string"===d?(h=h.toLowerCase(),l=l.toLowerCase()):"object"===d&&(D(h)&&(h=a.index),D(l)&&(l=b.index)),h!==l&&(c=l>h?-1:1)}else c="undefined"===d?1:"undefined"===h?-1:"null"===d?1:"null"===h?-1:h>d?-1:1;return c}return function(a,f,g,k){if(null==a)return a;if(!ya(a))throw F("orderBy")("notarray",a);H(f)||(f=[f]),0===f.length&&(f=["+"]);var h=b(f),l=g?-1:1,m=B(k)?k:c;return a=Array.prototype.map.call(a,function(a,b){return{value:a,tieBreaker:{value:b,type:"number",index:b},predicateValues:h.map(function(c){var e=c.get(a);return c=typeof e,null===e?c="null":"object"===c&&(B(e.valueOf)&&(e=e.valueOf(),d(e))||bc(e)&&(e=e.toString(),d(e))),{value:e,type:c,index:b}})}}),a.sort(function(a,b){for(var d=0,e=h.length;e>d;d++){var f=m(a.predicateValues[d],b.predicateValues[d]);if(f)return f*h[d].descending*l}return(m(a.tieBreaker,b.tieBreaker)||c(a.tieBreaker,b.tieBreaker))*l}),a=a.map(function(a){return a.value})}}function Ra(a){return B(a)&&(a={link:a}),a.restrict=a.restrict||"AC",ia(a)}function Pb(a,b,d,c,e){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=e(b.name||b.ngForm||"")(d),this.$dirty=!1,this.$valid=this.$pristine=!0,this.$submitted=this.$invalid=!1,this.$$parentForm=lb,this.$$element=a,this.$$animate=c,Zd(this)}function Zd(a){a.$$classCache={},a.$$classCache[$d]=!(a.$$classCache[mb]=a.$$element.hasClass(mb))}function ae(a){function b(a,b,c){c&&!a.$$classCache[b]?(a.$$animate.addClass(a.$$element,b),a.$$classCache[b]=!0):!c&&a.$$classCache[b]&&(a.$$animate.removeClass(a.$$element,b),a.$$classCache[b]=!1)}function d(a,c,d){c=c?"-"+Vc(c,"-"):"",b(a,mb+c,!0===d),b(a,$d+c,!1===d)}var c=a.set,e=a.unset;a.clazz.prototype.$setValidity=function(a,g,k){z(g)?(this.$pending||(this.$pending={}),c(this.$pending,a,k)):(this.$pending&&e(this.$pending,a,k),be(this.$pending)&&(this.$pending=void 0)),Ga(g)?g?(e(this.$error,a,k),c(this.$$success,a,k)):(c(this.$error,a,k),e(this.$$success,a,k)):(e(this.$error,a,k),e(this.$$success,a,k)),this.$pending?(b(this,"ng-pending",!0),this.$valid=this.$invalid=void 0,d(this,"",null)):(b(this,"ng-pending",!1),this.$valid=be(this.$error),this.$invalid=!this.$valid,d(this,"",this.$valid)),g=this.$pending&&this.$pending[a]?void 0:this.$error[a]?!1:this.$$success[a]?!0:null,d(this,a,g),this.$$parentForm.$setValidity(a,g,this)}}function be(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function Hc(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function Sa(a,b,d,c,e,f){var g=K(b[0].type);if(!e.android){var k=!1;b.on("compositionstart",function(){k=!0}),b.on("compositionupdate",function(a){(z(a.data)||""===a.data)&&(k=!1)}),b.on("compositionend",function(){k=!1,l()})}var h,l=function(a){if(h&&(f.defer.cancel(h),h=null),!k){var e=b.val();a=a&&a.type,"password"===g||d.ngTrim&&"false"===d.ngTrim||(e=U(e)),(c.$viewValue!==e||""===e&&c.$$hasNativeValidators)&&c.$setViewValue(e,a)}};if(e.hasEvent("input"))b.on("input",l);else{var m=function(a,b,c){h||(h=f.defer(function(){h=null,b&&b.value===c||l(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||b>15&&19>b||b>=37&&40>=b||m(a,this,this.value)}),e.hasEvent("paste")&&b.on("paste cut drop",m)}b.on("change",l),ce[g]&&c.$$hasNativeValidators&&g===d.type&&b.on("keydown wheel mousedown",function(a){if(!h){var b=this.validity,c=b.badInput,d=b.typeMismatch;h=f.defer(function(){h=null,b.badInput===c&&b.typeMismatch===d||l(a)})}}),c.$render=function(){var a=c.$isEmpty(c.$viewValue)?"":c.$viewValue;b.val()!==a&&b.val(a)}}function Qb(a,b){return function(d,c){var e,f;if(ha(d))return d;if(A(d)){if('"'===d.charAt(0)&&'"'===d.charAt(d.length-1)&&(d=d.substring(1,d.length-1)),hh.test(d))return new Date(d);if(a.lastIndex=0,e=a.exec(d))return e.shift(),f=c?{yyyy:c.getFullYear(),MM:c.getMonth()+1,dd:c.getDate(),HH:c.getHours(),mm:c.getMinutes(),ss:c.getSeconds(),sss:c.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(e,function(a,c){c<b.length&&(f[b[c]]=+a)}),e=new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1e3*f.sss||0),100>f.yyyy&&e.setFullYear(f.yyyy),e}return NaN}}function nb(a,b,d,c){return function(e,f,g,k,h,l,m,p){function n(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function s(a){return w(a)&&!ha(a)?r(a)||void 0:a}function r(a,b){var c=k.$options.getOption("timezone");v&&v!==c&&(b=Sc(b,ec(v)));var e=d(a,b);return!isNaN(e)&&c&&(e=fc(e,c)),e}Ic(e,f,g,k,a),Sa(e,f,g,k,h,l);var q,v,t="time"===a||"datetimelocal"===a;if(k.$parsers.push(function(c){return k.$isEmpty(c)?null:b.test(c)?r(c,q):void(k.$$parserName=a)}),k.$formatters.push(function(a){if(a&&!ha(a))throw ob("datefmt",a);if(n(a)){q=a;var b=k.$options.getOption("timezone");b&&(v=b,q=fc(q,b,!0));var d=c;return t&&A(k.$options.getOption("timeSecondsFormat"))&&(d=c.replace("ss.sss",k.$options.getOption("timeSecondsFormat")).replace(/:$/,"")),a=m("date")(a,d,b),t&&k.$options.getOption("timeStripZeroSeconds")&&(a=a.replace(/(?::00)?(?:\.000)?$/,"")),a}return v=q=null,""}),w(g.min)||g.ngMin){var x=g.min||p(g.ngMin)(e),B=s(x);k.$validators.min=function(a){return!n(a)||z(B)||d(a)>=B},g.$observe("min",function(a){a!==x&&(B=s(a),x=a,k.$validate())})}if(w(g.max)||g.ngMax){var y=g.max||p(g.ngMax)(e),J=s(y);k.$validators.max=function(a){return!n(a)||z(J)||d(a)<=J},g.$observe("max",function(a){a!==y&&(J=s(a),y=a,k.$validate())})}}}function Ic(a,b,d,c,e){(c.$$hasNativeValidators=D(b[0].validity))&&c.$parsers.push(function(a){var d=b.prop("validity")||{};return d.badInput||d.typeMismatch?void(c.$$parserName=e):a})}function de(a){a.$parsers.push(function(b){return a.$isEmpty(b)?null:ih.test(b)?parseFloat(b):void(a.$$parserName="number")}),a.$formatters.push(function(b){if(!a.$isEmpty(b)){if(!W(b))throw ob("numfmt",b);b=b.toString()}return b})}function na(a){return w(a)&&!W(a)&&(a=parseFloat(a)),X(a)?void 0:a}function Jc(a){var b=a.toString(),d=b.indexOf(".");return-1===d?a>-1&&1>a&&(a=/e-(\d+)$/.exec(b))?Number(a[1]):0:b.length-d-1}function ee(a,b,d){a=Number(a);var c=(0|a)!==a,e=(0|b)!==b,f=(0|d)!==d;if(c||e||f){var g=c?Jc(a):0,k=e?Jc(b):0,h=f?Jc(d):0,g=Math.max(g,k,h),g=Math.pow(10,g);a*=g,b*=g,d*=g,c&&(a=Math.round(a)),e&&(b=Math.round(b)),f&&(d=Math.round(d))}return 0===(a-b)%d}function fe(a,b,d,c,e){if(w(c)){if(a=a(c),!a.constant)throw ob("constexpr",d,c);return a(b)}return e}function Kc(a,b){function d(a,b){if(!a||!a.length)return[];if(!b||!b.length)return a;var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],m=0;m<b.length;m++)if(e===b[m])continue a;c.push(e)}return c}function c(a){if(!a)return a;var b=a;return H(a)?b=a.map(c).join(" "):D(a)?b=Object.keys(a).filter(function(b){return a[b]}).join(" "):A(a)||(b=a+""),b}a="ngClass"+a;var e;return["$parse",function(f){return{restrict:"AC",link:function(g,k,h){function l(a,b){var c=[];return r(a,function(a){(b>0||p[a])&&(p[a]=(p[a]||0)+b,p[a]===+(b>0)&&c.push(a))}),c.join(" ")}function m(a){if(a===b){var c=s,c=l(c&&c.split(" "),1);h.$addClass(c)}else c=s,c=l(c&&c.split(" "),-1),h.$removeClass(c);n=a}var s,p=k.data("$classCounts"),n=!0;p||(p=T(),k.data("$classCounts",p)),"ngClass"!==a&&(e||(e=f("$index",function(a){return 1&a})),g.$watch(e,m)),g.$watch(f(h[a],c),function(a){if(n===b){var c=s&&s.split(" "),e=a&&a.split(" "),f=d(c,e),c=d(e,c),f=l(f,-1),c=l(c,1);h.$addClass(c),h.$removeClass(f)}s=a})}}}]}function qd(a,b,d,c,e,f){return{restrict:"A",compile:function(g,k){var h=a(k[c]);return function(a,c){c.on(e,function(c){var e=function(){h(a,{$event:c})};if(b.$$phase)if(f)a.$evalAsync(e);else try{e()}catch(g){d(g)}else a.$apply(e)})}}}}function Rb(a,b,d,c,e,f,g,k,h){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=h(d.name||"",!1)(a),this.$$parentForm=lb,this.$options=Sb,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=e(d.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$parserName="parse",
this.$$currentValidationRunId=0,this.$$scope=a,this.$$rootScope=a.$root,this.$$attr=d,this.$$element=c,this.$$animate=f,this.$$timeout=g,this.$$parse=e,this.$$q=k,this.$$exceptionHandler=b,Zd(this),jh(this)}function jh(a){a.$$scope.$watch(function(b){return b=a.$$ngModelGet(b),b===a.$modelValue||a.$modelValue!==a.$modelValue&&b!==b||a.$$setModelValue(b),b})}function Lc(a){this.$$options=a}function ge(a,b){r(b,function(b,c){w(a[c])||(a[c]=b)})}function Oa(a,b){a.prop("selected",b),a.attr("selected",b)}function he(a,b,d){if(a){if(A(a)&&(a=new RegExp("^"+a+"$")),!a.test)throw F("ngPattern")("noregexp",b,a,za(d));return a}}function Tb(a){return a=fa(a),X(a)?-1:a}var Ca,x,rb,kc,Wb={objectMaxDepth:5,urlErrorParamsEnabled:!0},ie=/^\/(.+)\/([a-z]*)$/,ta=Object.prototype.hasOwnProperty,K=function(a){return A(a)?a.toLowerCase():a},ub=function(a){return A(a)?a.toUpperCase():a},Ha=[].slice,Fg=[].splice,kh=[].push,la=Object.prototype.toString,Pc=Object.getPrototypeOf,pa=F("ng"),ca=C.angular||(C.angular={}),pb=0;Ca=C.document.documentMode;var X=Number.isNaN||function(a){return a!==a};E.$inject=[],Ta.$inject=[];var ve=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,U=function(a){return A(a)?a.trim():a},Md=function(a){return a.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Aa=function(){if(!w(Aa.rules)){var a=C.document.querySelector("[ng-csp]")||C.document.querySelector("[data-ng-csp]");if(a){var b=a.getAttribute("ng-csp")||a.getAttribute("data-ng-csp");Aa.rules={noUnsafeEval:!b||-1!==b.indexOf("no-unsafe-eval"),noInlineStyle:!b||-1!==b.indexOf("no-inline-style")}}else{a=Aa;try{new Function(""),b=!1}catch(d){b=!0}a.rules={noUnsafeEval:b,noInlineStyle:!1}}}return Aa.rules},qb=function(){if(w(qb.name_))return qb.name_;var a,b,c,e,d=Qa.length;for(b=0;d>b;++b)if(c=Qa[b],a=C.document.querySelector("["+c.replace(":","\\:")+"jq]")){e=a.getAttribute(c+"jq");break}return qb.name_=e},xe=/:/g,Qa=["ng-","data-ng-","ng:","x-ng-"],Be=function(a){var b=a.currentScript;return b?b instanceof C.HTMLScriptElement||b instanceof C.SVGScriptElement?(b=b.attributes,[b.getNamedItem("src"),b.getNamedItem("href"),b.getNamedItem("xlink:href")].every(function(b){if(!b)return!0;if(!b.value)return!1;var c=a.createElement("a");if(c.href=b.value,a.location.origin===c.origin)return!0;switch(c.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})):!1:!0}(C.document),Ee=/[A-Z]/g,Wc=!1,Pa=3,Ke={full:"1.7.8",major:1,minor:7,dot:8,codeName:"enthusiastic-oblation"};Y.expando="ng339";var Ka=Y.cache={},pg=1;Y._data=function(a){return this.cache[a[this.expando]]||{}};var lg=/-([a-z])/g,lh=/^-ms-/,Ab={mouseleave:"mouseout",mouseenter:"mouseover"},nc=F("jqLite"),og=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,mc=/<|&#?\w+;/,mg=/<([\w:-]+)/,ng=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,oa={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};oa.optgroup=oa.option,oa.tbody=oa.tfoot=oa.colgroup=oa.caption=oa.thead,oa.th=oa.td;var ug=C.Node.prototype.contains||function(a){return!!(16&this.compareDocumentPosition(a))},Wa=Y.prototype={ready:fd,toString:function(){var a=[];return r(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return x(a>=0?this[a]:this[this.length+a])},length:0,push:kh,sort:[].sort,splice:[].splice},Gb={};r("multiple selected checked disabled readOnly required open".split(" "),function(a){Gb[K(a)]=a});var md={};r("input select option textarea button form details".split(" "),function(a){md[a]=!0});var td={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};r({data:rc,removeData:qc,hasData:function(a){for(var b in Ka[a.ng339])return!0;return!1},cleanData:function(a){for(var b=0,d=a.length;d>b;b++)qc(a[b]),id(a[b])}},function(a,b){Y[b]=a}),r({data:rc,inheritedData:Eb,scope:function(a){return x.data(a,"$scope")||Eb(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return x.data(a,"$isolateScope")||x.data(a,"$isolateScopeNoTemplate")},controller:jd,injector:function(a){return Eb(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:Bb,css:function(a,b,d){return b=xb(b.replace(lh,"ms-")),w(d)?void(a.style[b]=d):a.style[b]},attr:function(a,b,d){var c=a.nodeType;if(c!==Pa&&2!==c&&8!==c&&a.getAttribute){var c=K(b),e=Gb[c];if(!w(d))return a=a.getAttribute(b),e&&null!==a&&(a=c),null===a?void 0:a;null===d||!1===d&&e?a.removeAttribute(b):a.setAttribute(b,e?c:d)}},prop:function(a,b,d){return w(d)?void(a[b]=d):a[b]},text:function(){function a(a,d){if(z(d)){var c=a.nodeType;return 1===c||c===Pa?a.textContent:""}a.textContent=d}return a.$dv="",a}(),val:function(a,b){if(z(b)){if(a.multiple&&"select"===ua(a)){var d=[];return r(a.options,function(a){a.selected&&d.push(a.value||a.text)}),d}return a.value}a.value=b},html:function(a,b){return z(b)?a.innerHTML:(yb(a,!0),void(a.innerHTML=b))},empty:kd},function(a,b){Y.prototype[b]=function(b,c){var e,f,g=this.length;if(a!==kd&&z(2===a.length&&a!==Bb&&a!==jd?b:c)){if(D(b)){for(e=0;g>e;e++)if(a===rc)a(this[e],b);else for(f in b)a(this[e],f,b[f]);return this}for(e=a.$dv,g=z(e)?Math.min(g,1):g,f=0;g>f;f++){var k=a(this[f],b,c);e=e?e+k:k}return e}for(e=0;g>e;e++)a(this[e],b,c);return this}}),r({removeData:qc,on:function(a,b,d,c){if(w(c))throw nc("onargs");if(lc(a)){c=zb(a,!0);var e=c.events,f=c.handle;f||(f=c.handle=rg(a,e)),c=0<=b.indexOf(" ")?b.split(" "):[b];for(var g=c.length,k=function(b,c,g){var k=e[b];k||(k=e[b]=[],k.specialHandlerWrapper=c,"$destroy"===b||g||a.addEventListener(b,f)),k.push(d)};g--;)b=c[g],Ab[b]?(k(Ab[b],tg),k(b,void 0,!0)):k(b)}},off:id,one:function(a,b,d){a=x(a),a.on(b,function e(){a.off(b,d),a.off(b,e)}),a.on(b,d)},replaceWith:function(a,b){var d,c=a.parentNode;yb(a),r(new Y(b),function(b){d?c.insertBefore(b,d.nextSibling):c.replaceChild(b,a),d=b})},children:function(a){var b=[];return r(a.childNodes,function(a){1===a.nodeType&&b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var d=a.nodeType;if(1===d||11===d){b=new Y(b);for(var d=0,c=b.length;c>d;d++)a.appendChild(b[d])}},prepend:function(a,b){if(1===a.nodeType){var d=a.firstChild;r(new Y(b),function(b){a.insertBefore(b,d)})}},wrap:function(a,b){var d=x(b).eq(0).clone()[0],c=a.parentNode;c&&c.replaceChild(d,a),d.appendChild(a)},remove:Fb,detach:function(a){Fb(a,!0)},after:function(a,b){var d=a,c=a.parentNode;if(c){b=new Y(b);for(var e=0,f=b.length;f>e;e++){var g=b[e];c.insertBefore(g,d.nextSibling),d=g}}},addClass:Db,removeClass:Cb,toggleClass:function(a,b,d){b&&r(b.split(" "),function(b){var e=d;z(e)&&(e=!Bb(a,b)),(e?Db:Cb)(a,b)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:pc,triggerHandler:function(a,b,d){var c,e,f=b.type||b,g=zb(a);(g=(g=g&&g.events)&&g[f])&&(c={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:E,type:f,target:a},b.type&&(c=S(c,b)),b=ja(g),e=d?[c].concat(d):[c],r(b,function(b){c.isImmediatePropagationStopped()||b.apply(a,e)}))}},function(a,b){Y.prototype[b]=function(b,c,e){for(var f,g=0,k=this.length;k>g;g++)z(f)?(f=a(this[g],b,c,e),w(f)&&(f=x(f))):oc(f,a(this[g],b,c,e));return w(f)?f:this}}),Y.prototype.bind=Y.prototype.on,Y.prototype.unbind=Y.prototype.off;var mh=Object.create(null);nd.prototype={_idx:function(a){return a!==this._lastKey&&(this._lastKey=a,this._lastIndex=this._keys.indexOf(a)),this._lastIndex},_transformKey:function(a){return X(a)?mh:a},get:function(a){return a=this._transformKey(a),a=this._idx(a),-1!==a?this._values[a]:void 0},has:function(a){return a=this._transformKey(a),-1!==this._idx(a)},set:function(a,b){a=this._transformKey(a);var d=this._idx(a);-1===d&&(d=this._lastIndex=this._keys.length),this._keys[d]=a,this._values[d]=b},"delete":function(a){return a=this._transformKey(a),a=this._idx(a),-1===a?!1:(this._keys.splice(a,1),this._values.splice(a,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Hb=nd,jg=[function(){this.$get=[function(){return Hb}]}],wg=/^([^(]+?)=>/,xg=/^[^(]*\(\s*([^)]*)\)/m,nh=/,/,oh=/^\s*(_?)(\S+?)\1\s*$/,vg=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ba=F("$injector");fb.$$annotate=function(a,b,d){var c;if("function"==typeof a){if(!(c=a.$inject)){if(c=[],a.length){if(b)throw A(d)&&d||(d=a.name||yg(a)),Ba("strictdi",d);b=od(a),r(b[1].split(nh),function(a){a.replace(oh,function(a,b,d){c.push(d)})})}a.$inject=c}}else H(a)?(b=a.length-1,sb(a[b],"fn"),c=a.slice(0,b)):sb(a,"fn",!0);return c};var je=F("$animate"),zf=function(){this.$get=E},Af=function(){var a=new Hb,b=[];this.$get=["$$AnimateRunner","$rootScope",function(d,c){function e(a,b,c){var d=!1;return b&&(b=A(b)?b.split(" "):H(b)?b:[],r(b,function(b){b&&(d=!0,a[b]=c)})),d}function f(){r(b,function(b){var c=a.get(b);if(c){var d=zg(b.attr("class")),e="",f="";r(c,function(a,b){a!==!!d[b]&&(a?e+=(e.length?" ":"")+b:f+=(f.length?" ":"")+b)}),r(b,function(a){e&&Db(a,e),f&&Cb(a,f)}),a["delete"](b)}}),b.length=0}return{enabled:E,on:E,off:E,pin:E,push:function(g,k,h,l){return l&&l(),h=h||{},h.from&&g.css(h.from),h.to&&g.css(h.to),(h.addClass||h.removeClass)&&(k=h.addClass,l=h.removeClass,h=a.get(g)||{},k=e(h,k,!0),l=e(h,l,!1),(k||l)&&(a.set(g,h),b.push(g),1===b.length&&c.$$postDigest(f))),g=new d,g.complete(),g}}}]},xf=["$provide",function(a){var b=this,d=null,c=null;this.$$registeredAnimations=Object.create(null),this.register=function(c,d){if(c&&"."!==c.charAt(0))throw je("notcsel",c);var g=c+"-animation";b.$$registeredAnimations[c.substr(1)]=g,a.factory(g,d)},this.customFilter=function(a){return 1===arguments.length&&(c=B(a)?a:null),c},this.classNameFilter=function(a){if(1===arguments.length&&(d=a instanceof RegExp?a:null)&&/[(\s|\/)]ng-animate[(\s|\/)]/.test(d.toString()))throw d=null,je("nongcls","ng-animate");return d},this.$get=["$$animateQueue",function(a){function b(a,c,d){if(d){var e;a:{for(e=0;e<d.length;e++){var f=d[e];if(1===f.nodeType){e=f;break a}}e=void 0}!e||e.parentNode||e.previousElementSibling||(d=null)}d?d.after(a):c.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.cancel&&a.cancel()},enter:function(c,d,h,l){return d=d&&x(d),h=h&&x(h),d=d||h.parent(),b(c,d,h),a.push(c,"enter",ra(l))},move:function(c,d,h,l){return d=d&&x(d),h=h&&x(h),d=d||h.parent(),b(c,d,h),a.push(c,"move",ra(l))},leave:function(b,c){return a.push(b,"leave",ra(c),function(){b.remove()})},addClass:function(b,c,d){return d=ra(d),d.addClass=hb(d.addclass,c),a.push(b,"addClass",d)},removeClass:function(b,c,d){return d=ra(d),d.removeClass=hb(d.removeClass,c),a.push(b,"removeClass",d)},setClass:function(b,c,d,f){return f=ra(f),f.addClass=hb(f.addClass,c),f.removeClass=hb(f.removeClass,d),a.push(b,"setClass",f)},animate:function(b,c,d,f,m){return m=ra(m),m.from=m.from?S(m.from,c):c,m.to=m.to?S(m.to,d):d,m.tempClasses=hb(m.tempClasses,f||"ng-inline-animate"),a.push(b,"animate",m)}}}]}],Cf=function(){this.$get=["$$rAF",function(a){function b(b){d.push(b),1<d.length||a(function(){for(var a=0;a<d.length;a++)d[a]();d=[]})}var d=[];return function(){var a=!1;return b(function(){a=!0}),function(d){a?d():b(d)}}}]},Bf=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(a,b,d,c,e){function f(a){this.setHost(a);var b=d();this._doneCallbacks=[],this._tick=function(a){c()?e(a,0,!1):b(a)},this._state=0}return f.chain=function(a,b){function c(){d===a.length?b(!0):a[d](function(a){!1===a?b(!1):(d++,c())})}var d=0;c()},f.all=function(a,b){function c(f){e=e&&f,++d===a.length&&b(e)}var d=0,e=!0;r(a,function(a){a.done(c)})},f.prototype={setHost:function(a){this.host=a||{}},done:function(a){2===this._state?a():this._doneCallbacks.push(a)},progress:E,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){!1===b?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},"catch":function(a){return this.getPromise()["catch"](a)},"finally":function(a){return this.getPromise()["finally"](a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(a){var b=this;0===b._state&&(b._state=1,b._tick(function(){b._resolve(a)}))},_resolve:function(a){2!==this._state&&(r(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=0,this._state=2)}},f}]},yf=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,b,d){return function(b,e){function f(){return a(function(){g.addClass&&(b.addClass(g.addClass),g.addClass=null),g.removeClass&&(b.removeClass(g.removeClass),g.removeClass=null),g.to&&(b.css(g.to),g.to=null),k||h.complete(),k=!0}),h}var g=e||{};g.$$prepared||(g=Ia(g)),g.cleanupStyles&&(g.from=g.to=null),g.from&&(b.css(g.from),g.from=null);var k,h=new d;return{start:f,end:f}}}]},$=F("$compile"),tc=new function(){};Xc.$inject=["$provide","$$sanitizeUriProvider"],Jb.prototype.isFirstChange=function(){return this.previousValue===tc};var pd=/^((?:x|data)[:\-_])/i,Eg=/[:\-_]+(.)/g,vd=F("$controller"),ud=/^(\S+)(\s+as\s+([\w$]+))?$/,Jf=function(){this.$get=["$document",function(a){return function(b){return b?!b.nodeType&&b instanceof x&&(b=b[0]):b=a[0].body,b.offsetWidth+1}}]},wd="application/json",wc={"Content-Type":wd+";charset=utf-8"},Hg=/^\[|^\{(?!\{)/,Ig={"[":/]$/,"{":/}$/},Gg=/^\)]\}',?\n/,Kb=F("$http"),Ma=ca.$interpolateMinErr=F("$interpolate");Ma.throwNoconcat=function(a){throw Ma("noconcat",a)},Ma.interr=function(a,b){return Ma("interr",a,b.toString())};var Lg=F("$interval"),Sf=function(){this.$get=function(){function a(a){var b=function(a){b.data=a,b.called=!0};return b.id=a,b}var b=ca.callbacks,d={};return{createCallback:function(c){c="_"+(b.$$counter++).toString(36);var e="angular.callbacks."+c,f=a(c);return d[e]=b[c]=f,e},wasCalled:function(a){return d[a].called},getResponse:function(a){return d[a].data},removeCallback:function(a){delete b[d[a].id],delete d[a]}}}},ph=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Mg={http:80,https:443,ftp:21},jb=F("$location"),Ng=/^\s*[\\/]{2,}/,qh={$$absUrl:"",$$html5:!1,$$replace:!1,$$compose:function(){for(var a=this.$$path,b=this.$$hash,d=ye(this.$$search),b=b?"#"+hc(b):"",a=a.split("/"),c=a.length;c--;)a[c]=hc(a[c].replace(/%2F/g,"/"));this.$$url=a.join("/")+(d?"?"+d:"")+b,this.$$absUrl=this.$$normalizeUrl(this.$$url),this.$$urlUpdatedByLocation=!0},absUrl:Lb("$$absUrl"),url:function(a){if(z(a))return this.$$url;var b=ph.exec(a);return(b[1]||""===a)&&this.path(decodeURIComponent(b[1])),(b[2]||b[1]||""===a)&&this.search(b[3]||""),this.hash(b[5]||""),this},protocol:Lb("$$protocol"),host:Lb("$$host"),port:Lb("$$port"),path:Dd("$$path",function(a){return a=null!==a?a.toString():"","/"===a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(A(a)||W(a))a=a.toString(),this.$$search=gc(a);else{if(!D(a))throw jb("isrcharg");a=Ia(a,{}),r(a,function(b,c){null==b&&delete a[c]}),this.$$search=a}break;default:z(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:Dd("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){return this.$$replace=!0,this}};r([Cd,zc,yc],function(a){a.prototype=Object.create(qh),a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==yc||!this.$$html5)throw jb("nostate");return this.$$state=z(b)?null:b,this.$$urlUpdatedByLocation=!0,this}});var Ya=F("$parse"),Rg={}.constructor.prototype.valueOf,Ub=T();r("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){Ub[a]=!0});var rh={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Nb=function(a){this.options=a};Nb.prototype={constructor:Nb,lex:function(a){for(this.text=a,this.index=0,this.tokens=[];this.index<this.text.length;)if(a=this.text.charAt(this.index),'"'===a||"'"===a)this.readString(a);else if(this.isNumber(a)||"."===a&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(a,"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var b=a+this.peek(),d=b+this.peek(2),c=Ub[b],e=Ub[d];Ub[a]||c||e?(a=e?d:c?b:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){return a=a||1,this.index+a<this.text.length?this.text.charAt(this.index+a):!1},isNumber:function(a){return a>="0"&&"9">=a&&"string"==typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"	"===a||"\n"===a||""===a||"\xa0"===a},isIdentifierStart:function(a){return this.options.isIdentifierStart?this.options.isIdentifierStart(a,this.codePointAt(a)):this.isValidIdentifierStart(a)},isValidIdentifierStart:function(a){return a>="a"&&"z">=a||a>="A"&&"Z">=a||"_"===a||"$"===a},isIdentifierContinue:function(a){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(a,this.codePointAt(a)):this.isValidIdentifierContinue(a)},isValidIdentifierContinue:function(a,b){return this.isValidIdentifierStart(a,b)||this.isNumber(a)},codePointAt:function(a){return 1===a.length?a.charCodeAt(0):(a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888},peekMultichar:function(){var a=this.text.charAt(this.index),b=this.peek();if(!b)return a;var d=a.charCodeAt(0),c=b.charCodeAt(0);return d>=55296&&56319>=d&&c>=56320&&57343>=c?a+b:a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,d){throw d=d||this.index,b=w(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,d)+"]":" "+d,Ya("lexerr",a,b,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var d=K(this.text.charAt(this.index));if("."===d||this.isNumber(d))a+=d;else{var c=this.peek();if("e"===d&&this.isExpOperator(c))a+=d;else if(this.isExpOperator(d)&&c&&this.isNumber(c)&&"e"===a.charAt(a.length-1))a+=d;else{if(!this.isExpOperator(d)||c&&this.isNumber(c)||"e"!==a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){var a=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var b=this.peekMultichar();if(!this.isIdentifierContinue(b))break;this.index+=b.length}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var d="",c=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index),c=c+f;if(e)"u"===f?(e=this.text.substring(this.index+1,this.index+5),e.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+e+"]"),this.index+=4,d+=String.fromCharCode(parseInt(e,16))):d+=rh[f]||f,e=!1;else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:c,constant:!0,value:d});d+=f}this.index++}this.throwError("Unterminated quote",b)}};var q=function(a,b){this.lexer=a,this.options=b};q.Program="Program",q.ExpressionStatement="ExpressionStatement",q.AssignmentExpression="AssignmentExpression",q.ConditionalExpression="ConditionalExpression",q.LogicalExpression="LogicalExpression",q.BinaryExpression="BinaryExpression",q.UnaryExpression="UnaryExpression",q.CallExpression="CallExpression",q.MemberExpression="MemberExpression",q.Identifier="Identifier",q.Literal="Literal",q.ArrayExpression="ArrayExpression",q.Property="Property",q.ObjectExpression="ObjectExpression",q.ThisExpression="ThisExpression",q.LocalsExpression="LocalsExpression",q.NGValueParameter="NGValueParameter",q.prototype={ast:function(a){return this.text=a,this.tokens=this.lexer.lex(a),a=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),a},program:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:q.Program,body:a}},expressionStatement:function(){return{type:q.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();if(this.expect("=")){if(!Hd(a))throw Ya("lval");a={type:q.AssignmentExpression,left:a,right:this.assignment(),operator:"="}}return a},ternary:function(){var b,d,a=this.logicalOR();return this.expect("?")&&(b=this.expression(),this.consume(":"))?(d=this.expression(),{type:q.ConditionalExpression,test:a,alternate:b,consequent:d}):a},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:q.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:q.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var b,a=this.relational();b=this.expect("==","!=","===","!==");)a={type:q.BinaryExpression,operator:b.text,left:a,right:this.relational()};return a},relational:function(){for(var b,a=this.additive();b=this.expect("<",">","<=",">=");)a={type:q.BinaryExpression,operator:b.text,left:a,right:this.additive()};return a},additive:function(){for(var b,a=this.multiplicative();b=this.expect("+","-");)a={type:q.BinaryExpression,operator:b.text,left:a,right:this.multiplicative()};return a},multiplicative:function(){for(var b,a=this.unary();b=this.expect("*","/","%");)a={type:q.BinaryExpression,operator:b.text,left:a,right:this.unary()};return a},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:q.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?a=Ia(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?a={type:q.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(","[",".");)"("===b.text?(a={type:q.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):"["===b.text?(a={type:q.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:q.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){a=[a];for(var b={type:q.CallExpression,callee:this.identifier(),arguments:a,filter:!0};this.expect(":");)a.push(this.expression());return b},parseArguments:function(){var a=[];if(")"!==this.peekToken().text)do a.push(this.filterChain());while(this.expect(","));return a},identifier:function(){var a=this.consume();return a.identifier||this.throwError("is not a valid identifier",a),{type:q.Identifier,name:a.text}},constant:function(){return{type:q.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:q.ArrayExpression,elements:a}},object:function(){var b,a=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;b={type:q.Property,kind:"init"},this.peek().constant?(b.key=this.constant(),b.computed=!1,this.consume(":"),b.value=this.expression()):this.peek().identifier?(b.key=this.identifier(),b.computed=!1,this.peek(":")?(this.consume(":"),b.value=this.expression()):b.value=b.key):this.peek("[")?(this.consume("["),b.key=this.expression(),this.consume("]"),b.computed=!0,this.consume(":"),b.value=this.expression()):this.throwError("invalid key",this.peek()),a.push(b)}while(this.expect(","));return this.consume("}"),{type:q.ObjectExpression,properties:a}},throwError:function(a,b){throw Ya("syntax",b.text,a,b.index+1,this.text,this.text.substring(b.index))},consume:function(a){if(0===this.tokens.length)throw Ya("ueoe",this.text);var b=this.expect(a);return b||this.throwError("is unexpected, expecting ["+a+"]",this.peek()),b},peekToken:function(){if(0===this.tokens.length)throw Ya("ueoe",this.text);return this.tokens[0]},peek:function(a,b,d,c){return this.peekAhead(0,a,b,d,c)},peekAhead:function(a,b,d,c,e){if(this.tokens.length>a){a=this.tokens[a];var f=a.text;if(f===b||f===d||f===c||f===e||!(b||d||c||e))return a}return!1},expect:function(a,b,d,c){return(a=this.peek(a,b,d,c))?(this.tokens.shift(),a):!1},selfReferential:{"this":{type:q.ThisExpression},$locals:{type:q.LocalsExpression}}};var Fd=2;Jd.prototype={compile:function(a){var b=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Z(a,b.$filter);var c,d="";return this.stage="assign",(c=Id(a))&&(this.state.computing="assign",d=this.nextId(),this.recurse(c,d),this.return_(d),d="fn.assign="+this.generateFunction("assign","s,v,l")),c=Gd(a.body),b.stage="inputs",r(c,function(a,c){var d="fn"+c;b.state[d]={vars:[],body:[],own:{}},b.state.computing=d;var k=b.nextId();b.recurse(a,k),b.return_(k),b.state.inputs.push({name:d,isPure:a.isPure}),a.watchId=c}),this.state.computing="fn",this.stage="main",this.recurse(a),a='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+d+this.watchFns()+"return fn;",a=new Function("$filter","getStringValue","ifDefined","plus",a)(this.$filter,Og,Pg,Ed),this.state=this.stage=void 0,a},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,d=this;return r(b,function(b){a.push("var "+b.name+"="+d.generateFunction(b.name,"s")),b.isPure&&a.push(b.name,".isPure="+JSON.stringify(b.isPure)+";")}),b.length&&a.push("fn.inputs=["+b.map(function(a){return a.name}).join(",")+"];"),a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],b=this;return r(this.state.filters,function(d,c){a.push(d+"=$filter("+b.escape(c)+")")}),a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,d,c,e,f){var g,k,l,m,p,h=this;if(c=c||E,!f&&w(a.watchId))b=b||this.nextId(),this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,d,c,e,!0));else switch(a.type){case q.Program:r(a.body,function(b,c){h.recurse(b.expression,void 0,void 0,function(a){k=a}),c!==a.body.length-1?h.current().body.push(k,";"):h.return_(k)});break;case q.Literal:m=this.escape(a.value),this.assign(b,m),c(b||m);break;case q.UnaryExpression:this.recurse(a.argument,void 0,void 0,function(a){k=a}),m=a.operator+"("+this.ifDefined(k,0)+")",this.assign(b,m),c(m);break;case q.BinaryExpression:this.recurse(a.left,void 0,void 0,function(a){g=a}),this.recurse(a.right,void 0,void 0,function(a){k=a}),m="+"===a.operator?this.plus(g,k):"-"===a.operator?this.ifDefined(g,0)+a.operator+this.ifDefined(k,0):"("+g+")"+a.operator+"("+k+")",this.assign(b,m),c(m);break;case q.LogicalExpression:b=b||this.nextId(),h.recurse(a.left,b),h.if_("&&"===a.operator?b:h.not(b),h.lazyRecurse(a.right,b)),c(b);break;case q.ConditionalExpression:b=b||this.nextId(),h.recurse(a.test,b),h.if_(b,h.lazyRecurse(a.alternate,b),h.lazyRecurse(a.consequent,b)),c(b);break;case q.Identifier:b=b||this.nextId(),d&&(d.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),d.computed=!1,d.name=a.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",a.name)),function(){h.if_("inputs"===h.stage||"s",function(){e&&1!==e&&h.if_(h.isNull(h.nonComputedMember("s",a.name)),h.lazyAssign(h.nonComputedMember("s",a.name),"{}")),h.assign(b,h.nonComputedMember("s",a.name))})},b&&h.lazyAssign(b,h.nonComputedMember("l",a.name))),c(b);break;case q.MemberExpression:g=d&&(d.context=this.nextId())||this.nextId(),b=b||this.nextId(),h.recurse(a.object,g,void 0,function(){h.if_(h.notNull(g),function(){a.computed?(k=h.nextId(),h.recurse(a.property,k),h.getStringValue(k),e&&1!==e&&h.if_(h.not(h.computedMember(g,k)),h.lazyAssign(h.computedMember(g,k),"{}")),m=h.computedMember(g,k),h.assign(b,m),d&&(d.computed=!0,d.name=k)):(e&&1!==e&&h.if_(h.isNull(h.nonComputedMember(g,a.property.name)),h.lazyAssign(h.nonComputedMember(g,a.property.name),"{}")),m=h.nonComputedMember(g,a.property.name),h.assign(b,m),d&&(d.computed=!1,d.name=a.property.name))},function(){h.assign(b,"undefined")}),c(b)},!!e);break;case q.CallExpression:b=b||this.nextId(),a.filter?(k=h.filter(a.callee.name),l=[],r(a.arguments,function(a){var b=h.nextId();h.recurse(a,b),l.push(b)}),m=k+"("+l.join(",")+")",h.assign(b,m),c(b)):(k=h.nextId(),g={},l=[],h.recurse(a.callee,k,g,function(){h.if_(h.notNull(k),function(){r(a.arguments,function(b){h.recurse(b,a.constant?void 0:h.nextId(),void 0,function(a){l.push(a)})}),m=g.name?h.member(g.context,g.name,g.computed)+"("+l.join(",")+")":k+"("+l.join(",")+")",h.assign(b,m)},function(){h.assign(b,"undefined")}),c(b)}));break;case q.AssignmentExpression:k=this.nextId(),g={},this.recurse(a.left,void 0,g,function(){h.if_(h.notNull(g.context),function(){h.recurse(a.right,k),m=h.member(g.context,g.name,g.computed)+a.operator+k,h.assign(b,m),c(b||m)})},1);break;case q.ArrayExpression:l=[],r(a.elements,function(b){h.recurse(b,a.constant?void 0:h.nextId(),void 0,function(a){l.push(a)})}),m="["+l.join(",")+"]",this.assign(b,m),c(b||m);break;case q.ObjectExpression:l=[],p=!1,r(a.properties,function(a){a.computed&&(p=!0)}),p?(b=b||this.nextId(),this.assign(b,"{}"),r(a.properties,function(a){a.computed?(g=h.nextId(),h.recurse(a.key,g)):g=a.key.type===q.Identifier?a.key.name:""+a.key.value,k=h.nextId(),h.recurse(a.value,k),h.assign(h.member(b,g,a.computed),k)})):(r(a.properties,function(b){h.recurse(b.value,a.constant?void 0:h.nextId(),void 0,function(a){l.push(h.escape(b.key.type===q.Identifier?b.key.name:""+b.key.value)+":"+a)})}),m="{"+l.join(",")+"}",this.assign(b,m)),c(b||m);break;case q.ThisExpression:this.assign(b,"s"),c(b||"s");break;case q.LocalsExpression:this.assign(b,"l"),c(b||"l");break;case q.NGValueParameter:this.assign(b,"v"),c(b||"v")}},getHasOwnProperty:function(a,b){var d=a+"."+b,c=this.current().own;return c.hasOwnProperty(d)||(c[d]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+a+")")),c[d]},assign:function(a,b){return a?(this.current().body.push(a,"=",b,";"),a):void 0},filter:function(a){return this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0)),this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,d){if(!0===a)b();else{var c=this.current().body;c.push("if(",a,"){"),b(),c.push("}"),d&&(c.push("else{"),d(),c.push("}"))}},not:function(a){return"!("+a+")"},isNull:function(a){return a+"==null"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){var d=/[^$_a-zA-Z0-9]/g;return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(b)?a+"."+b:a+'["'+b.replace(d,this.stringEscapeFn)+'"]'},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,d){return d?this.computedMember(a,b):this.nonComputedMember(a,b)},getStringValue:function(a){this.assign(a,"getStringValue("+a+")")},lazyRecurse:function(a,b,d,c,e,f){var g=this;return function(){g.recurse(a,b,d,c,e,f)}},lazyAssign:function(a,b){var d=this;return function(){d.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(A(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(W(a))return a.toString();if(!0===a)return"true";if(!1===a)return"false";if(null===a)return"null";if("undefined"==typeof a)return"undefined";throw Ya("esc")},nextId:function(a,b){var d="v"+this.state.nextId++;return a||this.current().vars.push(d+(b?"="+b:"")),
d},current:function(){return this.state[this.state.computing]}},Kd.prototype={compile:function(a){var b=this;Z(a,b.$filter);var d,c;(d=Id(a))&&(c=this.recurse(d)),d=Gd(a.body);var e;d&&(e=[],r(d,function(a,c){var d=b.recurse(a);d.isPure=a.isPure,a.input=d,e.push(d),a.watchId=c}));var f=[];return r(a.body,function(a){f.push(b.recurse(a.expression))}),a=0===a.body.length?E:1===a.body.length?f[0]:function(a,b){var c;return r(f,function(d){c=d(a,b)}),c},c&&(a.assign=function(a,b,d){return c(a,d,b)}),e&&(a.inputs=e),a},recurse:function(a,b,d){var c,e,g,f=this;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case q.Literal:return this.value(a.value,b);case q.UnaryExpression:return e=this.recurse(a.argument),this["unary"+a.operator](e,b);case q.BinaryExpression:return c=this.recurse(a.left),e=this.recurse(a.right),this["binary"+a.operator](c,e,b);case q.LogicalExpression:return c=this.recurse(a.left),e=this.recurse(a.right),this["binary"+a.operator](c,e,b);case q.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case q.Identifier:return f.identifier(a.name,b,d);case q.MemberExpression:return c=this.recurse(a.object,!1,!!d),a.computed||(e=a.property.name),a.computed&&(e=this.recurse(a.property)),a.computed?this.computedMember(c,e,b,d):this.nonComputedMember(c,e,b,d);case q.CallExpression:return g=[],r(a.arguments,function(a){g.push(f.recurse(a))}),a.filter&&(e=this.$filter(a.callee.name)),a.filter||(e=this.recurse(a.callee,!0)),a.filter?function(a,c,d,f){for(var p=[],n=0;n<g.length;++n)p.push(g[n](a,c,d,f));return a=e.apply(void 0,p,f),b?{context:void 0,name:void 0,value:a}:a}:function(a,c,d,f){var n,p=e(a,c,d,f);if(null!=p.value){n=[];for(var s=0;s<g.length;++s)n.push(g[s](a,c,d,f));n=p.value.apply(p.context,n)}return b?{value:n}:n};case q.AssignmentExpression:return c=this.recurse(a.left,!0,1),e=this.recurse(a.right),function(a,d,f,g){var p=c(a,d,f,g);return a=e(a,d,f,g),p.context[p.name]=a,b?{value:a}:a};case q.ArrayExpression:return g=[],r(a.elements,function(a){g.push(f.recurse(a))}),function(a,c,d,e){for(var f=[],n=0;n<g.length;++n)f.push(g[n](a,c,d,e));return b?{value:f}:f};case q.ObjectExpression:return g=[],r(a.properties,function(a){a.computed?g.push({key:f.recurse(a.key),computed:!0,value:f.recurse(a.value)}):g.push({key:a.key.type===q.Identifier?a.key.name:""+a.key.value,computed:!1,value:f.recurse(a.value)})}),function(a,c,d,e){for(var f={},n=0;n<g.length;++n)g[n].computed?f[g[n].key(a,c,d,e)]=g[n].value(a,c,d,e):f[g[n].key]=g[n].value(a,c,d,e);return b?{value:f}:f};case q.ThisExpression:return function(a){return b?{value:a}:a};case q.LocalsExpression:return function(a,c){return b?{value:c}:c};case q.NGValueParameter:return function(a,c,d){return b?{value:d}:d}}},"unary+":function(a,b){return function(d,c,e,f){return d=a(d,c,e,f),d=w(d)?+d:0,b?{value:d}:d}},"unary-":function(a,b){return function(d,c,e,f){return d=a(d,c,e,f),d=w(d)?-d:-0,b?{value:d}:d}},"unary!":function(a,b){return function(d,c,e,f){return d=!a(d,c,e,f),b?{value:d}:d}},"binary+":function(a,b,d){return function(c,e,f,g){var k=a(c,e,f,g);return c=b(c,e,f,g),k=Ed(k,c),d?{value:k}:k}},"binary-":function(a,b,d){return function(c,e,f,g){var k=a(c,e,f,g);return c=b(c,e,f,g),k=(w(k)?k:0)-(w(c)?c:0),d?{value:k}:k}},"binary*":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)*b(c,e,f,g),d?{value:c}:c}},"binary/":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)/b(c,e,f,g),d?{value:c}:c}},"binary%":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)%b(c,e,f,g),d?{value:c}:c}},"binary===":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)===b(c,e,f,g),d?{value:c}:c}},"binary!==":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)!==b(c,e,f,g),d?{value:c}:c}},"binary==":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)==b(c,e,f,g),d?{value:c}:c}},"binary!=":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)!=b(c,e,f,g),d?{value:c}:c}},"binary<":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)<b(c,e,f,g),d?{value:c}:c}},"binary>":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)>b(c,e,f,g),d?{value:c}:c}},"binary<=":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)<=b(c,e,f,g),d?{value:c}:c}},"binary>=":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)>=b(c,e,f,g),d?{value:c}:c}},"binary&&":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)&&b(c,e,f,g),d?{value:c}:c}},"binary||":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)||b(c,e,f,g),d?{value:c}:c}},"ternary?:":function(a,b,d,c){return function(e,f,g,k){return e=a(e,f,g,k)?b(e,f,g,k):d(e,f,g,k),c?{value:e}:e}},value:function(a,b){return function(){return b?{context:void 0,name:void 0,value:a}:a}},identifier:function(a,b,d){return function(c,e,f,g){return c=e&&a in e?e:c,d&&1!==d&&c&&null==c[a]&&(c[a]={}),e=c?c[a]:void 0,b?{context:c,name:a,value:e}:e}},computedMember:function(a,b,d,c){return function(e,f,g,k){var l,m,h=a(e,f,g,k);return null!=h&&(l=b(e,f,g,k),l+="",c&&1!==c&&h&&!h[l]&&(h[l]={}),m=h[l]),d?{context:h,name:l,value:m}:m}},nonComputedMember:function(a,b,d,c){return function(e,f,g,k){return e=a(e,f,g,k),c&&1!==c&&e&&null==e[b]&&(e[b]={}),f=null!=e?e[b]:void 0,d?{context:e,name:b,value:f}:f}},inputs:function(a,b){return function(d,c,e,f){return f?f[b]:a(d,c,e)}}},Mb.prototype={constructor:Mb,parse:function(a){a=this.getAst(a);var b=this.astCompiler.compile(a.ast),d=a.ast;return b.literal=0===d.body.length||1===d.body.length&&(d.body[0].expression.type===q.Literal||d.body[0].expression.type===q.ArrayExpression||d.body[0].expression.type===q.ObjectExpression),b.constant=a.ast.constant,b.oneTime=a.oneTime,b},getAst:function(a){var b=!1;return a=a.trim(),":"===a.charAt(0)&&":"===a.charAt(1)&&(b=!0,a=a.substring(2)),{ast:this.ast.ast(a),oneTime:b}}};var Na,Ea=F("$sce"),V={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Cc=/_([a-z])/g,Ug=F("$templateRequest"),Vg=F("$timeout"),aa=C.document.createElement("a"),Od=ga(C.location.href);aa.href="http://[::1]";var Wg="[::1]"===aa.hostname;Pd.$inject=["$document"],dd.$inject=["$provide"];var Wd=22,Vd=".",Ec="0";Qd.$inject=["$locale"],Sd.$inject=["$locale"];var gh={yyyy:ea("FullYear",4,0,!1,!0),yy:ea("FullYear",2,0,!0,!0),y:ea("FullYear",1,0,!1,!0),MMMM:kb("Month"),MMM:kb("Month",!0),MM:ea("Month",2,1),M:ea("Month",1,1),LLLL:kb("Month",!1,!0),dd:ea("Date",2),d:ea("Date",1),HH:ea("Hours",2),H:ea("Hours",1),hh:ea("Hours",2,-12),h:ea("Hours",1,-12),mm:ea("Minutes",2),m:ea("Minutes",1),ss:ea("Seconds",2),s:ea("Seconds",1),sss:ea("Milliseconds",3),EEEE:kb("Day"),EEE:kb("Day",!0),a:function(a,b){return 12>a.getHours()?b.AMPMS[0]:b.AMPMS[1]},Z:function(a,b,d){return a=-1*d,a=(a>=0?"+":"")+(Ob(Math[a>0?"floor":"ceil"](a/60),2)+Ob(Math.abs(a%60),2))},ww:Yd(2),w:Yd(1),G:Fc,GG:Fc,GGG:Fc,GGGG:function(a,b){return 0>=a.getFullYear()?b.ERANAMES[0]:b.ERANAMES[1]}},fh=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,eh=/^-?\d+$/;Rd.$inject=["$locale"];var $g=ia(K),ah=ia(ub);Td.$inject=["$parse"];var Me=ia({restrict:"E",compile:function(a,b){return b.href||b.xlinkHref?void 0:function(a,b){if("a"===b[0].nodeName.toLowerCase()){var e="[object SVGAnimatedString]"===la.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(e)||a.preventDefault()})}}}}),vb={};r(Gb,function(a,b){function d(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}if("multiple"!==a){var c=wa("ng-"+b),e=d;"checked"===a&&(e=function(a,b,e){e.ngModel!==e[c]&&d(a,b,e)}),vb[c]=function(){return{restrict:"A",priority:100,link:e}}}}),r(td,function(a,b){vb[b]=function(){return{priority:100,link:function(a,c,e){return"ngPattern"===b&&"/"===e.ngPattern.charAt(0)&&(c=e.ngPattern.match(ie))?void e.$set("ngPattern",new RegExp(c[1],c[2])):void a.$watch(e[b],function(a){e.$set(b,a)})}}}}),r(["src","srcset","href"],function(a){var b=wa("ng-"+a);vb[b]=["$sce",function(d){return{priority:99,link:function(c,e,f){var g=a,k=a;"href"===a&&"[object SVGAnimatedString]"===la.call(e.prop("href"))&&(k="xlinkHref",f.$attr[k]="xlink:href",g=null),f.$set(b,d.getTrustedMediaUrl(f[b])),f.$observe(b,function(b){b?(f.$set(k,b),Ca&&g&&e.prop(g,f[k])):"href"===a&&f.$set(k,null)})}}}]});var lb={$addControl:E,$getControls:ia([]),$$renameControl:function(a,b){a.$name=b},$removeControl:E,$setValidity:E,$setDirty:E,$setPristine:E,$setSubmitted:E,$$setSubmitted:E};Pb.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Pb.prototype={$rollbackViewValue:function(){r(this.$$controls,function(a){a.$rollbackViewValue()})},$commitViewValue:function(){r(this.$$controls,function(a){a.$commitViewValue()})},$addControl:function(a){Ja(a.$name,"input"),this.$$controls.push(a),a.$name&&(this[a.$name]=a),a.$$parentForm=this},$getControls:function(){return ja(this.$$controls)},$$renameControl:function(a,b){var d=a.$name;this[d]===a&&delete this[d],this[b]=a,a.$name=b},$removeControl:function(a){a.$name&&this[a.$name]===a&&delete this[a.$name],r(this.$pending,function(b,d){this.$setValidity(d,null,a)},this),r(this.$error,function(b,d){this.$setValidity(d,null,a)},this),r(this.$$success,function(b,d){this.$setValidity(d,null,a)},this),cb(this.$$controls,a),a.$$parentForm=lb},$setDirty:function(){this.$$animate.removeClass(this.$$element,Za),this.$$animate.addClass(this.$$element,Vb),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Za,Vb+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,r(this.$$controls,function(a){a.$setPristine()})},$setUntouched:function(){r(this.$$controls,function(a){a.$setUntouched()})},$setSubmitted:function(){for(var a=this;a.$$parentForm&&a.$$parentForm!==lb;)a=a.$$parentForm;a.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,r(this.$$controls,function(a){a.$$setSubmitted&&a.$$setSubmitted()})}},ae({clazz:Pb,set:function(a,b,d){var c=a[b];c?-1===c.indexOf(d)&&c.push(d):a[b]=[d]},unset:function(a,b,d){var c=a[b];c&&(cb(c,d),0===c.length&&delete a[b])}});var ke=function(a){return["$timeout","$parse",function(b,d){function c(a){return""===a?d('this[""]').assign:d(a).assign||E}return{name:"form",restrict:a?"EAC":"E",require:["form","^^?form"],controller:Pb,compile:function(d,f){d.addClass(Za).addClass(mb);var g=f.name?"name":a&&f.ngForm?"ngForm":!1;return{pre:function(a,d,e,f){var p=f[0];if(!("action"in e)){var n=function(b){a.$apply(function(){p.$commitViewValue(),p.$setSubmitted()}),b.preventDefault()};d[0].addEventListener("submit",n),d.on("$destroy",function(){b(function(){d[0].removeEventListener("submit",n)},0,!1)})}(f[1]||p.$$parentForm).$addControl(p);var s=g?c(p.$name):E;g&&(s(a,p),e.$observe(g,function(b){p.$name!==b&&(s(a,void 0),p.$$parentForm.$$renameControl(p,b),(s=c(p.$name))(a,p))})),d.on("$destroy",function(){p.$$parentForm.$removeControl(p),s(a,void 0),S(p,lb)})}}}}}]},Ne=ke(),Ze=ke(!0),hh=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,sh=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,th=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,ih=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,le=/^(\d{4,})-(\d{2})-(\d{2})$/,me=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Mc=/^(\d{4,})-W(\d\d)$/,ne=/^(\d{4,})-(\d\d)$/,oe=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ce=T();r(["date","datetime-local","month","time","week"],function(a){ce[a]=!0});var pe={text:function(a,b,d,c,e,f){Sa(a,b,d,c,e,f),Hc(c)},date:nb("date",le,Qb(le,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":nb("datetimelocal",me,Qb(me,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:nb("time",oe,Qb(oe,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:nb("week",Mc,function(a,b){if(ha(a))return a;if(A(a)){Mc.lastIndex=0;var d=Mc.exec(a);if(d){var c=+d[1],e=+d[2],f=d=0,g=0,k=0,h=Xd(c),e=7*(e-1);return b&&(d=b.getHours(),f=b.getMinutes(),g=b.getSeconds(),k=b.getMilliseconds()),new Date(c,0,h.getDate()+e,d,f,g,k)}}return NaN},"yyyy-Www"),month:nb("month",ne,Qb(ne,["yyyy","MM"]),"yyyy-MM"),number:function(a,b,d,c,e,f,g,k){Ic(a,b,d,c,"number"),de(c),Sa(a,b,d,c,e,f);var h;if(w(d.min)||d.ngMin){var l=d.min||k(d.ngMin)(a);h=na(l),c.$validators.min=function(a,b){return c.$isEmpty(b)||z(h)||b>=h},d.$observe("min",function(a){a!==l&&(h=na(a),l=a,c.$validate())})}if(w(d.max)||d.ngMax){var m=d.max||k(d.ngMax)(a),p=na(m);c.$validators.max=function(a,b){return c.$isEmpty(b)||z(p)||p>=b},d.$observe("max",function(a){a!==m&&(p=na(a),m=a,c.$validate())})}if(w(d.step)||d.ngStep){var n=d.step||k(d.ngStep)(a),s=na(n);c.$validators.step=function(a,b){return c.$isEmpty(b)||z(s)||ee(b,h||0,s)},d.$observe("step",function(a){a!==n&&(s=na(a),n=a,c.$validate())})}},url:function(a,b,d,c,e,f){Sa(a,b,d,c,e,f),Hc(c),c.$validators.url=function(a,b){var d=a||b;return c.$isEmpty(d)||sh.test(d)}},email:function(a,b,d,c,e,f){Sa(a,b,d,c,e,f),Hc(c),c.$validators.email=function(a,b){var d=a||b;return c.$isEmpty(d)||th.test(d)}},radio:function(a,b,d,c){var e=!d.ngTrim||"false"!==U(d.ngTrim);z(d.name)&&b.attr("name",++pb),b.on("change",function(a){var g;b[0].checked&&(g=d.value,e&&(g=U(g)),c.$setViewValue(g,a&&a.type))}),c.$render=function(){var a=d.value;e&&(a=U(a)),b[0].checked=a===c.$viewValue},d.$observe("value",c.$render)},range:function(a,b,d,c,e,f){function g(a,c){b.attr(a,d[a]);var e=d[a];d.$observe(a,function(a){a!==e&&(e=a,c(a))})}function k(a){p=na(a),X(c.$modelValue)||(m?(a=b.val(),p>a&&(a=p,b.val(a)),c.$setViewValue(a)):c.$validate())}function h(a){n=na(a),X(c.$modelValue)||(m?(a=b.val(),a>n&&(b.val(n),a=p>n?p:n),c.$setViewValue(a)):c.$validate())}function l(a){s=na(a),X(c.$modelValue)||(m?c.$viewValue!==b.val()&&c.$setViewValue(b.val()):c.$validate())}Ic(a,b,d,c,"range"),de(c),Sa(a,b,d,c,e,f);var m=c.$$hasNativeValidators&&"range"===b[0].type,p=m?0:void 0,n=m?100:void 0,s=m?1:void 0,r=b[0].validity;a=w(d.min),e=w(d.max),f=w(d.step);var q=c.$render;c.$render=m&&w(r.rangeUnderflow)&&w(r.rangeOverflow)?function(){q(),c.$setViewValue(b.val())}:q,a&&(p=na(d.min),c.$validators.min=m?function(){return!0}:function(a,b){return c.$isEmpty(b)||z(p)||b>=p},g("min",k)),e&&(n=na(d.max),c.$validators.max=m?function(){return!0}:function(a,b){return c.$isEmpty(b)||z(n)||n>=b},g("max",h)),f&&(s=na(d.step),c.$validators.step=m?function(){return!r.stepMismatch}:function(a,b){return c.$isEmpty(b)||z(s)||ee(b,p||0,s)},g("step",l))},checkbox:function(a,b,d,c,e,f,g,k){var h=fe(k,a,"ngTrueValue",d.ngTrueValue,!0),l=fe(k,a,"ngFalseValue",d.ngFalseValue,!1);b.on("change",function(a){c.$setViewValue(b[0].checked,a&&a.type)}),c.$render=function(){b[0].checked=c.$viewValue},c.$isEmpty=function(a){return!1===a},c.$formatters.push(function(a){return va(a,h)}),c.$parsers.push(function(a){return a?h:l})},hidden:E,button:E,submit:E,reset:E,file:E},Yc=["$browser","$sniffer","$filter","$parse",function(a,b,d,c){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,k){k[0]&&(pe[K(g.type)]||pe.text)(e,f,g,k[0],b,a,d,c)}}}}],vf=function(){var a={configurable:!0,enumerable:!1,get:function(){return this.getAttribute("value")||""},set:function(a){this.setAttribute("value",a)}};return{restrict:"E",priority:200,compile:function(b,d){return"hidden"===K(d.type)?{pre:function(b,d,f,g){b=d[0],b.parentNode&&b.parentNode.insertBefore(b,b.nextSibling),Object.defineProperty&&Object.defineProperty(b,"value",a)}}:void 0}}},uh=/^(true|false|\d+)$/,sf=function(){function a(a,d,c){var e=w(c)?c:9===Ca?"":null;a.prop("value",e),d.$set("value",c)}return{restrict:"A",priority:100,compile:function(b,d){return uh.test(d.ngValue)?function(b,d,f){b=b.$eval(f.ngValue),a(d,f,b)}:function(b,d,f){b.$watch(f.ngValue,function(b){a(d,f,b)})}}}},Re=["$compile",function(a){return{restrict:"AC",compile:function(b){return a.$$addBindingClass(b),function(b,c,e){a.$$addBindingInfo(c,e.ngBind),c=c[0],b.$watch(e.ngBind,function(a){c.textContent=ic(a)})}}}}],Te=["$interpolate","$compile",function(a,b){return{compile:function(d){return b.$$addBindingClass(d),function(c,d,f){c=a(d.attr(f.$attr.ngBindTemplate)),b.$$addBindingInfo(d,c.expressions),d=d[0],f.$observe("ngBindTemplate",function(a){d.textContent=z(a)?"":a})}}}}],Se=["$sce","$parse","$compile",function(a,b,d){return{restrict:"A",compile:function(c,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(b){return a.valueOf(b)});return d.$$addBindingClass(c),function(b,c,e){d.$$addBindingInfo(c,e.ngBindHtml),b.$watch(g,function(){var d=f(b);c.html(a.getTrustedHtml(d)||"")})}}}}],rf=ia({restrict:"A",require:"ngModel",link:function(a,b,d,c){c.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),Ue=Kc("",!0),We=Kc("Odd",0),Ve=Kc("Even",1),Xe=Ra({compile:function(a,b){b.$set("ngCloak",void 0),a.removeClass("ng-cloak")}}),Ye=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],cd={},vh={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=wa("ng-"+a);cd[b]=["$parse","$rootScope","$exceptionHandler",function(d,c,e){return qd(d,c,e,b,a,vh[a])}]});var af=["$animate","$compile",function(a,b){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(d,c,e,f,g){var k,h,l;d.$watch(e.ngIf,function(d){d?h||g(function(d,f){h=f,d[d.length++]=b.$$createComment("end ngIf",e.ngIf),k={clone:d},a.enter(d,c.parent(),c)}):(l&&(l.remove(),l=null),h&&(h.$destroy(),h=null),k&&(l=tb(k.clone),a.leave(l).done(function(a){!1!==a&&(l=null)}),k=null))})}}}],bf=["$templateRequest","$anchorScroll","$animate",function(a,b,d){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ca.noop,compile:function(c,e){var f=e.ngInclude||e.src,g=e.onload||"",k=e.autoscroll;return function(c,e,m,p,n){var q,t,x,r=0,v=function(){t&&(t.remove(),t=null),q&&(q.$destroy(),q=null),x&&(d.leave(x).done(function(a){!1!==a&&(t=null)}),t=x,x=null)};c.$watch(f,function(f){var m=function(a){!1===a||!w(k)||k&&!c.$eval(k)||b()},t=++r;f?(a(f,!0).then(function(a){if(!c.$$destroyed&&t===r){var b=c.$new();p.template=a,a=n(b,function(a){v(),d.enter(a,null,e).done(m)}),q=b,x=a,q.$emit("$includeContentLoaded",f),c.$eval(g)}},function(){c.$$destroyed||t!==r||(v(),c.$emit("$includeContentError",f))}),c.$emit("$includeContentRequested",f)):(v(),p.template=null)})}}}}],uf=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(b,d,c,e){la.call(d[0]).match(/SVG/)?(d.empty(),a(ed(e.template,C.document).childNodes)(b,function(a){d.append(a)},{futureParentElement:d})):(d.html(e.template),a(d.contents())(b))}}}],cf=Ra({priority:450,compile:function(){return{pre:function(a,b,d){a.$eval(d.ngInit)}}}}),qf=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,c){var e=d.ngList||", ",f="false"!==d.ngTrim,g=f?U(e):e;c.$parsers.push(function(a){if(!z(a)){var b=[];return a&&r(a.split(g),function(a){a&&b.push(f?U(a):a)}),b}}),c.$formatters.push(function(a){return H(a)?a.join(e):void 0}),c.$isEmpty=function(a){return!a||!a.length}}}},mb="ng-valid",$d="ng-invalid",Za="ng-pristine",Vb="ng-dirty",ob=F("ngModel");Rb.$inject="$scope $exceptionHandler $attrs $element $parse $animate $timeout $q $interpolate".split(" "),Rb.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var a=this.$$parse(this.$$attr.ngModel+"()"),b=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(b){var c=this.$$parsedNgModel(b);return B(c)&&(c=a(b)),c},this.$$ngModelSet=function(a,c){B(this.$$parsedNgModel(a))?b(a,{$$$p:c}):this.$$parsedNgModelAssign(a,c)}}else if(!this.$$parsedNgModel.assign)throw ob("nonassign",this.$$attr.ngModel,za(this.$$element))},$render:E,$isEmpty:function(a){return z(a)||""===a||null===a||a!==a},$$updateEmptyClasses:function(a){this.$isEmpty(a)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Vb),this.$$animate.addClass(this.$$element,Za)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Za),this.$$animate.addClass(this.$$element,Vb),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!X(this.$modelValue)){var a=this.$$lastCommittedViewValue,b=this.$$rawModelValue,d=this.$valid,c=this.$modelValue,e=this.$options.getOption("allowInvalid"),f=this;this.$$runValidators(b,a,function(a){e||d===a||(f.$modelValue=a?b:void 0,f.$modelValue!==c&&f.$$writeModelToScope())})}},$$runValidators:function(a,b,d){function c(){var c=!0;return r(h.$validators,function(d,e){var g=Boolean(d(a,b));c=c&&g,f(e,g)}),c?!0:(r(h.$asyncValidators,function(a,b){f(b,null)}),!1)}function e(){var c=[],d=!0;r(h.$asyncValidators,function(e,g){var h=e(a,b);if(!h||!B(h.then))throw ob("nopromise",h);f(g,void 0),c.push(h.then(function(){f(g,!0)},function(){d=!1,f(g,!1)}))}),c.length?h.$$q.all(c).then(function(){g(d)},E):g(!0)}function f(a,b){k===h.$$currentValidationRunId&&h.$setValidity(a,b)}function g(a){k===h.$$currentValidationRunId&&d(a)}this.$$currentValidationRunId++;var k=this.$$currentValidationRunId,h=this;(function(){var a=h.$$parserName;return z(h.$$parserValid)?(f(a,null),!0):(h.$$parserValid||(r(h.$validators,function(a,b){f(b,null)}),r(h.$asyncValidators,function(a,b){f(b,null)})),f(a,h.$$parserValid),h.$$parserValid)})()&&c()?e():g(!1)},$commitViewValue:function(){var a=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==a||""===a&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(a),this.$$lastCommittedViewValue=a,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var a=this.$$lastCommittedViewValue,b=this;if(this.$$parserValid=z(a)?void 0:!0,this.$setValidity(this.$$parserName,null),this.$$parserName="parse",this.$$parserValid)for(var d=0;d<this.$parsers.length;d++)if(a=this.$parsers[d](a),z(a)){this.$$parserValid=!1;break}X(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var c=this.$modelValue,e=this.$options.getOption("allowInvalid");this.$$rawModelValue=a,e&&(this.$modelValue=a,b.$modelValue!==c&&b.$$writeModelToScope()),this.$$runValidators(a,this.$$lastCommittedViewValue,function(d){e||(b.$modelValue=d?a:void 0,b.$modelValue!==c&&b.$$writeModelToScope())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),r(this.$viewChangeListeners,function(a){try{a()}catch(b){this.$$exceptionHandler(b)}},this)},$setViewValue:function(a,b){this.$viewValue=a,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(b)},$$debounceViewValueCommit:function(a){var b=this.$options.getOption("debounce");W(b[a])?b=b[a]:W(b["default"])&&-1===this.$options.getOption("updateOn").indexOf(a)?b=b["default"]:W(b["*"])&&(b=b["*"]),this.$$timeout.cancel(this.$$pendingDebounce);var d=this;b>0?this.$$pendingDebounce=this.$$timeout(function(){d.$commitViewValue()},b):this.$$rootScope.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){d.$commitViewValue()})},$overrideModelOptions:function(a){this.$options=this.$options.createChild(a),this.$$setUpdateOnEvents()},$processModelValue:function(){var a=this.$$format();this.$viewValue!==a&&(this.$$updateEmptyClasses(a),this.$viewValue=this.$$lastCommittedViewValue=a,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,E))},$$format:function(){for(var a=this.$formatters,b=a.length,d=this.$modelValue;b--;)d=a[b](d);return d},$$setModelValue:function(a){this.$modelValue=this.$$rawModelValue=a,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),(this.$$updateEvents=this.$options.getOption("updateOn"))&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(a){this.$$debounceViewValueCommit(a&&a.type)}},ae({clazz:Rb,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]}});var Sb,pf=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Rb,priority:1,compile:function(b){return b.addClass(Za).addClass("ng-untouched").addClass(mb),{pre:function(a,b,e,f){var g=f[0];b=f[1]||g.$$parentForm,(f=f[2])&&(g.$options=f.$options),g.$$initGetterSetters(),b.$addControl(g),e.$observe("name",function(a){g.$name!==a&&g.$$parentForm.$$renameControl(g,a)}),a.$on("$destroy",function(){g.$$parentForm.$removeControl(g)})},post:function(b,c,e,f){function g(){k.$setTouched()}var k=f[0];k.$$setUpdateOnEvents(),c.on("blur",function(){k.$touched||(a.$$phase?b.$evalAsync(g):b.$apply(g))})}}}}}],wh=/(\s+|^)default(\s+|$)/;Lc.prototype={getOption:function(a){return this.$$options[a]},createChild:function(a){var b=!1;return a=S({},a),r(a,function(d,c){"$inherit"===d?"*"===c?b=!0:(a[c]=this.$$options[c],"updateOn"===c&&(a.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===c&&(a.updateOnDefault=!1,a[c]=U(d.replace(wh,function(){return a.updateOnDefault=!0," "})))},this),b&&(delete a["*"],ge(a,this.$$options)),ge(a,Sb.$$options),new Lc(a)}},Sb=new Lc({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var tf=function(){function a(a,d){this.$$attrs=a,this.$$scope=d}return a.$inject=["$attrs","$scope"],a.prototype={$onInit:function(){var a=this.parentCtrl?this.parentCtrl.$options:Sb,d=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=a.createChild(d)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:a}},df=Ra({terminal:!0,priority:1e3}),xh=F("ngOptions"),yh=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,nf=["$compile","$document","$parse",function(a,b,d){function c(a,b,c){function e(a,b,c,d,f){this.selectValue=a,this.viewValue=b,this.label=c,this.group=d,this.disabled=f}function f(a){var b;if(!r&&ya(a))b=a;else{b=[];for(var c in a)a.hasOwnProperty(c)&&"$"!==c.charAt(0)&&b.push(c)}return b}var p=a.match(yh);if(!p)throw xh("iexp",a,za(b));var n=p[5]||p[7],r=p[6];a=/ as /.test(p[0])&&p[1];var q=p[9];b=d(p[2]?p[1]:n);var t=a&&d(a)||b,w=q&&d(q),v=q?function(a,b){return w(c,b)}:function(a){return La(a)},x=function(a,b){return v(a,A(a,b))},z=d(p[2]||p[1]),y=d(p[3]||""),J=d(p[4]||""),I=d(p[8]),B={},A=r?function(a,b){return B[r]=b,B[n]=a,B}:function(a){return B[n]=a,B};return{trackBy:q,getTrackByValue:x,getWatchables:d(I,function(a){var b=[];a=a||[];for(var d=f(a),e=d.length,g=0;e>g;g++){var k=a===d?g:d[g],l=a[k],k=A(l,k),l=v(l,k);b.push(l),(p[2]||p[1])&&(l=z(c,k),b.push(l)),p[4]&&(k=J(c,k),b.push(k))}return b}),getOptions:function(){for(var a=[],b={},d=I(c)||[],g=f(d),k=g.length,n=0;k>n;n++){var p=d===g?n:g[n],r=A(d[p],p),s=t(c,r),p=v(s,r),w=z(c,r),B=y(c,r),r=J(c,r),s=new e(p,s,w,B,r);a.push(s),b[p]=s}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[x(a)]},getViewValueFromOption:function(a){return q?Ia(a.viewValue):a.viewValue}}}}}var e=C.document.createElement("option"),f=C.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=E},post:function(d,k,h,l){function m(a){var b=(a=v.getOptionFromViewValue(a))&&a.element;return b&&!b.selected&&(b.selected=!0),a}function p(a,b){a.element=b,b.disabled=a.disabled,a.label!==b.label&&(b.label=a.label,b.textContent=a.label),b.value=a.selectValue}var n=l[0],q=l[1],z=h.multiple;l=0;for(var t=k.children(),B=t.length;B>l;l++)if(""===t[l].value){n.hasEmptyOption=!0,n.emptyOption=t.eq(l);break}k.empty(),l=!!n.emptyOption,x(e.cloneNode(!1)).val("?");var v,A=c(h.ngOptions,k,d),C=b[0].createDocumentFragment();n.generateUnknownOptionValue=function(a){return"?"},z?(n.writeValue=function(a){if(v){var b=a&&a.map(m)||[];v.items.forEach(function(a){a.element.selected&&-1===Array.prototype.indexOf.call(b,a)&&(a.element.selected=!1)})}},n.readValue=function(){var a=k.val()||[],b=[];return r(a,function(a){(a=v.selectValueMap[a])&&!a.disabled&&b.push(v.getViewValueFromOption(a))}),b},A.trackBy&&d.$watchCollection(function(){return H(q.$viewValue)?q.$viewValue.map(function(a){return A.getTrackByValue(a)}):void 0},function(){q.$render()})):(n.writeValue=function(a){if(v){var b=k[0].options[k[0].selectedIndex],c=v.getOptionFromViewValue(a);b&&b.removeAttribute("selected"),c?(k[0].value!==c.selectValue&&(n.removeUnknownOption(),k[0].value=c.selectValue,c.element.selected=!0),c.element.setAttribute("selected","selected")):n.selectUnknownOrEmptyOption(a)}},n.readValue=function(){var a=v.selectValueMap[k.val()];return a&&!a.disabled?(n.unselectEmptyOption(),n.removeUnknownOption(),v.getViewValueFromOption(a)):null},A.trackBy&&d.$watch(function(){return A.getTrackByValue(q.$viewValue)},function(){q.$render()})),l&&(a(n.emptyOption)(d),k.prepend(n.emptyOption),8===n.emptyOption[0].nodeType?(n.hasEmptyOption=!1,n.registerOption=function(a,b){""===b.val()&&(n.hasEmptyOption=!0,n.emptyOption=b,n.emptyOption.removeClass("ng-scope"),q.$render(),b.on("$destroy",function(){var a=n.$isEmptyOptionSelected();n.hasEmptyOption=!1,n.emptyOption=void 0,a&&q.$render()}))}):n.emptyOption.removeClass("ng-scope")),d.$watchCollection(A.getWatchables,function(){var a=v&&n.readValue();if(v)for(var b=v.items.length-1;b>=0;b--){var c=v.items[b];Fb(w(c.group)?c.element.parentNode:c.element)}v=A.getOptions();var d={};v.items.forEach(function(a){var b;if(w(a.group)){b=d[a.group],b||(b=f.cloneNode(!1),C.appendChild(b),b.label=null===a.group?"null":a.group,d[a.group]=b);var c=e.cloneNode(!1);b.appendChild(c),p(a,c)}else b=e.cloneNode(!1),C.appendChild(b),p(a,b)}),k[0].appendChild(C),q.$render(),q.$isEmpty(a)||(b=n.readValue(),(A.trackBy||z?va(a,b):a===b)||(q.$setViewValue(b),q.$render()))})}}}}],ef=["$locale","$interpolate","$log",function(a,b,d){var c=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(f,g,k){function h(a){g.text(a||"")}var A,l=k.count,m=k.$attr.when&&g.attr(k.$attr.when),p=k.offset||0,n=f.$eval(m)||{},q={},w=b.startSymbol(),t=b.endSymbol(),x=w+l+"-"+p+t,v=ca.noop;r(k,function(a,b){var c=e.exec(b);c&&(c=(c[1]?"-":"")+K(c[2]),n[c]=g.attr(k.$attr[b]))}),r(n,function(a,d){q[d]=b(a.replace(c,x))}),f.$watch(l,function(b){var c=parseFloat(b),e=X(c);e||c in n||(c=a.pluralCat(c-p)),c===A||e&&X(A)||(v(),e=q[c],z(e)?(null!=b&&d.debug("ngPluralize: no rule defined for '"+c+"' in "+m),v=E,h()):v=f.$watch(e,h),A=c)})}}}],qe=F("ngRef"),ff=["$parse",function(a){return{priority:-1,restrict:"A",compile:function(b,d){var c=wa(ua(b)),e=a(d.ngRef),f=e.assign||function(){throw qe("nonassign",d.ngRef)};return function(a,b,h){var l;if(h.hasOwnProperty("ngRefRead")){if("$element"===h.ngRefRead)l=b;else if(l=b.data("$"+h.ngRefRead+"Controller"),!l)throw qe("noctrl",h.ngRefRead,d.ngRef)}else l=b.data("$"+c+"Controller");l=l||b,f(a,l),b.on("$destroy",function(){e(a)===l&&f(a,null)})}}}}],gf=["$parse","$animate","$compile",function(a,b,d){var c=F("ngRepeat"),e=function(a,b,c,d,e,f,g){a[c]=d,e&&(a[e]=f),a.$index=b,a.$first=0===b,a.$last=b===g-1,a.$middle=!(a.$first||a.$last),a.$odd=!(a.$even=0===(1&b))},f=function(a,b,c){return La(c)},g=function(a,b){return b};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(k,h){var l=h.ngRepeat,m=d.$$createComment("end ngRepeat",l),p=l.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw c("iexp",l);var n=p[1],q=p[2],w=p[3],t=p[4],p=n.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/);if(!p)throw c("iidexp",n);var x=p[3]||p[1],v=p[2];
if(w&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(w)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(w)))throw c("badident",w);var z;if(t){var A={$id:La},y=a(t);z=function(a,b,c,d){return v&&(A[v]=b),A[x]=c,A.$index=d,y(a,A)}}return function(a,d,h,k,n){var p=T();a.$watchCollection(q,function(h){var k,q,s,B,C,E,D,H,F,K,t=d[0],y=T();if(w&&(a[w]=h),ya(h))H=h,q=z||f;else for(K in q=z||g,H=[],h)ta.call(h,K)&&"$"!==K.charAt(0)&&H.push(K);for(B=H.length,K=Array(B),k=0;B>k;k++)if(C=h===H?k:H[k],E=h[C],D=q(a,C,E,k),p[D])F=p[D],delete p[D],y[D]=F,K[k]=F;else{if(y[D])throw r(K,function(a){a&&a.scope&&(p[a.id]=a)}),c("dupes",l,D,E);K[k]={id:D,scope:void 0,clone:void 0},y[D]=!0}A&&(A[x]=void 0);for(s in p){if(F=p[s],D=tb(F.clone),b.leave(D),D[0].parentNode)for(k=0,q=D.length;q>k;k++)D[k].$$NG_REMOVED=!0;F.scope.$destroy()}for(k=0;B>k;k++)if(C=h===H?k:H[k],E=h[C],F=K[k],F.scope){s=t;do s=s.nextSibling;while(s&&s.$$NG_REMOVED);F.clone[0]!==s&&b.move(tb(F.clone),null,t),t=F.clone[F.clone.length-1],e(F.scope,k,x,E,v,C,B)}else n(function(a,c){F.scope=c;var d=m.cloneNode(!1);a[a.length++]=d,b.enter(a,null,t),t=d,F.clone=a,y[F.id]=F,e(F.scope,k,x,E,v,C,B)});p=y})}}}}],hf=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngShow,function(b){a[b?"removeClass":"addClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],$e=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngHide,function(b){a[b?"addClass":"removeClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],jf=Ra(function(a,b,d){a.$watchCollection(d.ngStyle,function(a,d){d&&a!==d&&(a||(a={}),r(d,function(b,d){null==a[d]&&(a[d]="")})),a&&b.css(a)})}),kf=["$animate","$compile",function(a,b){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(d,c,e,f){var g=[],k=[],h=[],l=[],m=function(a,b){return function(c){!1!==c&&a.splice(b,1)}};d.$watch(e.ngSwitch||e.on,function(c){for(var d,e;h.length;)a.cancel(h.pop());for(d=0,e=l.length;e>d;++d){var q=tb(k[d].clone);l[d].$destroy(),(h[d]=a.leave(q)).done(m(h,d))}k.length=0,l.length=0,(g=f.cases["!"+c]||f.cases["?"])&&r(g,function(c){c.transclude(function(d,e){l.push(e);var f=c.element;d[d.length++]=b.$$createComment("end ngSwitchWhen"),k.push({clone:d}),a.enter(d,f.parent(),f)})})})}}}],lf=Ra({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){a=d.ngSwitchWhen.split(d.ngSwitchWhenSeparator).sort().filter(function(a,b,c){return c[b-1]!==a}),r(a,function(a){c.cases["!"+a]=c.cases["!"+a]||[],c.cases["!"+a].push({transclude:e,element:b})})}}),mf=Ra({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){c.cases["?"]=c.cases["?"]||[],c.cases["?"].push({transclude:e,element:b})}}),zh=F("ngTransclude"),of=["$compile",function(a){return{restrict:"EAC",compile:function(b){var d=a(b.contents());return b.empty(),function(a,b,f,g,k){function h(){d(a,function(a){b.append(a)})}if(!k)throw zh("orphan",za(b));f.ngTransclude===f.$attr.ngTransclude&&(f.ngTransclude=""),f=f.ngTransclude||f.ngTranscludeSlot,k(function(a,c){var d;if(d=a.length)a:{d=0;for(var f=a.length;f>d;d++){var g=a[d];if(g.nodeType!==Pa||g.nodeValue.trim()){d=!0;break a}}d=void 0}d?b.append(a):(h(),c.$destroy())},null,f),f&&!k.isSlotFilled(f)&&h()}}}}],Oe=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,d){"text/ng-template"===d.type&&a.put(d.id,b[0].text)}}}],Ah={$setViewValue:E,$render:E},Bh=["$element","$scope",function(a,b){function d(){g||(g=!0,b.$$postDigest(function(){g=!1,e.ngModelCtrl.$render()}))}function c(a){k||(k=!0,b.$$postDigest(function(){b.$$destroyed||(k=!1,e.ngModelCtrl.$setViewValue(e.readValue()),a&&e.ngModelCtrl.$render())}))}var e=this,f=new Hb;e.selectValueMap={},e.ngModelCtrl=Ah,e.multiple=!1,e.unknownOption=x(C.document.createElement("option")),e.hasEmptyOption=!1,e.emptyOption=void 0,e.renderUnknownOption=function(b){b=e.generateUnknownOptionValue(b),e.unknownOption.val(b),a.prepend(e.unknownOption),Oa(e.unknownOption,!0),a.val(b)},e.updateUnknownOption=function(b){b=e.generateUnknownOptionValue(b),e.unknownOption.val(b),Oa(e.unknownOption,!0),a.val(b)},e.generateUnknownOptionValue=function(a){return"? "+La(a)+" ?"},e.removeUnknownOption=function(){e.unknownOption.parent()&&e.unknownOption.remove()},e.selectEmptyOption=function(){e.emptyOption&&(a.val(""),Oa(e.emptyOption,!0))},e.unselectEmptyOption=function(){e.hasEmptyOption&&Oa(e.emptyOption,!1)},b.$on("$destroy",function(){e.renderUnknownOption=E}),e.readValue=function(){var b=a.val(),b=b in e.selectValueMap?e.selectValueMap[b]:b;return e.hasOption(b)?b:null},e.writeValue=function(b){var c=a[0].options[a[0].selectedIndex];c&&Oa(x(c),!1),e.hasOption(b)?(e.removeUnknownOption(),c=La(b),a.val(c in e.selectValueMap?c:b),Oa(x(a[0].options[a[0].selectedIndex]),!0)):e.selectUnknownOrEmptyOption(b)},e.addOption=function(a,b){if(8!==b[0].nodeType){Ja(a,'"option value"'),""===a&&(e.hasEmptyOption=!0,e.emptyOption=b);var c=f.get(a)||0;f.set(a,c+1),d()}},e.removeOption=function(a){var b=f.get(a);b&&(1===b?(f["delete"](a),""===a&&(e.hasEmptyOption=!1,e.emptyOption=void 0)):f.set(a,b-1))},e.hasOption=function(a){return!!f.get(a)},e.$hasEmptyOption=function(){return e.hasEmptyOption},e.$isUnknownOptionSelected=function(){return a[0].options[0]===e.unknownOption[0]},e.$isEmptyOptionSelected=function(){return e.hasEmptyOption&&a[0].options[a[0].selectedIndex]===e.emptyOption[0]},e.selectUnknownOrEmptyOption=function(a){null==a&&e.emptyOption?(e.removeUnknownOption(),e.selectEmptyOption()):e.unknownOption.parent().length?e.updateUnknownOption(a):e.renderUnknownOption(a)};var g=!1,k=!1;e.registerOption=function(a,b,f,g,k){if(f.$attr.ngValue){var q,r;f.$observe("value",function(a){var d,f=b.prop("selected");w(r)&&(e.removeOption(q),delete e.selectValueMap[r],d=!0),r=La(a),q=a,e.selectValueMap[r]=a,e.addOption(a,b),b.attr("value",r),d&&f&&c()})}else g?f.$observe("value",function(a){e.readValue();var d,f=b.prop("selected");w(q)&&(e.removeOption(q),d=!0),q=a,e.addOption(a,b),d&&f&&c()}):k?a.$watch(k,function(a,d){f.$set("value",a);var g=b.prop("selected");d!==a&&e.removeOption(d),e.addOption(a,b),d&&g&&c()}):e.addOption(f.value,b);f.$observe("disabled",function(a){("true"===a||a&&b.prop("selected"))&&(e.multiple?c(!0):(e.ngModelCtrl.$setViewValue(null),e.ngModelCtrl.$render()))}),b.on("$destroy",function(){var a=e.readValue(),b=f.value;e.removeOption(b),d(),(e.multiple&&a&&-1!==a.indexOf(b)||a===b)&&c(!0)})}}],Pe=function(){return{restrict:"E",require:["select","?ngModel"],controller:Bh,priority:1,link:{pre:function(a,b,d,c){var e=c[0],f=c[1];if(f){if(e.ngModelCtrl=f,b.on("change",function(){e.removeUnknownOption(),a.$apply(function(){f.$setViewValue(e.readValue())})}),d.multiple){e.multiple=!0,e.readValue=function(){var a=[];return r(b.find("option"),function(b){b.selected&&!b.disabled&&(b=b.value,a.push(b in e.selectValueMap?e.selectValueMap[b]:b))}),a},e.writeValue=function(a){r(b.find("option"),function(b){var c=!!a&&(-1!==Array.prototype.indexOf.call(a,b.value)||-1!==Array.prototype.indexOf.call(a,e.selectValueMap[b.value]));c!==b.selected&&Oa(x(b),c)})};var g,k=NaN;a.$watch(function(){k!==f.$viewValue||va(g,f.$viewValue)||(g=ja(f.$viewValue),f.$render()),k=f.$viewValue}),f.$isEmpty=function(a){return!a||0===a.length}}}else e.registerOption=E},post:function(a,b,d,c){var e=c[1];if(e){var f=c[0];e.$render=function(){f.writeValue(e.$viewValue)}}}}}},Qe=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,d){var c,e;return w(d.ngValue)||(w(d.value)?c=a(d.value,!0):(e=a(b.text(),!0))||d.$set("value",b.text())),function(a,b,d){var h=b.parent();(h=h.data("$selectController")||h.parent().data("$selectController"))&&h.registerOption(a,b,d,c,e)}}}}],$c=["$parse",function(a){return{restrict:"A",require:"?ngModel",link:function(b,d,c,e){if(e){var f=c.hasOwnProperty("required")||a(c.ngRequired)(b);c.ngRequired||(c.required=!0),e.$validators.required=function(a,b){return!f||!e.$isEmpty(b)},c.$observe("required",function(a){f!==a&&(f=a,e.$validate())})}}}}],Zc=["$parse",function(a){return{restrict:"A",require:"?ngModel",compile:function(b,d){var c,e;return d.ngPattern&&(c=d.ngPattern,e="/"===d.ngPattern.charAt(0)&&ie.test(d.ngPattern)?function(){return d.ngPattern}:a(d.ngPattern)),function(a,b,d,h){if(h){var l=d.pattern;d.ngPattern?l=e(a):c=d.pattern;var m=he(l,c,b);d.$observe("pattern",function(a){var d=m;m=he(a,c,b),(d&&d.toString())!==(m&&m.toString())&&h.$validate()}),h.$validators.pattern=function(a,b){return h.$isEmpty(b)||z(m)||m.test(b)}}}}}}],bd=["$parse",function(a){return{restrict:"A",require:"?ngModel",link:function(b,d,c,e){if(e){var f=c.maxlength||a(c.ngMaxlength)(b),g=Tb(f);c.$observe("maxlength",function(a){f!==a&&(g=Tb(a),f=a,e.$validate())}),e.$validators.maxlength=function(a,b){return 0>g||e.$isEmpty(b)||b.length<=g}}}}}],ad=["$parse",function(a){return{restrict:"A",require:"?ngModel",link:function(b,d,c,e){if(e){var f=c.minlength||a(c.ngMinlength)(b),g=Tb(f)||-1;c.$observe("minlength",function(a){f!==a&&(g=Tb(a)||-1,f=a,e.$validate())}),e.$validators.minlength=function(a,b){return e.$isEmpty(b)||b.length>=g}}}}}];C.angular.bootstrap?C.console&&void 0:(Fe(),Je(ca),ca.module("ngLocale",[],["$provide",function(a){function b(a){a+="";var b=a.indexOf(".");return-1==b?0:a.length-b-1}a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-\xa4",negSuf:"",posPre:"\xa4",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(a,c){var e=0|a,f=c;return void 0===f&&(f=Math.min(b(a),3)),Math.pow(10,f),1==e&&0==f?"one":"other"}})}]),x(function(){Ae(C.document,Uc)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(s,c){"use strict";function P(c){var h=[];return C(h,E).chars(c),h.join("")}var F,h,G,H,I,q,E,J,K,C,D=c.$$minErr("$sanitize");c.module("ngSanitize",[]).provider("$sanitize",function(){function f(a,e){return B(a.split(","),e)}function B(a,e){var b,d={};for(b=0;b<a.length;b++)d[e?q(a[b]):a[b]]=!0;return d}function t(a,e){e&&e.length&&h(a,B(e))}function Q(a){for(var e={},d=0,b=a.length;b>d;d++){var k=a[d];e[k.name]=k.value}return e}function L(a){return a.replace(/&/g,"&amp;").replace(z,function(a){var d=a.charCodeAt(0);return a=a.charCodeAt(1),"&#"+(1024*(d-55296)+(a-56320)+65536)+";"}).replace(u,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function A(a){for(;a;){if(a.nodeType===s.Node.ELEMENT_NODE)for(var e=a.attributes,d=0,b=e.length;b>d;d++){var k=e[d],g=k.name.toLowerCase();("xmlns:ns1"===g||0===g.lastIndexOf("ns1:",0))&&(a.removeAttributeNode(k),d--,b--)}(e=a.firstChild)&&A(e),a=v("nextSibling",a)}}function v(a,e){var d=e[a];if(d&&J.call(e,d))throw D("elclob",e.outerHTML||e.outerText);return d}var y=!1,g=!1;this.$get=["$$sanitizeUri",function(a){return y=!0,g&&h(m,l),function(e){var d=[];return K(e,C(d,function(b,d){return!/^unsafe:/.test(a(b,d))})),d.join("")}}],this.enableSvg=function(a){return I(a)?(g=a,this):g},this.addValidElements=function(a){return y||(H(a)&&(a={htmlElements:a}),t(l,a.svgElements),t(r,a.htmlVoidElements),t(m,a.htmlVoidElements),t(m,a.htmlElements)),this},this.addValidAttrs=function(a){return y||h(M,B(a,!0)),this},F=c.bind,h=c.extend,G=c.forEach,H=c.isArray,I=c.isDefined,q=c.$$lowercase,E=c.noop,K=function(a,e){null===a||void 0===a?a="":"string"!=typeof a&&(a=""+a);var d=N(a);if(!d)return"";var b=5;do{if(0===b)throw D("uinput");b--,a=d.innerHTML,d=N(a)}while(a!==d.innerHTML);for(b=d.firstChild;b;){switch(b.nodeType){case 1:e.start(b.nodeName.toLowerCase(),Q(b.attributes));break;case 3:e.chars(b.textContent)}var k;if(!(k=b.firstChild)&&(1===b.nodeType&&e.end(b.nodeName.toLowerCase()),k=v("nextSibling",b),!k))for(;null==k&&(b=v("parentNode",b),b!==d);)k=v("nextSibling",b),1===b.nodeType&&e.end(b.nodeName.toLowerCase());b=k}for(;b=d.firstChild;)d.removeChild(b)},C=function(a,e){var d=!1,b=F(a,a.push);return{start:function(a,g){a=q(a),!d&&w[a]&&(d=a),d||!0!==m[a]||(b("<"),b(a),G(g,function(d,g){var c=q(g),f="img"===a&&"src"===c||"background"===c;!0!==M[c]||!0===O[c]&&!e(d,f)||(b(" "),b(g),b('="'),b(L(d)),b('"'))}),b(">"))},end:function(a){a=q(a),d||!0!==m[a]||!0===r[a]||(b("</"),b(a),b(">")),a==d&&(d=!1)},chars:function(a){d||b(L(a))}}},J=s.Node.prototype.contains||function(a){return!!(16&this.compareDocumentPosition(a))};var z=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=/([^#-~ |!])/g,r=f("area,br,col,hr,img,wbr"),x=f("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),p=f("rp,rt"),n=h({},p,x),x=h({},x,f("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),p=h({},p,f("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),l=f("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),w=f("script,style"),m=h({},r,x,p,n),O=f("background,cite,href,longdesc,src,xlink:href,xml:base"),n=f("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),p=f("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),M=h({},O,p,n),N=function(a,e){function d(b){b="<remove></remove>"+b;try{var d=(new a.DOMParser).parseFromString(b,"text/html").body;return d.firstChild.remove(),d}catch(e){}}function b(a){return c.innerHTML=a,e.documentMode&&A(c),c}var g;if(!e||!e.implementation)throw D("noinert");g=e.implementation.createHTMLDocument("inert");var c=(g.documentElement||g.getDocumentElement()).querySelector("body");return c.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',c.querySelector("svg")?(c.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',c.querySelector("svg img")?d:b):function(b){b="<remove></remove>"+b;try{b=encodeURI(b)}catch(d){return}var e=new a.XMLHttpRequest;return e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+b,!1),e.send(null),b=e.response.body,b.firstChild.remove(),b}}(s,s.document)}).info({angularVersion:"1.7.8"}),c.module("ngSanitize").filter("linky",["$sanitize",function(f){var h=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,t=/^mailto:/i,q=c.$$minErr("linky"),s=c.isDefined,A=c.isFunction,v=c.isObject,y=c.isString;return function(c,z,u){function r(c){c&&l.push(P(c))}function x(c,g){var f,a=p(c);l.push("<a ");for(f in a)l.push(f+'="'+a[f]+'" ');!s(z)||"target"in a||l.push('target="',z,'" '),l.push('href="',c.replace(/"/g,"&quot;"),'">'),r(g),l.push("</a>")}if(null==c||""===c)return c;if(!y(c))throw q("notstring",c);for(var w,m,p=A(u)?u:v(u)?function(){return u}:function(){return{}},n=c,l=[];c=n.match(h);)w=c[0],c[2]||c[4]||(w=(c[3]?"http://":"mailto:")+w),m=c.index,r(n.substr(0,m)),x(w,c[0].replace(t,"")),n=n.substring(m+c[0].length);return r(n),f(l.join(""))}}])}(window,window.angular),function(Y,z){"use strict";function Fa(a,b,c){if(!a)throw Pa("areq",b||"?",c||"required");return a}function Ga(a,b){return a||b?a?b?(Z(a)&&(a=a.join(" ")),Z(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function Qa(a){var b={};return a&&(a.to||a.from)&&(b.to=a.to,b.from=a.from),b}function $(a,b,c){var d="";return a=Z(a)?a:a&&G(a)&&a.length?a.split(/\s+/):[],s(a,function(a,k){a&&0<a.length&&(d+=k>0?" ":"",d+=c?b+a:a+b)}),d}function Ha(a){if(a instanceof A)switch(a.length){case 0:return a;case 1:if(1===a[0].nodeType)return a;break;default:return A(va(a))}return 1===a.nodeType?A(a):void 0}function va(a){if(!a[0])return a;for(var b=0;b<a.length;b++){var c=a[b];if(1===c.nodeType)return c}}function Ra(a,b,c){s(b,function(b){a.addClass(b,c)})}function Sa(a,b,c){s(b,function(b){a.removeClass(b,c)})}function aa(a){return function(b,c){c.addClass&&(Ra(a,b,c.addClass),c.addClass=null),c.removeClass&&(Sa(a,b,c.removeClass),c.removeClass=null)}}function pa(a){if(a=a||{},!a.$$prepared){var b=a.domOperation||N;a.domOperation=function(){a.$$domOperationFired=!0,b(),b=N},a.$$prepared=!0}return a}function ha(a,b){Ia(a,b),Ja(a,b)}function Ia(a,b){b.from&&(a.css(b.from),b.from=null)}function Ja(a,b){b.to&&(a.css(b.to),b.to=null)}function T(a,b,c){var d=b.options||{};c=c.options||{};var f=(d.addClass||"")+" "+(c.addClass||""),k=(d.removeClass||"")+" "+(c.removeClass||"");return a=Ta(a.attr("class"),f,k),c.preparationClasses&&(d.preparationClasses=ba(c.preparationClasses,d.preparationClasses),delete c.preparationClasses),f=d.domOperation!==N?d.domOperation:null,wa(d,c),f&&(d.domOperation=f),d.addClass=a.addClass?a.addClass:null,d.removeClass=a.removeClass?a.removeClass:null,b.addClass=d.addClass,b.removeClass=d.removeClass,d}function Ta(a,b,c){function d(a){G(a)&&(a=a.split(" "));var c={};return s(a,function(a){a.length&&(c[a]=!0)}),c}var f={};a=d(a),b=d(b),s(b,function(a,c){f[c]=1}),c=d(c),s(c,function(a,c){f[c]=1===f[c]?null:-1});var k={addClass:"",removeClass:""};return s(f,function(c,b){var d,f;1===c?(d="addClass",f=!a[b]||a[b+"-remove"]):-1===c&&(d="removeClass",f=a[b]||a[b+"-add"]),f&&(k[d].length&&(k[d]+=" "),k[d]+=b)}),k}function K(a){return a instanceof A?a[0]:a}function Ua(a,b,c,d){a="",c&&(a=$(c,"ng-",!0)),d.addClass&&(a=ba(a,$(d.addClass,"-add"))),d.removeClass&&(a=ba(a,$(d.removeClass,"-remove"))),a.length&&(d.preparationClasses=a,b.addClass(a))}function xa(a,b){var c=b?"paused":"",d=ca+"PlayState";return ma(a,[d,c]),[d,c]}function ma(a,b){a.style[b[0]]=b[1]}function ba(a,b){return a?b?a+" "+b:a:b}function Ka(a,b,c){var d=Object.create(null),f=a.getComputedStyle(b)||{};return s(c,function(a,c){var b=f[a];if(b){var L=b.charAt(0);("-"===L||"+"===L||L>=0)&&(b=Va(b)),0===b&&(b=null),d[c]=b}}),d}function Va(a){var b=0;return a=a.split(/\s*,\s*/),s(a,function(a){"s"===a.charAt(a.length-1)&&(a=a.substring(0,a.length-1)),a=parseFloat(a)||0,b=b?Math.max(a,b):a}),b}function ya(a){return 0===a||null!=a}function La(a,b){var c=M,d=a+"s";return b?c+="Duration":d+=" linear all",[c,d]}function Ma(a,b,c){s(c,function(c){a[c]=za(a[c])?a[c]:b.style.getPropertyValue(c)})}var M,Aa,ca,Ba;void 0===Y.ontransitionend&&void 0!==Y.onwebkittransitionend?(M="WebkitTransition",Aa="webkitTransitionEnd transitionend"):(M="transition",Aa="transitionend"),void 0===Y.onanimationend&&void 0!==Y.onwebkitanimationend?(ca="WebkitAnimation",Ba="webkitAnimationEnd animationend"):(ca="animation",Ba="animationend");var Da,wa,s,Z,za,sa,Ea,ta,G,R,A,N,qa=ca+"Delay",Ca=ca+"Duration",na=M+"Delay",Na=M+"Duration",Pa=z.$$minErr("ng"),ra={blockTransitions:function(a,b){var c=b?"-"+b+"s":"";return ma(a,[na,c]),[na,c]}},Wa={transitionDuration:Na,transitionDelay:na,transitionProperty:M+"Property",animationDuration:Ca,animationDelay:qa,animationIterationCount:ca+"IterationCount"},Xa={transitionDuration:Na,transitionDelay:na,animationDuration:Ca,animationDelay:qa};z.module("ngAnimate",[],function(){N=z.noop,Da=z.copy,wa=z.extend,A=z.element,s=z.forEach,Z=z.isArray,G=z.isString,ta=z.isObject,R=z.isUndefined,za=z.isDefined,Ea=z.isFunction,sa=z.isElement}).info({angularVersion:"1.7.8"}).directive("ngAnimateSwap",["$animate",function(a){return{restrict:"A",transclude:"element",terminal:!0,priority:550,link:function(b,c,d,f,k){var e,Q;b.$watchCollection(d.ngAnimateSwap||d["for"],function(b){e&&a.leave(e),Q&&(Q.$destroy(),Q=null),(b||0===b)&&k(function(b,d){e=b,Q=d,a.enter(b,null,c)})})}}}]).directive("ngAnimateChildren",["$interpolate",function(a){return{link:function(b,c,d){function f(a){c.data("$$ngAnimateChildren","on"===a||"true"===a)}var k=d.ngAnimateChildren;G(k)&&0===k.length?c.data("$$ngAnimateChildren",!0):(f(a(k)(b)),d.$observe("ngAnimateChildren",f))}}}]).factory("$$rAFScheduler",["$$rAF",function(a){function b(a){d=d.concat(a),c()}function c(){if(d.length){for(var b=d.shift(),e=0;e<b.length;e++)b[e]();f||a(function(){f||c()})}}var d,f;return d=b.queue=[],b.waitUntilQuiet=function(b){f&&f(),f=a(function(){f=null,b(),c()})},b}]).provider("$$animateQueue",["$animateProvider",function(a){function b(a){return{addClass:a.addClass,removeClass:a.removeClass,from:a.from,to:a.to}}function c(a){if(!a)return null;a=a.split(" ");var b=Object.create(null);return s(a,function(a){b[a]=!0}),b}function d(a,b){if(a&&b){var d=c(b);return a.split(" ").some(function(a){return d[a]})}}function f(a,b,c){return e[a].some(function(a){return a(b,c)})}function k(a,b){var c=0<(a.addClass||"").length,d=0<(a.removeClass||"").length;return b?c&&d:c||d}var e=this.rules={skip:[],cancel:[],join:[]};e.join.push(function(a,b){return!a.structural&&k(a)}),e.skip.push(function(a,b){return!a.structural&&!k(a)}),e.skip.push(function(a,b){return"leave"===b.event&&a.structural}),e.skip.push(function(a,b){return b.structural&&2===b.state&&!a.structural}),e.cancel.push(function(a,b){return b.structural&&a.structural}),e.cancel.push(function(a,b){return 2===b.state&&a.structural}),e.cancel.push(function(a,b){if(b.structural)return!1;var c=a.addClass,f=a.removeClass,k=b.addClass,e=b.removeClass;return R(c)&&R(f)||R(k)&&R(e)?!1:d(c,e)||d(f,k)}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(c,d,e,C,U,oa,H,u,t,I,da){function ia(a){O["delete"](a.target)}function v(){var a=!1;return function(b){a?b():d.$$postDigest(function(){a=!0,b()})}}function ua(a,b,c){var g=[],l=m[c];return l&&s(l,function(l){Oa.call(l.node,b)?g.push(l.callback):"leave"===c&&Oa.call(l.node,a)&&g.push(l.callback)}),g}function h(a,b,c){var l=va(b);return a.filter(function(a){return!(a.node===l&&(!c||a.callback===c))})}function q(a,J,w){function e(a,b,l,g){u(function(){var a=ua(ia,m,b);a.length?c(function(){s(a,function(a){a(h,l,g)}),"close"!==l||m.parentNode||D.off(m)}):"close"!==l||m.parentNode||D.off(m)}),a.progress(b,l,g)}function I(a){var b=h,c=n;c.preparationClasses&&(b.removeClass(c.preparationClasses),c.preparationClasses=null),c.activeClasses&&(b.removeClass(c.activeClasses),c.activeClasses=null),W(h,n),ha(h,n),n.domOperation(),q.complete(!a)}var n=Da(w),h=Ha(a),m=K(h),ia=m&&m.parentNode,n=pa(n),q=new H,u=v();if(Z(n.addClass)&&(n.addClass=n.addClass.join(" ")),n.addClass&&!G(n.addClass)&&(n.addClass=null),Z(n.removeClass)&&(n.removeClass=n.removeClass.join(" ")),n.removeClass&&!G(n.removeClass)&&(n.removeClass=null),n.from&&!ta(n.from)&&(n.from=null),n.to&&!ta(n.to)&&(n.to=null),!(B&&m&&fa(m,J,w)&&Ya(m,n)))return I(),q;var x=0<=["enter","move","leave"].indexOf(J),r=da(),P=r||O.get(m);w=!P&&y.get(m)||{};var p=!!w.state;if(P||p&&1===w.state||(P=!E(m,ia,J)),P)return r&&e(q,J,"start",b(n)),I(),r&&e(q,J,"close",b(n)),q;if(x&&F(m),r={structural:x,element:h,event:J,addClass:n.addClass,removeClass:n.removeClass,close:I,options:n,runner:q},p){if(f("skip",r,w))return 2===w.state?(I(),q):(T(h,w,r),w.runner);if(f("cancel",r,w))if(2===w.state)w.runner.end();else{if(!w.structural)return T(h,w,r),w.runner;w.close()}else if(f("join",r,w)){if(2!==w.state)return Ua(t,h,x?J:null,n),J=r.event=w.event,n=T(h,w,r),w.runner;T(h,r,{})}}else T(h,r,{});if((p=r.structural)||(p="animate"===r.event&&0<Object.keys(r.options.to||{}).length||k(r)),!p)return I(),g(m),q;var C=(w.counter||0)+1;return r.counter=C,l(m,1,r),d.$$postDigest(function(){h=Ha(a);var c=y.get(m),d=!c,c=c||{},t=0<(h.parent()||[]).length&&("animate"===c.event||c.structural||k(c));d||c.counter!==C||!t?(d&&(W(h,n),ha(h,n)),(d||x&&c.event!==J)&&(n.domOperation(),q.end()),t||g(m)):(J=!c.structural&&k(c,!0)?"setClass":c.event,l(m,2),c=oa(h,J,c.options),q.setHost(c),e(q,J,"start",b(n)),c.done(function(a){I(!a),(a=y.get(m))&&a.counter===C&&g(m),e(q,J,"close",b(n))}))}),q}function F(a){a=a.querySelectorAll("[data-ng-animate]"),s(a,function(a){var b=parseInt(a.getAttribute("data-ng-animate"),10),c=y.get(a);if(c)switch(b){case 2:c.runner.end();case 1:y["delete"](a)}})}function g(a){a.removeAttribute("data-ng-animate"),y["delete"](a)}function E(a,b,c){c=C[0].body;var h,l=K(e),g=a===c||"HTML"===a.nodeName,d=a===l,t=!1,m=O.get(a);for((a=A.data(a,"$ngAnimatePin"))&&(b=K(a));b&&(d||(d=b===l),1===b.nodeType);){if(a=y.get(b)||{},!t){var f=O.get(b);if(!0===f&&!1!==m){m=!0;break}!1===f&&(m=!1),t=a.structural}if((R(h)||!0===h)&&(a=A.data(b,"$$ngAnimateChildren"),za(a)&&(h=a)),t&&!1===h)break;if(g||(g=b===c),g&&d)break;b=d||!(a=A.data(b,"$ngAnimatePin"))?b.parentNode:K(a)}return(!t||h)&&!0!==m&&d&&g}function l(a,b,c){c=c||{},c.state=b,a.setAttribute("data-ng-animate",b),c=(b=y.get(a))?wa(b,c):c,y.set(a,c)}var y=new U,O=new U,B=null,P=d.$watch(function(){return 0===u.totalPendingRequests},function(a){a&&(P(),d.$$postDigest(function(){d.$$postDigest(function(){null===B&&(B=!0)})}))}),m=Object.create(null);U=a.customFilter();var la=a.classNameFilter();I=function(){return!0};var fa=U||I,Ya=la?function(a,b){var c=[a.getAttribute("class"),b.addClass,b.removeClass].join(" ");return la.test(c)}:I,W=aa(t),Oa=Y.Node.prototype.contains||function(a){return this===a||!!(16&this.compareDocumentPosition(a))},D={on:function(a,b,c){var l=va(b);m[a]=m[a]||[],m[a].push({node:l,callback:c}),A(b).on("$destroy",function(){y.get(l)||D.off(a,b,c)})},off:function(a,b,c){if(1!==arguments.length||G(arguments[0])){var l=m[a];l&&(m[a]=1===arguments.length?null:h(l,b,c))}else for(l in b=arguments[0],m)m[l]=h(m[l],b)},pin:function(a,b){Fa(sa(a),"element","not an element"),Fa(sa(b),"parentElement","not an element"),a.data("$ngAnimatePin",b)},push:function(a,b,c,l){return c=c||{},c.domOperation=l,q(a,b,c)},enabled:function(a,b){var c=arguments.length;if(0===c)b=!!B;else if(sa(a)){var l=K(a);1===c?b=!O.get(l):(O.has(l)||A(a).on("$destroy",ia),O.set(l,!b))}else b=B=!!a;return b}};return D}]}]).provider("$$animateCache",function(){var a=0,b=Object.create(null);this.$get=[function(){return{cacheKey:function(b,d,f,k){var e=b.parentNode;return b=[e.$$ngAnimateParentKey||(e.$$ngAnimateParentKey=++a),d,b.getAttribute("class")],f&&b.push(f),k&&b.push(k),b.join(" ")},containsCachedAnimationWithoutDuration:function(a){return(a=b[a])&&!a.isValid||!1},flush:function(){b=Object.create(null)},count:function(a){return(a=b[a])?a.total:0},get:function(a){return(a=b[a])&&a.value},put:function(a,d,f){b[a]?(b[a].total++,b[a].value=d):b[a]={total:1,value:d,isValid:f}}}}]}).provider("$$animation",["$animateProvider",function(a){var b=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler","$$animateCache",function(a,d,f,k,e,Q,L){function x(a){function b(a){if(a.processed)return a;a.processed=!0;var d=a.domNode,t=d.parentNode;f.set(d,a);for(var h;t;){if(h=f.get(t)){h.processed||(h=b(h));break}t=t.parentNode}return(h||c).children.push(a),a}var d,c={children:[]},f=new e;for(d=0;d<a.length;d++){var da=a[d];f.set(da.domNode,a[d]={domNode:da.domNode,element:da.element,fn:da.fn,children:[]})}for(d=0;d<a.length;d++)b(a[d]);return function(a){var d,b=[],c=[];for(d=0;d<a.children.length;d++)c.push(a.children[d]);a=c.length;var t=0,f=[];for(d=0;d<c.length;d++){var g=c[d];0>=a&&(a=t,t=0,b.push(f),f=[]),f.push(g),g.children.forEach(function(a){t++,c.push(a)}),a--}return f.length&&b.push(f),b}(c)}var C=[],U=aa(a);return function(e,H,u){function t(a){a=a.hasAttribute("ng-animate-ref")?[a]:a.querySelectorAll("[ng-animate-ref]");var b=[];return s(a,function(a){var c=a.getAttribute("ng-animate-ref");c&&c.length&&b.push(a)}),b}function I(a){var b=[],c={};s(a,function(a,d){var l=K(a.element),g=0<=["enter","move"].indexOf(a.event),l=a.structural?t(l):[];if(l.length){var f=g?"to":"from";s(l,function(a){var b=a.getAttribute("ng-animate-ref");c[b]=c[b]||{},c[b][f]={animationID:d,element:A(a)}})}else b.push(a)});var d={},g={};return s(c,function(c,t){var f=c.from,e=c.to;if(f&&e){var h=a[f.animationID],k=a[e.animationID],E=f.animationID.toString();if(!g[E]){var I=g[E]={structural:!0,beforeStart:function(){h.beforeStart(),k.beforeStart()},close:function(){h.close(),k.close()},classes:da(h.classes,k.classes),from:h,to:k,anchors:[]};I.classes.length?b.push(I):(b.push(h),b.push(k))}g[E].anchors.push({out:f.element,"in":e.element})}else f=f?f.animationID:e.animationID,e=f.toString(),d[e]||(d[e]=!0,b.push(a[f]))}),b}function da(a,b){a=a.split(" "),b=b.split(" ");for(var c=[],d=0;d<a.length;d++){var g=a[d];if("ng-"!==g.substring(0,3))for(var t=0;t<b.length;t++)if(g===b[t]){c.push(g);break}}return c.join(" ")}function ia(a){for(var c=b.length-1;c>=0;c--){var d=f.get(b[c])(a);if(d)return d}}function v(a,b){function c(a){(a=a.data("$$animationRunner"))&&a.setHost(b)}a.from&&a.to?(c(a.from.element),c(a.to.element)):c(a.element)}function ua(){var a=e.data("$$animationRunner");!a||"leave"===H&&u.$$domOperationFired||a.end()}function h(b){e.off("$destroy",ua),e.removeData("$$animationRunner"),U(e,u),ha(e,u),u.domOperation(),E&&a.removeClass(e,E),F.complete(!b)}u=pa(u);var q=0<=["enter","move","leave"].indexOf(H),F=new k({end:function(){h()},cancel:function(){h(!0)}});if(!b.length)return h(),F;var g=Ga(e.attr("class"),Ga(u.addClass,u.removeClass)),E=u.tempClasses;return E&&(g+=" "+E,u.tempClasses=null),q&&e.data("$$animatePrepareClasses","ng-"+H+"-prepare"),e.data("$$animationRunner",F),C.push({element:e,classes:g,event:H,structural:q,options:u,beforeStart:function(){E=(E?E+" ":"")+"ng-animate",a.addClass(e,E);var b=e.data("$$animatePrepareClasses");b&&a.removeClass(e,b)},close:h}),e.on("$destroy",ua),1<C.length?F:(d.$$postDigest(function(){var b=[];s(C,function(a){a.element.data("$$animationRunner")?b.push(a):a.close()}),C.length=0;var d=I(b),g=[];s(d,function(a){var b=a.from?a.from.element:a.element,c=u.addClass,d=L.cacheKey(b[0],a.event,(c?c+" ":"")+"ng-animate",u.removeClass);g.push({element:b,domNode:K(b),fn:function(){var b,c=a.close;if(L.containsCachedAnimationWithoutDuration(d))c();else{if(a.beforeStart(),(a.anchors?a.from.element||a.to.element:a.element).data("$$animationRunner")){var g=ia(a);g&&(b=g.start)}b?(b=b(),b.done(function(a){c(!a)}),v(a,b)):c()}}})});for(var d=x(g),t=0;t<d.length;t++)for(var f=d[t],e=0;e<f.length;e++){
var h=f[e],k=h.element;d[t][e]=h.fn,0===t?k.removeData("$$animatePrepareClasses"):(h=k.data("$$animatePrepareClasses"))&&a.addClass(k,h)}Q(d)}),F)}}]}]).provider("$animateCss",["$animateProvider",function(a){this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$animateCache","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(a,c,d,f,k,e,Q,L,x){function C(d,f,e,x){var v,s="stagger-"+e;return 0<k.count(e)&&(v=k.get(s),v||(f=$(f,"-stagger"),c.addClass(d,f),v=Ka(a,d,x),v.animationDuration=Math.max(v.animationDuration,0),v.transitionDuration=Math.max(v.transitionDuration,0),c.removeClass(d,f),k.put(s,v,!0))),v||{}}function U(a){u.push(a),L.waitUntilQuiet(function(){k.flush();for(var a=e(),b=0;b<u.length;b++)u[b](a);u.length=0})}function z(c,d,f,e){return d=k.get(f),d||(d=Ka(a,c,Wa),"infinite"===d.animationIterationCount&&(d.animationIterationCount=1)),k.put(f,d,e||0<d.transitionDuration||0<d.animationDuration),c=d,f=c.animationDelay,e=c.transitionDelay,c.maxDelay=f&&e?Math.max(f,e):f||e,c.maxDuration=Math.max(c.animationDuration*c.animationIterationCount,c.transitionDuration),c}var H=aa(c),u=[];return function(a,b){function e(){v()}function L(){v(!0)}function v(b){if(!(P||la&&m)){P=!0,m=!1,V&&!g.$$skipPreparationClasses&&c.removeClass(a,V),ba&&c.removeClass(a,ba),xa(l,!1),ra.blockTransitions(l,!1),s(y,function(a){l.style[a[0]]=""}),H(a,g),ha(a,g),Object.keys(E).length&&s(E,function(a,b){a?l.style.setProperty(b,a):l.style.removeProperty(b)}),g.onDone&&g.onDone(),w&&w.length&&a.off(w.join(" "),q);var d=a.data("$$animateCss");d&&(f.cancel(d[0].timer),a.removeData("$$animateCss")),fa&&fa.complete(!b)}}function u(a){p.blockTransition&&ra.blockTransitions(l,a),p.blockKeyframeAnimation&&xa(l,!!a)}function h(){return fa=new d({end:e,cancel:L}),U(N),v(),{$$willAnimate:!1,start:function(){return fa},end:e}}function q(a){a.stopPropagation();var b=a.originalEvent||a;b.target===l&&(a=b.$manualTimeStamp||Date.now(),b=parseFloat(b.elapsedTime.toFixed(3)),Math.max(a-J,0)>=G&&b>=D&&(la=!0,v()))}function F(){function b(){if(!P){if(u(!1),s(y,function(a){l.style[a[0]]=a[1]}),H(a,g),c.addClass(a,ba),p.recalculateTimingStyles){if(T=l.getAttribute("class")+" "+V,ka=k.cacheKey(l,ja,g.addClass,g.removeClass),r=z(l,T,ka,!1),ga=r.maxDelay,W=Math.max(ga,0),D=r.maxDuration,0===D)return void v();p.hasTransitions=0<r.transitionDuration,p.hasAnimations=0<r.animationDuration}if(p.applyAnimationDelay&&(ga="boolean"!=typeof g.delay&&ya(g.delay)?parseFloat(g.delay):ga,W=Math.max(ga,0),r.animationDelay=ga,ea=[qa,ga+"s"],y.push(ea),l.style[ea[0]]=ea[1]),G=1e3*W,R=1e3*D,g.easing){var e,h=g.easing;p.hasTransitions&&(e=M+"TimingFunction",y.push([e,h]),l.style[e]=h),p.hasAnimations&&(e=ca+"TimingFunction",y.push([e,h]),l.style[e]=h)}r.transitionDuration&&w.push(Aa),r.animationDuration&&w.push(Ba),J=Date.now();var m=G+1.5*R;e=J+m;var h=a.data("$$animateCss")||[],F=!0;if(h.length){var n=h[0];(F=e>n.expectedEndTime)?f.cancel(n.timer):h.push(v)}F&&(m=f(d,m,!1),h[0]={timer:m,expectedEndTime:e},h.push(v),a.data("$$animateCss",h)),w.length&&a.on(w.join(" "),q),g.to&&(g.cleanupStyles&&Ma(E,l,Object.keys(g.to)),Ja(a,g))}}function d(){var b=a.data("$$animateCss");if(b){for(var c=1;c<b.length;c++)b[c]();a.removeData("$$animateCss")}}if(!P)if(l.parentNode){var e=function(a){if(la)m&&a&&(m=!1,v());else if(m=!a,r.animationDuration)if(a=xa(l,m),m)y.push(a);else{var b=y,c=b.indexOf(a);a>=0&&b.splice(c,1)}},h=aa>0&&(r.transitionDuration&&0===X.transitionDuration||r.animationDuration&&0===X.animationDuration)&&Math.max(X.animationDelay,X.transitionDelay);h?f(b,Math.floor(h*aa*1e3),!1):b(),A.resume=function(){e(!0)},A.pause=function(){e(!1)}}else v()}var g=b||{};g.$$prepared||(g=pa(Da(g)));var E={},l=K(a);if(!l||!l.parentNode||!x.enabled())return h();var P,m,la,fa,A,W,G,D,R,J,y=[],O=a.attr("class"),B=Qa(g),w=[];if(0===g.duration||!Q.animations&&!Q.transitions)return h();var ja=g.event&&Z(g.event)?g.event.join(" "):g.event,Y=ja&&g.structural,n="",S="";Y?n=$(ja,"ng-",!0):ja&&(n=ja),g.addClass&&(S+=$(g.addClass,"-add")),g.removeClass&&(S.length&&(S+=" "),S+=$(g.removeClass,"-remove")),g.applyClassesEarly&&S.length&&H(a,g);var V=[n,S].join(" ").trim(),T=O+" "+V,O=B.to&&0<Object.keys(B.to).length;if(!(0<(g.keyframeStyle||"").length||O||V))return h();var X,ka=k.cacheKey(l,ja,g.addClass,g.removeClass);if(k.containsCachedAnimationWithoutDuration(ka))return V=null,h();0<g.stagger?(B=parseFloat(g.stagger),X={transitionDelay:B,animationDelay:B,transitionDuration:0,animationDuration:0}):X=C(l,V,ka,Xa),g.$$skipPreparationClasses||c.addClass(a,V),g.transitionStyle&&(B=[M,g.transitionStyle],ma(l,B),y.push(B)),0<=g.duration&&(B=0<l.style[M].length,B=La(g.duration,B),ma(l,B),y.push(B)),g.keyframeStyle&&(B=[ca,g.keyframeStyle],ma(l,B),y.push(B));var aa=X?0<=g.staggerIndex?g.staggerIndex:k.count(ka):0;(n=0===aa)&&!g.skipBlocking&&ra.blockTransitions(l,9999);var r=z(l,T,ka,!Y),ga=r.maxDelay;W=Math.max(ga,0),D=r.maxDuration;var p={};if(p.hasTransitions=0<r.transitionDuration,p.hasAnimations=0<r.animationDuration,p.hasTransitionAll=p.hasTransitions&&"all"===r.transitionProperty,p.applyTransitionDuration=O&&(p.hasTransitions&&!p.hasTransitionAll||p.hasAnimations&&!p.hasTransitions),p.applyAnimationDuration=g.duration&&p.hasAnimations,p.applyTransitionDelay=ya(g.delay)&&(p.applyTransitionDuration||p.hasTransitions),p.applyAnimationDelay=ya(g.delay)&&p.hasAnimations,p.recalculateTimingStyles=0<S.length,(p.applyTransitionDuration||p.applyAnimationDuration)&&(D=g.duration?parseFloat(g.duration):D,p.applyTransitionDuration&&(p.hasTransitions=!0,r.transitionDuration=D,B=0<l.style[M+"Property"].length,y.push(La(D,B))),p.applyAnimationDuration&&(p.hasAnimations=!0,r.animationDuration=D,y.push([Ca,D+"s"]))),0===D&&!p.recalculateTimingStyles)return h();var ba=$(V,"-active");if(null!=g.delay){var ea;"boolean"!=typeof g.delay&&(ea=parseFloat(g.delay),W=Math.max(ea,0)),p.applyTransitionDelay&&y.push([na,ea+"s"]),p.applyAnimationDelay&&y.push([qa,ea+"s"])}return null==g.duration&&0<r.transitionDuration&&(p.recalculateTimingStyles=p.recalculateTimingStyles||n),G=1e3*W,R=1e3*D,g.skipBlocking||(p.blockTransition=0<r.transitionDuration,p.blockKeyframeAnimation=0<r.animationDuration&&0<X.animationDelay&&0===X.animationDuration),g.from&&(g.cleanupStyles&&Ma(E,l,Object.keys(g.from)),Ia(a,g)),p.blockTransition||p.blockKeyframeAnimation?u(D):g.skipBlocking||ra.blockTransitions(l,!1),{$$willAnimate:!0,end:e,start:function(){return P?void 0:(A={end:e,cancel:L,resume:null,pause:null},fa=new d(A),U(F),fa)}}}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(a){a.drivers.push("$$animateCssDriver"),this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(a,c,d,f,k,e,Q){function L(a){return a.replace(/\bng-\S+\b/g,"")}function x(a,b){return G(a)&&(a=a.split(" ")),G(b)&&(b=b.split(" ")),a.filter(function(a){return-1===b.indexOf(a)}).join(" ")}function C(c,e,f){function k(a){var b={},c=K(a).getBoundingClientRect();return s(["width","height","top","left"],function(a){var d=c[a];switch(a){case"top":d+=H.scrollTop;break;case"left":d+=H.scrollLeft}b[a]=Math.floor(d)+"px"}),b}function v(){var c=L(f.attr("class")||""),d=x(c,q),c=x(q,c),d=a(h,{to:k(f),addClass:"ng-anchor-in "+d,removeClass:"ng-anchor-out "+c,delay:!0});return d.$$willAnimate?d:null}function C(){h.remove(),e.removeClass("ng-animate-shim"),f.removeClass("ng-animate-shim")}var h=A(K(e).cloneNode(!0)),q=L(h.attr("class")||"");e.addClass("ng-animate-shim"),f.addClass("ng-animate-shim"),h.addClass("ng-anchor"),u.append(h);var F;if(c=function(){var c=a(h,{addClass:"ng-anchor-out",delay:!0,from:k(e)});return c.$$willAnimate?c:null}(),!c&&(F=v(),!F))return C();var g=c||F;return{start:function(){function a(){c&&c.end()}var b,c=g.start();return c.done(function(){return c=null,!F&&(F=v())?(c=F.start(),c.done(function(){c=null,C(),b.complete()}),c):(C(),void b.complete())}),b=new d({end:a,cancel:a})}}}function z(a,b,c,e){var f=oa(a,N),k=oa(b,N),h=[];return s(e,function(a){(a=C(c,a.out,a["in"]))&&h.push(a)}),f||k||0!==h.length?{start:function(){function a(){s(b,function(a){a.end()})}var b=[];f&&b.push(f.start()),k&&b.push(k.start()),s(h,function(a){b.push(a.start())});var c=new d({end:a,cancel:a});return d.all(b,function(a){c.complete(a)}),c}}:void 0}function oa(c){var d=c.element,e=c.options||{};return c.structural&&(e.event=c.event,e.structural=!0,e.applyClassesEarly=!0,"leave"===c.event&&(e.onDone=e.domOperation)),e.preparationClasses&&(e.event=ba(e.event,e.preparationClasses)),c=a(d,e),c.$$willAnimate?c:null}if(!k.animations&&!k.transitions)return N;var H=Q[0].body;c=K(f);var u=A(c.parentNode&&11===c.parentNode.nodeType||H.contains(c)?c:H);return function(a){return a.from&&a.to?z(a.from,a.to,a.classes,a.anchors):oa(a)}}]}]).provider("$$animateJs",["$animateProvider",function(a){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(b,c,d){function f(c){c=Z(c)?c:c.split(" ");for(var d=[],f={},k=0;k<c.length;k++){var s=c[k],z=a.$$registeredAnimations[s];z&&!f[s]&&(d.push(b.get(z)),f[s]=!0)}return d}var k=aa(d);return function(a,b,d,x){function C(){x.domOperation(),k(a,x)}function z(a,b,d,f,e){switch(d){case"animate":b=[b,f.from,f.to,e];break;case"setClass":b=[b,t,I,e];break;case"addClass":b=[b,t,e];break;case"removeClass":b=[b,I,e];break;default:b=[b,e]}if(b.push(f),a=a.apply(a,b))if(Ea(a.start)&&(a=a.start()),a instanceof c)a.done(e);else if(Ea(a))return a;return N}function A(a,b,d,e,f){var h=[];return s(e,function(e){var l=e[f];l&&h.push(function(){var e,f,h=!1,k=function(a){h||(h=!0,(f||N)(a),e.complete(!a))};return e=new c({end:function(){k()},cancel:function(){k(!0)}}),f=z(l,a,b,d,function(a){k(!1===a)}),e})}),h}function H(a,b,d,e,f){var h=A(a,b,d,e,f);if(0===h.length){var k,q;"beforeSetClass"===f?(k=A(a,"removeClass",d,e,"beforeRemoveClass"),q=A(a,"addClass",d,e,"beforeAddClass")):"setClass"===f&&(k=A(a,"removeClass",d,e,"removeClass"),q=A(a,"addClass",d,e,"addClass")),k&&(h=h.concat(k)),q&&(h=h.concat(q))}return 0!==h.length?function(a){var b=[];return h.length&&s(h,function(a){b.push(a())}),b.length?c.all(b,a):a(),function(a){s(b,function(b){a?b.cancel():b.end()})}}:void 0}var u=!1;3===arguments.length&&ta(d)&&(x=d,d=null),x=pa(x),d||(d=a.attr("class")||"",x.addClass&&(d+=" "+x.addClass),x.removeClass&&(d+=" "+x.removeClass));var K,v,t=x.addClass,I=x.removeClass,G=f(d);if(G.length){var M,h;"leave"===b?(h="leave",M="afterLeave"):(h="before"+b.charAt(0).toUpperCase()+b.substr(1),M=b),"enter"!==b&&"move"!==b&&(K=H(a,b,x,G,h)),v=H(a,b,x,G,M)}if(K||v){var q;return{$$willAnimate:!0,end:function(){return q?q.end():(u=!0,C(),ha(a,x),q=new c,q.complete(!0)),q},start:function(){function b(c){u=!0,C(),ha(a,x),q.complete(c)}if(q)return q;q=new c;var d,f=[];return K&&f.push(function(a){d=K(a)}),f.length?f.push(function(a){C(),a(!0)}):C(),v&&f.push(function(a){d=v(a)}),q.setHost({end:function(){u||((d||N)(void 0),b(void 0))},cancel:function(){u||((d||N)(!0),b(!0))}}),c.chain(f,b),q}}}}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(a){a.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(a,c){function d(c){return a(c.element,c.event,c.classes,c.options)}return function(a){if(!a.from||!a.to)return d(a);var b=d(a.from),e=d(a.to);return b||e?{start:function(){function a(){return function(){s(d,function(a){a.end()})}}var d=[];b&&d.push(b.start()),e&&d.push(e.start()),c.all(d,function(a){f.complete(a)});var f=new c({end:a(),cancel:a()});return f}}:void 0}}]}])}(window,window.angular),!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("angular")):"function"==typeof define&&define.amd?define(["exports","angular"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["@uirouter/angularjs"]={},t.angular)}(this,function(t,e){"use strict";function r(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e["default"]=t,Object.freeze(e)}function u(t){return function e(){if(arguments.length>=t.length)return t.apply(this,arguments);var r=Array.prototype.slice.call(arguments);return e.bind.apply(e,a([this],r))}}function s(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}}function c(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.apply(null,[].slice.call(arguments).reverse())}function v(t,e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.apply(null,r)&&e.apply(null,r)}}function d(t,e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.apply(null,r)||e.apply(null,r)}}function S(t,e){return function(r){return r[t].apply(r,e)}}function b(t){return function(e){for(var r=0;r<t.length;r++)if(t[r][0](e))return t[r][1](e)}}function A(t){if(V(t)&&t.length){var e=t.slice(0,-1),r=t.slice(-1);return!(e.filter(p(x)).length||r.filter(p(k)).length)}return k(t)}function J(t){return t}function Q(){}function K(t,e,r,n,i){void 0===i&&(i=!1);var o=function(e){return t()[e].bind(r())};return(n=n||Object.keys(t())).reduce(function(t,r){var n;return t[r]=i?(n=r,function(){return e[n]=o(n),e[n].apply(null,arguments)}):o(r),t},e)}function X(t,e){return-1!==t.indexOf(e)}function et(t,e){var r=t.indexOf(e);return r>=0&&t.splice(r,1),t}function nt(t,e){return t.push(e),e}function ot(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=z.apply(void 0,N([{}],e.reverse()));return z(n,st(t||{},Object.keys(n)))}function ut(t,e){var r=[];for(var n in t.path){if(t.path[n]!==e.path[n])break;r.push(t.path[n])}return r}function st(t,e){var r={};for(var n in t)-1!==e.indexOf(n)&&(r[n]=t[n]);return r}function ct(t,e){return Object.keys(t).filter(p(Z(e))).reduce(function(e,r){return e[r]=t[r],e},{})}function ft(t,e){return vt(t,f(e))}function lt(t,e){var r=V(t),n=r?[]:{},i=r?function(t){return n.push(t)}:function(t,e){return n[e]=t};return G(t,function(t,r){e(t,r)&&i(t,r)}),n}function ht(t,e){var r;return G(t,function(t,n){r||e(t,n)&&(r=t)}),r}function vt(t,e,r){return r=r||(V(t)?[]:{}),G(t,function(t,n){return r[n]=e(t,n)}),r}function _t(t,e){return t.push(e),t}function Ct(t,e){return void 0===e&&(e="assert failure"),function(r){var n=t(r);if(!n)throw new Error(k(e)?e(r):e);return n}}function Pt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return[];for(var r=t.reduce(function(t,e){return Math.min(e.length,t)},9007199254740991),n=[],i=function(e){switch(t.length){case 1:n.push([t[0][e]]);break;case 2:n.push([t[0][e],t[1][e]]);break;case 3:n.push([t[0][e],t[1][e],t[2][e]]);break;case 4:n.push([t[0][e],t[1][e],t[2][e],t[3][e]]);break;default:n.push(t.map(function(t){return t[e]}))}},o=0;r>o;o++)i(o);return n}function kt(t,e){var r,n;if(V(e)&&(r=e[0],n=e[1]),!x(r))throw new Error("invalid parameters to applyPairs");return t[r]=n,t}function Ot(t){return t.length&&t[t.length-1]||void 0}function xt(t,e){return e&&Object.keys(e).forEach(function(t){return delete e[t]}),e||(e={}),z(e,t)}function jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];if(r)for(var n=Object.keys(r),i=0;i<n.length;i++)t[n[i]]=r[n[i]]}return t}function Vt(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;var r=typeof t;if(r!==typeof e||"object"!==r)return!1;var n,i,o=[t,e];if(m(V)(o))return i=e,(n=t).length===i.length&&Pt(n,i).reduce(function(t,e){return t&&Vt(e[0],e[1])},!0);if(m(I)(o))return t.getTime()===e.getTime();if(m(H)(o))return t.toString()===e.toString();if(m(k)(o))return!0;if([k,V,I,H].map(y).reduce(function(t,e){return t||!!e(o)},!1))return!1;var a={};for(var u in t){if(!Vt(t[u],e[u]))return!1;a[u]=!0}for(var u in e)if(!a[u])return!1;return!0}function Ft(t,e){return e.length<=t?e:e.substr(0,t-3)+"..."}function Lt(t,e){for(;e.length<t;)e+=" ";return e}function Mt(t){return t.replace(/^([A-Z])/,function(t){return t.toLowerCase()}).replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function Bt(t){var e=Gt(t),r=e.match(/^(function [^ ]+\([^)]*\))/),n=r?r[1]:e,i=t.name||"";return i&&n.match(/function \(/)?"function "+i+n.substr(9):n}function Gt(t){var e=V(t)?t.slice(-1)[0]:t;return e&&e.toString()||"undefined"}function Jt(t){function r(t){if(j(t)){if(-1!==e.indexOf(t))return"[circular ref]";e.push(t)}return Wt(t)}var e=[];return E(t)?r(t):JSON.stringify(t,function(t,e){return r(e)}).replace(/\\"/g,'"')}function re(t){var e=new RegExp("("+t+")","g");return function(t){return t.split(e).filter(J)}}function ne(t,e){return x(Ot(t))&&x(e)?t.slice(0,-1).concat(Ot(t)+e):_t(t,e)}function ae(t){if(!t)return"ui-view (defunct)";var e=t.creationContext?t.creationContext.name||"(root)":"(none)";return"[ui-view#"+t.id+" "+t.$type+":"+t.fqn+" ("+t.name+"@"+e+")]"}function se(e){return O(e)?t.Category[e]:t.Category[t.Category[e]]}function de(t,e){function n(t){return V(t)?t:C(t)?[t]:[]}function i(t,r){return function(i){if(V(i)&&0===i.length)return i;var o=vt(n(i),t);return!0===r?0===lt(o,function(t){return!t}).length:function(t){switch(t.length){case 0:return;case 1:return"auto"===e?t[0]:t;default:return t}}(o)}}function o(t){return function(e,r){var i=n(e),o=n(r);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(!t(i[a],o[a]))return!1;return!0}}var r=this;["encode","decode","equals","$normalize"].forEach(function(e){var n=t[e].bind(t),a="equals"===e?o:i;r[e]=a(n)}),z(this,{dynamic:t.dynamic,name:t.name,pattern:t.pattern,inherit:t.inherit,raw:t.raw,is:i(t.is.bind(t),!0),$arrayMode:e})}function ge(e,r,n){var i=!1===n.reloadOnSearch&&r===t.DefType.SEARCH||void 0,o=ht([n.dynamic,i],C),a=C(o)?{dynamic:o}:{},u=function(t){function e(){return t.value}t=function(t){return 0===["value","type","squash","array","dynamic"].filter(ye.bind(t||{})).length}(t)?{value:t}:t,e.__cacheable=!0;var r=A(t.value)?t.value:e;return z(t,{$$fn:r})}(n&&n.params&&n.params[e]);return z(a,u)}function Ie(t){return t.name}function He(t){return t.self.$$state=function(){return t},t.self}function Ae(t){return t.parent&&t.parent.data&&(t.data=t.self.data=Y(t.parent.data,t.data)),t.data}function Ue(t){return t.parent?t.parent.path.concat(t):[t]}function Ne(t){var e=t.parent?z({},t.parent.includes):{};return e[t.name]=!0,e}function Fe(t){var e=function(t){return t.provide||t.token},r=b([[f("resolveFn"),function(t){return new Pe(e(t),t.resolveFn,t.deps,t.policy)}],[f("useFactory"),function(t){return new Pe(e(t),t.useFactory,t.deps||t.dependencies,t.policy)}],[f("useClass"),function(t){return new Pe(e(t),function(){return new t.useClass},[],t.policy)}],[f("useValue"),function(t){return new Pe(e(t),function(){return t.useValue},[],t.policy,t.useValue)}],[f("useExisting"),function(t){return new Pe(e(t),J,[t.useExisting],t.policy)}]]),n=b([[c(f("val"),x),function(t){return new Pe(t.token,J,[t.val],t.policy)}],[c(f("val"),V),function(t){return new Pe(t.token,Ot(t.val),t.val.slice(0,-1),t.policy)}],[c(f("val"),k),function(t){return new Pe(t.token,t.val,function(t){var e=U.$injector;return t.$inject||e&&e.annotate(t,e.strictDi)||"deferred"}(t.val),t.policy)}]]),i=b([[g(Pe),function(t){return t}],[function(t){return!(!t.token||!t.resolveFn)},r],[function(t){return!(!t.provide&&!t.token||!(t.useValue||t.useFactory||t.useExisting||t.useClass))},r],[function(t){return!!(t&&t.val&&(x(t.val)||V(t.val)||k(t.val)))},n],[_(!0),function(t){throw new Error("Invalid resolve value: "+Jt(t))}]]),o=t.resolve;return(V(o)?o:function(t,e){return Object.keys(t||{}).map(function(r){return{token:r,val:t[r],deps:void 0,policy:e[r]}})}(o,t.resolvePolicy||{})).map(i)}function Ye(t,e,r){var n=x(e)?[e]:e;return!!(k(n)?n:function(t){for(var e=n,r=0;r<e.length;r++){var i=new Dt(e[r]);if(i&&i.matches(t.name)||!i&&e[r]===t.name)return!0}return!1})(t,r)}function Xe(t,e,r){function o(t,o,a){void 0===a&&(a={});var u=new Ze(e,r,o,t,i,a);return n.push(u),u.deregister.bind(u)}var n=(t._registeredHooks=t._registeredHooks||{})[r.name]=[],i=tt(n);return t[r.name]=o,o}function nr(t,e){var r=["",""],n=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return n;switch(e.squash){case!1:r=["(",")"+(e.isOptional?"?":"")];break;case!0:n=n.replace(/\/$/,""),r=["(?:/(",")|/)?"];break;default:r=["("+e.squash+"|",")?"]}return n+r[0]+e.type.pattern.source+r[1]}function mr(t){if(!(k(t)||x(t)||g(Re)(t)||Re.isDef(t)))throw new Error("'handler' must be a string, function, TargetState, or have a state: 'newtarget' property");return k(t)?t:_(t)}function Rr(t){t.addResolvable(Pe.fromData($r,t.router),""),t.addResolvable(Pe.fromData(rr,t),""),t.addResolvable(Pe.fromData("$transition$",t),""),t.addResolvable(Pe.fromData("$stateParams",t.params()),""),t.entering().forEach(function(e){t.addResolvable(Pe.fromData("$state$",e),e)})}function Pr(t){return function(e,r){return r.$$state()[t](e,r)}}function Nr(t,e){var r=e.$$state().lazyLoad,n=r._promise;return n||(n=r._promise=U.$q.when(r(t,e)).then(function(e){return e&&Array.isArray(e.states)&&e.states.forEach(function(e){return t.router.stateRegistry.register(e)}),e}).then(function(t){return delete e.lazyLoad,delete e.$$state().lazyLoad,delete r._promise,t},function(t){return delete r._promise,U.$q.reject(t)})),n}function Lr(t){var e=t._ignoredReason();if(e){pe.traceTransitionIgnored(t);var r=t.router.globals.transition;return"SameAsCurrent"===e&&r&&r.abort(),Nt.ignored().toPromise()}}function Mr(t){if(!t.valid())throw new Error(t.error().toString())}function tn(t){var e=function(t){return t||""},r=Zt(t).map(e),n=r[0],i=r[1],o=Xt(n).map(e);return{path:o[0],search:o[1],hash:i,url:t}}function rn(t,e,r,n){return function(i){var o=i.locationService=new r(i),a=i.locationConfig=new n(i,e);return{name:t,service:o,configuration:a,dispose:function(t){t.dispose(o),t.dispose(a)}}}}function vn(t){return U.$injector=Yr,U.$q=Wr,{name:"vanilla.services",$q:Wr,$injector:Yr,dispose:function(){return null}}}function _n(){var t=null;return function(e,r){return t=t||U.$injector.get("$templateFactory"),[new Rn(e,r,t)]}}function bn(t){if(!t.parent)return{};var e=["component","bindings","componentProvider"],r=["templateProvider","templateUrl","template","notify","async"].concat(["controller","controllerProvider","controllerAs","resolveAs"]),n=e.concat(r);if(C(t.views)&&Sn(n,t))throw new Error("State '"+t.name+"' has a 'views' object. It cannot also have \"view properties\" at the state level.  Move the following properties into a view (in the 'views' object):  "+n.filter(function(e){return C(t[e])}).join(", "));var i={},o=t.views||{$default:st(t,n)};return G(o,function(n,o){if(o=o||"$default",x(n)&&(n={component:n}),n=z({},n),Sn(e,n)&&Sn(r,n))throw new Error("Cannot combine: "+e.join("|")+" with: "+r.join("|")+" in stateview: '"+o+"@"+t.name+"'");n.resolveAs=n.resolveAs||"$resolve",n.$type="ng1",n.$context=t,n.$name=o;var a=vr.normalizeUIViewTarget(n.$context,n.$name);n.$uiViewName=a.uiViewName,n.$uiViewContextAnchor=a.uiViewContextAnchor,i[o]=n}),i}function qn(t){function r(t,r,n,i,o,a,u){return e._runtimeServices(o,t,i,r,n),delete Dn.router,delete Dn.$get,Dn}(Dn=this.router=new $r).stateProvider=new Pn(Dn.stateRegistry,Dn.stateService),Dn.stateRegistry.decorator("views",bn),Dn.stateRegistry.decorator("onExit",kn("onExit")),Dn.stateRegistry.decorator("onRetain",kn("onRetain")),Dn.stateRegistry.decorator("onEnter",kn("onEnter")),Dn.viewService._pluginapi._viewConfigFactory("ng1",_n()),Dn.urlService.config._decodeParams=!1;var e=Dn.locationService=Dn.locationConfig=new On(t);return On.monkeyPatchPathParameterType(Dn),Dn.router=Dn,Dn.$get=r,r.$inject=["$location","$browser","$window","$sniffer","$rootScope","$http","$templateCache"],Dn}function Nn(t,e,r){if(U.$injector=t,U.$q=e,!Object.prototype.hasOwnProperty.call(t,"strictDi"))try{t.invoke(function(t){})}catch(e){t.strictDi=!!/strict mode/.exec(e&&e.toString())}r.stateRegistry.get().map(function(t){return t.$$state().resolvables}).reduce(gt,[]).filter(function(t){return"deferred"===t.deps}).forEach(function(e){return e.deps=t.annotate(e.resolveFn,t.strictDi)})}function Fn(t){t.$watch(function(){pe.approximateDigests++})}function Wn(t){var e=t.match(/^\s*({[^}]*})\s*$/);e&&(t="("+e[1]+")");var r=t.replace(/\n/g," ").match(/^\s*([^(]*?)\s*(\((.*)\))?\s*$/);if(!r||4!==r.length)throw new Error("Invalid state ref '"+t+"'");return{state:r[1]||null,paramExpr:r[3]||null}}function Jn(t){var e=t.parent().inheritedData("$uiView"),r=h("$cfg.path")(e);return r?Ot(r).state.name:void 0}function Qn(t,e,r){var n=r.uiState||t.current.name,i=z(function(t,e){return{relative:Jn(t)||e.$current,inherit:!0,source:"sref"}}(e,t),r.uiStateOpts||{}),o=t.href(n,r.uiStateParams,i);return{uiState:n,uiStateParams:r.uiStateParams,uiStateOpts:i,href:o}}function Kn(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),r="FORM"===t[0].nodeName;return{attr:r?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!r}}function Yn(t,e,r,n,i){return function(o){var a=o.which||o.button,u=i();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||o.altKey||t.attr("target"))){var s=r(function(){t.attr("disabled")||e.go(u.uiState,u.uiStateParams,u.uiStateOpts)});o.preventDefault();var c=n.isAnchor&&!u.href?1:0;o.preventDefault=function(){c--<=0&&r.cancel(s)}}}}function Zn(t,e,r,n){var i;n&&(i=n.events),V(i)||(i=["click"]);for(var o=t.on?"on":"bind",a=0,u=i;a<u.length;a++){var s=u[a];t[o](s,r)}e.$on("$destroy",function(){for(var e=t.off?"off":"unbind",n=0,o=i;n<o.length;n++){var a=o[n];t[e](a,r)}})}function Xn(t){var e=function(e,r,n){return t.is(e,r,n)};return e.$stateful=!0,e}function ti(t){var e=function(e,r,n){return t.includes(e,r,n)};return e.$stateful=!0,e}function ei(t,e,r,n,i){var a=h("viewDecl.controllerAs"),u=h("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function(n){var s=n.html();return n.empty(),function(n,c){var f=c.data("$uiView");if(!f)return c.html(s),void t(c.contents())(n);var l=f.$cfg||{viewDecl:{},getTemplate:Q},h=l.path&&new je(l.path);c.html(l.getTemplate(c,h)||s),pe.traceUIViewFill(f.$uiView,c.html());var p=t(c.contents()),v=l.controller,d=a(l),m=u(l),y=h&&zn(h);if(n[m]=y,v){var g=e(v,z({},y,{$scope:n,$element:c}));d&&(n[d]=g,n[d][m]=y),c.data("$ngControllerController",g),c.children().data("$ngControllerController",g),ii(i,r,g,n,l)}if(x(l.component))var w=Mt(l.component),_=new RegExp("^(x-|data-)?"+w+"$","i"),S=n.$watch(function(){var t=[].slice.call(c[0].children).filter(function(t){return t&&t.tagName&&_.exec(t.tagName)});return t&&o.element(t).data("$"+l.component+"Controller")},function(t){t&&(ii(i,r,t,n,l),S())});p(n)}}}}function ii(t,e,r,n,i){!k(r.$onInit)||(i.viewDecl.component||i.viewDecl.componentProvider)&&ri||r.$onInit();var o=Ot(i.path).state.self,a={bind:r};if(k(r.uiOnParamsChanged)){var u=new je(i.path).getResolvable("$transition$").data;n.$on("$destroy",e.onSuccess({},function(t){if(t!==u&&-1===t.exiting().indexOf(o)){var e=t.params("to"),n=t.params("from"),i=function(t){return t.paramSchema},a=t.treeChanges("to").map(i).reduce(gt,[]),s=t.treeChanges("from").map(i).reduce(gt,[]),c=a.filter(function(t){var r=s.indexOf(t);return-1===r||!s[r].type.equals(e[t.id],n[t.id])});if(c.length){var f=c.map(function(t){return t.id}),l=lt(e,function(t,e){return-1!==f.indexOf(e)});r.uiOnParamsChanged(l,t)}}},a))}if(k(r.uiCanExit)){var s=ni++,c=function(t){return!!t&&(t._uiCanExitIds&&!0===t._uiCanExitIds[s]||c(t.redirectedFrom()))},f={exiting:o.name};n.$on("$destroy",e.onBefore(f,function(e){var n,i=e._uiCanExitIds=e._uiCanExitIds||{};return c(e)||(n=t.when(r.uiCanExit(e))).then(function(t){return i[s]=!1!==t}),n},a))}}var It,n=r(e),i=angular,o=n&&n.module?n:i,a=function(){for(var t=0,e=0,r=arguments.length;r>e;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;r>e;e++)for(var o=arguments[e],a=0,u=o.length;u>a;a++,i++)n[i]=o[a];return n},f=function(t){return function(e){return e&&e[t]}},l=u(function(t,e,r){return r&&r[t]===e}),h=function(t){return c.apply(null,t.split(".").map(f))},p=function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return!t.apply(null,e)}},m=function(t){return function(e){return e.reduce(function(e,r){return e&&!!t(r)},!0)}},y=function(t){return function(e){return e.reduce(function(e,r){return e||!!t(r)},!1)}},g=function(t){return function(e){return null!=e&&e.constructor===t||e instanceof t}},w=function(t){return function(e){return t===e}},_=function(t){return function(){return t}},$=Object.prototype.toString,R=function(t){return function(e){return typeof e===t}},E=R("undefined"),C=p(E),T=function(t){return null===t},P=d(T,E),k=R("function"),O=R("number"),x=R("string"),j=function(t){return null!==t&&"object"==typeof t},V=Array.isArray,I=function(t){return"[object Date]"===$.call(t)},H=function(t){return"[object RegExp]"===$.call(t)},D=v(j,c(f("then"),k)),q=function(t,e){return e.reduce(function(e,r){return e[r]=(n=t+"."+r+"()",function(){throw new Error("No implementation for "+n+". The framework specific code did not implement this method.")}),e;var n},{})},U={$q:void 0,$injector:void 0},N=function(){for(var t=0,e=0,r=arguments.length;r>e;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;r>e;e++)for(var o=arguments[e],a=0,u=o.length;u>a;a++,i++)n[i]=o[a];return n},F="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||void 0,L=F.angular||{},M=L.fromJson||JSON.parse.bind(JSON),B=L.toJson||JSON.stringify.bind(JSON),G=L.forEach||function(t,e,r){return V(t)?t.forEach(e,r):void Object.keys(t).forEach(function(r){return e(t[r],r)})},z=Object.assign||jt,W=L.equals||Vt,Y=function(t,e){return z(Object.create(t),e)},Z=u(X),tt=u(et),rt=u(nt),it=function(t){return t.slice().forEach(function(e){"function"==typeof e&&e(),tt(t,e)})},at=function(t,e){return z(t,e)},pt=vt,dt=function(t){return Object.keys(t).map(function(e){return t[e]})},mt=function(t,e){return t&&e},yt=function(t,e){return t||e},gt=function(t,e){return t.concat(e)},wt=function(t,e){return V(e)?t.concat(e.reduce(wt,[])):_t(t,e)},St=function(t,e){return Z(t,e)?t:_t(t,e)},bt=function(t){return t.reduce(gt,[])},$t=function(t){return t.reduce(wt,[])},Rt=Ct,Et=Ct,Tt=function(t){return Object.keys(t).map(function(e){return[e,t[e]]})},Ht=function(t){return t["catch"](function(t){return 0})&&t},At=function(t){return Ht(U.$q.reject(t))},Dt=function(){function t(t){this.text=t,this.glob=t.split(".");var e=this.text.split(".").map(function(t){return"**"===t?"(?:|(?:\\.[^.]*)*)":"*"===t?"\\.[^.]*":"\\."+t}).join("");this.regexp=new RegExp("^"+e+"$")}return t.is=function(t){return!!/[!,*]+/.exec(t)},t.fromString=function(e){return t.is(e)?new t(e):null},t.prototype.matches=function(t){return this.regexp.test("."+t)},t}(),qt=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e=null),this._items=t,this._limit=e,this._evictListeners=[],this.onEvict=rt(this._evictListeners)}return t.prototype.enqueue=function(t){var e=this._items;return e.push(t),this._limit&&e.length>this._limit&&this.evict(),t},t.prototype.evict=function(){var t=this._items.shift();return this._evictListeners.forEach(function(e){return e(t)}),t},t.prototype.dequeue=function(){return this.size()?this._items.splice(0,1)[0]:void 0},t.prototype.clear=function(){var t=this._items;return this._items=[],t},t.prototype.size=function(){return this._items.length},t.prototype.remove=function(t){var e=this._items.indexOf(t);return e>-1&&this._items.splice(e,1)[0]},t.prototype.peekTail=function(){return this._items[this._items.length-1]},t.prototype.peekHead=function(){return this.size()?this._items[0]:void 0},t}();t.RejectType=void 0,(It=t.RejectType||(t.RejectType={}))[It.SUPERSEDED=2]="SUPERSEDED",It[It.ABORTED=3]="ABORTED",It[It.INVALID=4]="INVALID",It[It.IGNORED=5]="IGNORED",It[It.ERROR=6]="ERROR";var ue,Ut=0,Nt=function(){function e(t,e,r){this.$id=Ut++,this.type=t,this.message=e,this.detail=r}return e.isRejectionPromise=function(t){return t&&"function"==typeof t.then&&g(e)(t._transitionRejection)},e.superseded=function(r,n){var i=new e(t.RejectType.SUPERSEDED,"The transition has been superseded by a different transition",r);return n&&n.redirected&&(i.redirected=!0),i},e.redirected=function(t){return e.superseded(t,{redirected:!0})},e.invalid=function(r){return new e(t.RejectType.INVALID,"This transition is invalid",r)},e.ignored=function(r){return new e(t.RejectType.IGNORED,"The transition was ignored",r)},e.aborted=function(r){return new e(t.RejectType.ABORTED,"The transition has been aborted",r)},e.errored=function(r){return new e(t.RejectType.ERROR,"The transition errored",r)},e.normalize=function(t){return g(e)(t)?t:e.errored(t);
},e.prototype.toString=function(){var t,e=(t=this.detail)&&t.toString!==Object.prototype.toString?t.toString():Jt(t);return"Transition Rejection($id: "+this.$id+" type: "+this.type+", message: "+this.message+", detail: "+e+")"},e.prototype.toPromise=function(){return z(At(this),{_transitionRejection:this})},e}(),zt=Nt.isRejectionPromise,Wt=b([[E,_("undefined")],[T,_("null")],[D,_("[Promise]")],[zt,function(t){return t._transitionRejection.toString()}],[function(t){return j(t)&&!V(t)&&t.constructor!==Object&&k(t.toString)},function(t){return t.toString()}],[A,Bt],[_(!0),J]]),Qt=function(t){return function(e){if(!e)return["",""];var r=e.indexOf(t);return-1===r?[e,""]:[e.substr(0,r),e.substr(r+1)]}},Kt=new RegExp("^(?:[a-z]+:)?//[^/]+/"),Yt=function(t){return t.replace(/\/[^/]*$/,"")},Zt=Qt("#"),Xt=Qt("?"),te=Qt("="),ee=function(t){return t?t.replace(/^#/,""):""},ie={log:Q,error:Q,table:Q},oe="undefined"!=typeof document&&document.documentMode&&9===document.documentMode?window&&window.console?function(t){var e=function(e){return Function.prototype.bind.call(e,t)};return{log:e(t.log),error:e(t.log),table:e(t.log)}}(window.console):ie:console.table&&console.error?console:function(t){var e=t.log.bind(t);return{log:e,error:t.error?t.error.bind(t):e,table:t.table?t.table.bind(t):e}}(console);t.Category=void 0,(ue=t.Category||(t.Category={}))[ue.RESOLVE=0]="RESOLVE",ue[ue.TRANSITION=1]="TRANSITION",ue[ue.HOOK=2]="HOOK",ue[ue.UIVIEW=3]="UIVIEW",ue[ue.VIEWCONFIG=4]="VIEWCONFIG";var me,ce=h("$id"),fe=h("router.$id"),le=function(t){return"Transition #"+ce(t)+"-"+fe(t)},he=function(){function e(){this._enabled={},this.approximateDigests=0}return e.prototype._set=function(e,r){var n=this;r.length||(r=Object.keys(t.Category).map(function(t){return parseInt(t,10)}).filter(function(t){return!isNaN(t)}).map(function(e){return t.Category[e]})),r.map(se).forEach(function(t){return n._enabled[t]=e})},e.prototype.enable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._set(!0,t)},e.prototype.disable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._set(!1,t)},e.prototype.enabled=function(t){return!!this._enabled[se(t)]},e.prototype.traceTransitionStart=function(e){this.enabled(t.Category.TRANSITION)&&oe.log(le(e)+": Started  -> "+Jt(e))},e.prototype.traceTransitionIgnored=function(e){this.enabled(t.Category.TRANSITION)&&oe.log(le(e)+": Ignored  <> "+Jt(e))},e.prototype.traceHookInvocation=function(e,r,n){if(this.enabled(t.Category.HOOK)){var i=h("traceData.hookType")(n)||"internal",o=h("traceData.context.state.name")(n)||h("traceData.context")(n)||"unknown",a=Bt(e.registeredHook.callback);oe.log(le(r)+":   Hook -> "+i+" context: "+o+", "+Ft(200,a))}},e.prototype.traceHookResult=function(e,r,n){this.enabled(t.Category.HOOK)&&oe.log(le(r)+":   <- Hook returned: "+Ft(200,Jt(e)))},e.prototype.traceResolvePath=function(e,r,n){this.enabled(t.Category.RESOLVE)&&oe.log(le(n)+":         Resolving "+e+" ("+r+")")},e.prototype.traceResolvableResolved=function(e,r){this.enabled(t.Category.RESOLVE)&&oe.log(le(r)+":               <- Resolved  "+e+" to: "+Ft(200,Jt(e.data)))},e.prototype.traceError=function(e,r){this.enabled(t.Category.TRANSITION)&&oe.log(le(r)+": <- Rejected "+Jt(r)+", reason: "+e)},e.prototype.traceSuccess=function(e,r){this.enabled(t.Category.TRANSITION)&&oe.log(le(r)+": <- Success  "+Jt(r)+", final state: "+e.name)},e.prototype.traceUIViewEvent=function(e,r,n){void 0===n&&(n=""),this.enabled(t.Category.UIVIEW)&&oe.log("ui-view: "+Lt(30,e)+" "+ae(r)+n)},e.prototype.traceUIViewConfigUpdated=function(e,r){this.enabled(t.Category.UIVIEW)&&this.traceUIViewEvent("Updating",e," with ViewConfig from context='"+r+"'")},e.prototype.traceUIViewFill=function(e,r){this.enabled(t.Category.UIVIEW)&&this.traceUIViewEvent("Fill",e," with: "+Ft(200,r))},e.prototype.traceViewSync=function(e){if(this.enabled(t.Category.VIEWCONFIG)){var r="uiview component fqn",n=e.map(function(t){var e,n=t.uiView,i=t.viewConfig,o=n&&n.fqn,a=i&&i.viewDecl.$context.name+": ("+i.viewDecl.$name+")";return(e={})[r]=o,e["view config state (view name)"]=a,e}).sort(function(t,e){return(t[r]||"").localeCompare(e[r]||"")});oe.table(n)}},e.prototype.traceViewServiceEvent=function(e,r){this.enabled(t.Category.VIEWCONFIG)&&oe.log("VIEWCONFIG: "+e+" "+function(t){var e=t.viewDecl,r=e.$context.name||"(root)";return"[View#"+t.$id+" from '"+r+"' state]: target ui-view: '"+e.$uiViewName+"@"+e.$uiViewContextAnchor+"'"}(r))},e.prototype.traceViewServiceUIViewEvent=function(e,r){this.enabled(t.Category.VIEWCONFIG)&&oe.log("VIEWCONFIG: "+e+" "+ae(r))},e}(),pe=new he,ve=function(){function t(t){this.pattern=/.*/,this.inherit=!0,z(this,t)}return t.prototype.is=function(t,e){return!0},t.prototype.encode=function(t,e){return t},t.prototype.decode=function(t,e){return t},t.prototype.equals=function(t,e){return t==e},t.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},t.prototype.toString=function(){return"{ParamType:"+this.name+"}"},t.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},t.prototype.$asArray=function(t,e){if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new de(this,t)},t}(),ye=Object.prototype.hasOwnProperty;t.DefType=void 0,(me=t.DefType||(t.DefType={}))[me.PATH=0]="PATH",me[me.SEARCH=1]="SEARCH",me[me.CONFIG=2]="CONFIG";var we,_e=function(){function e(e,r,n,i,o){var a=ge(e,n,o);r=function(e,r,n,i,o){if(e.type&&r&&"string"!==r.name)throw new Error("Param '"+i+"' has two type configurations.");if(e.type&&r&&"string"===r.name&&o.type(e.type))return o.type(e.type);if(r)return r;if(!e.type){var a=n===t.DefType.CONFIG?"any":n===t.DefType.PATH?"path":n===t.DefType.SEARCH?"query":"string";return o.type(a)}return e.type instanceof ve?e.type:o.type(e.type)}(a,r,n,e,i.paramTypes);var u,s,c=(u={array:n===t.DefType.SEARCH&&"auto"},s=e.match(/\[\]$/)?{array:!0}:{},z(u,s,a).array);r=c?r.$asArray(c,n===t.DefType.SEARCH):r;var l=void 0!==a.value||n===t.DefType.SEARCH,h=C(a.dynamic)?!!a.dynamic:!!r.dynamic,p=C(a.raw)?!!a.raw:!!r.raw,v=function(t,e,r){var n=t.squash;if(!e||!1===n)return!1;if(!C(n)||null==n)return r;if(!0===n||x(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}(a,l,i.defaultSquashPolicy()),d=function(t,e,r,n){var i=[{from:"",to:r||e?void 0:""},{from:null,to:r||e?void 0:""}],o=V(t.replace)?t.replace:[];x(n)&&o.push({from:n,to:void 0});var a=vt(o,f("from"));return lt(i,function(t){return-1===a.indexOf(t.from)}).concat(o)}(a,c,l,v),m=C(a.inherit)?!!a.inherit:!!r.inherit;z(this,{id:e,type:r,location:n,isOptional:l,dynamic:h,raw:p,squash:v,replace:d,inherit:m,array:c,config:a})}return e.values=function(t,e){void 0===e&&(e={});for(var r={},n=0,i=t;n<i.length;n++){var o=i[n];r[o.id]=o.value(e[o.id])}return r},e.changed=function(t,e,r){return void 0===e&&(e={}),void 0===r&&(r={}),t.filter(function(t){return!t.type.equals(e[t.id],r[t.id])})},e.equals=function(t,r,n){return void 0===r&&(r={}),void 0===n&&(n={}),0===e.changed(t,r,n).length},e.validates=function(t,e){return void 0===e&&(e={}),t.map(function(t){return t.validates(e[t.id])}).reduce(mt,!0)},e.prototype.isDefaultValue=function(t){return this.isOptional&&this.type.equals(this.value(),t)},e.prototype.value=function(t){var e=this;return t=function(t){for(var r=0,n=e.replace;r<n.length;r++){var i=n[r];if(i.from===t)return i.to}return t}(t),E(t)?function(){if(e._defaultValueCache)return e._defaultValueCache.defaultValue;if(!U.$injector)throw new Error("Injectable functions cannot be called at configuration time");var t=U.$injector.invoke(e.config.$$fn);if(null!=t&&!e.type.is(t))throw new Error("Default value ("+t+") for parameter '"+e.id+"' is not an instance of ParamType ("+e.type.name+")");return e.config.$$fn.__cacheable&&(e._defaultValueCache={defaultValue:t}),t}():this.type.$normalize(t)},e.prototype.isSearch=function(){return this.location===t.DefType.SEARCH},e.prototype.validates=function(t){if((E(t)||null===t)&&this.isOptional)return!0;var e=this.type.$normalize(t);if(!this.type.is(e))return!1;var r=this.type.encode(e);return!(x(r)&&!this.type.pattern.exec(r))},e.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},e}(),Se=function(){function t(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes=st(t.prototype,["hash","string","query","path","int","bool","date","json","any"]),this.types=Y(vt(this.defaultTypes,function(t,e){return new ve(z({name:e},t))}),{})}return t.prototype.dispose=function(){this.types={}},t.prototype.type=function(t,e,r){if(!C(e))return this.types[t];if(this.types.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return this.types[t]=new ve(z({name:t},e)),r&&(this.typeQueue.push({name:t,def:r}),this.enqueue||this._flushTypeQueue()),this},t.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var t=this.typeQueue.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");z(this.types[t.name],U.$injector.invoke(t.def))}},t}();we=function(t){var e=function(t){return null!=t?t.toString():t},r={encode:e,decode:e,is:g(String),pattern:/.*/,equals:function(t,e){return t==e}};return z({},r,t)},z(Se.prototype,{string:we({}),path:we({pattern:/[^/]*/}),query:we({}),hash:we({inherit:!1}),"int":we({decode:function(t){return parseInt(t,10)},is:function(t){return!P(t)&&this.decode(t.toString())===t},pattern:/-?\d+/}),bool:we({encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:g(Boolean),pattern:/0|1/}),date:we({encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):void 0},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):void 0},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return["getFullYear","getMonth","getDate"].reduce(function(r,n){return r&&t[n]()===e[n]()},!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/}),json:we({encode:B,decode:M,is:g(Object),equals:W,pattern:/[^/]*/}),any:we({encode:J,decode:J,is:function(){return!0},equals:W})});var Le,Me,be=function(){function t(t){void 0===t&&(t={}),z(this,t)}return t.prototype.$inherit=function(t,e,r){var n,i=ut(e,r),o={},a=[];for(var u in i)if(i[u]&&i[u].params&&(n=Object.keys(i[u].params)).length)for(var s in n)a.indexOf(n[s])>=0||(a.push(n[s]),o[n[s]]=this[n[s]]);return z({},o,t)},t}(),$e=function(){function t(e){if(e instanceof t){var r=e;this.state=r.state,this.paramSchema=r.paramSchema.slice(),this.paramValues=z({},r.paramValues),this.resolvables=r.resolvables.slice(),this.views=r.views&&r.views.slice()}else{var n=e;this.state=n,this.paramSchema=n.parameters({inherit:!1}),this.paramValues={},this.resolvables=n.resolvables.map(function(t){return t.clone()})}}return t.prototype.clone=function(){return new t(this)},t.prototype.applyRawParams=function(t){return this.paramValues=this.paramSchema.reduce(function(e,r){return kt(e,[(n=r).id,n.value(t[n.id])]);var n},{}),this},t.prototype.parameter=function(t){return ht(this.paramSchema,l("id",t))},t.prototype.equals=function(t,e){var r=this.diff(t,e);return r&&0===r.length},t.prototype.diff=function(t,e){if(this.state!==t.state)return!1;var r=e?e(this):this.paramSchema;return _e.changed(r,this.paramValues,t.paramValues)},t.clone=function(t){return t.clone()},t}(),Re=function(){function t(t,e,r,n){this._stateRegistry=t,this._identifier=e,this._identifier=e,this._params=z({},r||{}),this._options=z({},n||{}),this._definition=t.matcher.find(e,this._options.relative)}return t.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},t.prototype.identifier=function(){return this._identifier},t.prototype.params=function(){return this._params},t.prototype.$state=function(){return this._definition},t.prototype.state=function(){return this._definition&&this._definition.self},t.prototype.options=function(){return this._options},t.prototype.exists=function(){return!(!this._definition||!this._definition.self)},t.prototype.valid=function(){return!this.error()},t.prototype.error=function(){var t=this.options().relative;if(!this._definition&&t){var e=t.name?t.name:t;return"Could not resolve '"+this.name()+"' from state '"+e+"'"}return this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'"},t.prototype.toString=function(){return"'"+this.name()+"'"+Jt(this.params())},t.prototype.withState=function(e){return new t(this._stateRegistry,e,this._params,this._options)},t.prototype.withParams=function(e,r){void 0===r&&(r=!1);var n=r?e:z({},this._params,e);return new t(this._stateRegistry,this._identifier,n,this._options)},t.prototype.withOptions=function(e,r){void 0===r&&(r=!1);var n=r?e:z({},this._options,e);return new t(this._stateRegistry,this._identifier,this._params,n)},t.isDef=function(t){return t&&t.state&&(x(t.state)||j(t.state)&&x(t.state.name))},t}(),Ee=function(){function t(){}return t.makeTargetState=function(t,e){var r=Ot(e).state;return new Re(t,r,e.map(f("paramValues")).reduce(at,{}),{})},t.buildPath=function(t){var e=t.params();return t.$state().path.map(function(t){return new $e(t).applyRawParams(e)})},t.buildToPath=function(e,r){var n=t.buildPath(r);return r.options().inherit?t.inheritParams(e,n,Object.keys(r.params())):n},t.applyViewConfigs=function(e,r,n){r.filter(function(t){return Z(n,t.state)}).forEach(function(n){var i=dt(n.state.views||{}),o=t.subPath(r,function(t){return t===n}),a=i.map(function(t){return e.createViewConfig(o,t)});n.views=a.reduce(gt,[])})},t.inheritParams=function(t,e,r){void 0===r&&(r=[]);var n=t.map(function(t){return t.paramSchema}).reduce(gt,[]).filter(function(t){return!t.inherit}).map(f("id"));return e.map(function(e){var i=z({},e&&e.paramValues),o=st(i,r);i=ct(i,r);var a,u,s,c=ct((a=t,u=e.state,s=ht(a,l("state",u)),z({},s&&s.paramValues)||{}),n),f=z(i,c,o);return new $e(e.state).applyRawParams(f)})},t.treeChanges=function(e,r,n){for(var i,o,a,u,s,c,f=Math.min(e.length,r.length),l=0;f>l&&e[l].state!==n&&(i=e[l],o=r[l],i.equals(o,t.nonDynamicParams));)l++;u=(a=e).slice(0,l),s=a.slice(l);var h=u.map(function(t,e){var n=t.clone();return n.paramValues=r[e].paramValues,n});return c=r.slice(l),{from:a,to:h.concat(c),retained:u,retainedWithToParams:h,exiting:s,entering:c}},t.matching=function(t,e,r){var n=!1;return Pt(t,e).reduce(function(t,e){var i=e[0],o=e[1];return(n=n||!i.equals(o,r))?t:t.concat(i)},[])},t.equals=function(e,r,n){return e.length===r.length&&t.matching(e,r,n).length===e.length},t.subPath=function(t,e){var r=ht(t,e),n=t.indexOf(r);return-1===n?void 0:t.slice(0,n+1)},t.nonDynamicParams=function(t){return t.state.parameters({inherit:!1}).filter(function(t){return!t.dynamic})},t.paramValues=function(t){return t.reduce(function(t,e){return z(t,e.paramValues)},{})},t}(),Ce={when:{LAZY:"LAZY",EAGER:"EAGER"},async:{WAIT:"WAIT",NOWAIT:"NOWAIT"}},Te={when:"LAZY",async:"WAIT"},Pe=function(){function t(e,r,n,i,o){if(this.resolved=!1,this.promise=void 0,e instanceof t)z(this,e);else if(k(r)){if(P(e))throw new Error("new Resolvable(): token argument is required");if(!k(r))throw new Error("new Resolvable(): resolveFn argument must be a function");this.token=e,this.policy=i,this.resolveFn=r,this.deps=n||[],this.data=o,this.resolved=void 0!==o,this.promise=this.resolved?U.$q.when(this.data):void 0}else if(j(e)&&e.token&&(e.hasOwnProperty("resolveFn")||e.hasOwnProperty("data"))){var a=e;return new t(a.token,a.resolveFn,a.deps,a.policy,a.data)}}return t.prototype.getPolicy=function(t){var e=this.policy||{},r=t&&t.resolvePolicy||{};return{when:e.when||r.when||Te.when,async:e.async||r.async||Te.async}},t.prototype.resolve=function(t,e){var r=this,n=U.$q,i=t.findNode(this),o=i&&i.state,a=this.getPolicy(o).async,u=k(a)?a:J;return this.promise=n.when().then(function(){return n.all(t.getDependencies(r).map(function(r){return r.get(t,e)}))}).then(function(t){return r.resolveFn.apply(null,t)}).then(u).then(function(t){return r.data=t,r.resolved=!0,r.resolveFn=null,pe.traceResolvableResolved(r,e),r.data})},t.prototype.get=function(t,e){return this.promise||this.resolve(t,e)},t.prototype.toString=function(){return"Resolvable(token: "+Jt(this.token)+", requires: ["+this.deps.map(Jt)+"])"},t.prototype.clone=function(){return new t(this)},t.fromData=function(e,r){return new t(e,function(){return r},null,null,r)},t}(),ke=Ce.when,Oe=[ke.EAGER,ke.LAZY],xe=[ke.EAGER],je=function(){function t(t){this._path=t}return t.prototype.getTokens=function(){return this._path.reduce(function(t,e){return t.concat(e.resolvables.map(function(t){return t.token}))},[]).reduce(St,[])},t.prototype.getResolvable=function(t){return Ot(this._path.map(function(t){return t.resolvables}).reduce(gt,[]).filter(function(e){return e.token===t}))},t.prototype.getPolicy=function(t){var e=this.findNode(t);return t.getPolicy(e.state)},t.prototype.subContext=function(e){return new t(Ee.subPath(this._path,function(t){return t.state===e}))},t.prototype.addResolvables=function(t,e){var r=ht(this._path,l("state",e)),n=t.map(function(t){return t.token});r.resolvables=r.resolvables.filter(function(t){return-1===n.indexOf(t.token)}).concat(t)},t.prototype.resolvePath=function(t,e){var r=this;void 0===t&&(t="LAZY");var n=(Z(Oe,t)?t:"LAZY")===Ce.when.EAGER?xe:Oe;pe.traceResolvePath(this._path,t,e);var i=function(t,e){return function(n){return Z(t,r.getPolicy(n)[e])}},o=this._path.reduce(function(t,o){var a=o.resolvables.filter(i(n,"when")),u=a.filter(i(["NOWAIT"],"async")),s=a.filter(p(i(["NOWAIT"],"async"))),c=r.subContext(o.state),f=function(t){return t.get(c,e).then(function(e){return{token:t.token,value:e}})};return u.forEach(f),t.concat(s.map(f))},[]);return U.$q.all(o)},t.prototype.injector=function(){return this._injector||(this._injector=new Ve(this))},t.prototype.findNode=function(t){return ht(this._path,function(e){return Z(e.resolvables,t)})},t.prototype.getDependencies=function(t){var e=this,r=this.findNode(t),n=(Ee.subPath(this._path,function(t){return t===r})||this._path).reduce(function(t,e){return t.concat(e.resolvables)},[]).filter(function(e){return e!==t});return t.deps.map(function(t){var r=n.filter(function(e){return e.token===t});if(r.length)return Ot(r);var i=e.injector().getNative(t);if(E(i))throw new Error("Could not find Dependency Injection token: "+Jt(t));return new Pe(t,function(){return i},[],i)})},t}(),Ve=function(){function t(t){this.context=t,this["native"]=this.get("Native Injector")||U.$injector}return t.prototype.get=function(t){var e=this.context.getResolvable(t);if(e){if("NOWAIT"===this.context.getPolicy(e).async)return e.get(this.context);if(!e.resolved)throw new Error("Resolvable async .get() not complete:"+Jt(e.token));return e.data}return this.getNative(t)},t.prototype.getAsync=function(t){var e=this.context.getResolvable(t);return e?e.get(this.context):U.$q.when(this["native"].get(t))},t.prototype.getNative=function(t){return this["native"]&&this["native"].get(t)},t}(),De=function(t,e){return function(r){var n=r.self;if(n&&n.url&&n.name&&n.name.match(/\.\*\*$/)){var i={};xt(n,i),i.url+="{remainder:any}",n=i}var o=r.parent,a=function(t){if(!x(t))return!1;var e="^"===t.charAt(0);return{val:e?t.substring(1):t,root:e}}(n.url),u=a?t.compile(a.val,{state:n}):n.url;if(!u)return null;if(!t.isMatcher(u))throw new Error("Invalid url '"+u+"' in state '"+r+"'");return a&&a.root?u:(o&&o.navigable||e()).url.append(u)}},qe=function(t){return function(e){return!t(e)&&e.url?e:e.parent?e.parent.navigable:null}},Be=function(){function t(t,e){this.matcher=t;var r,n=this,i=function(){return t.find("")},o=function(t){return""===t.name};this.builders={name:[Ie],self:[He],parent:[function(e){return o(e)?null:t.find(n.parentName(e))||i()}],data:[Ae],url:[De(e,i)],navigable:[qe(o)],params:[(r=e.paramFactory,function(t){var e=t.url&&t.url.parameters({inherit:!1})||[],n=dt(pt(ct(t.params||{},e.map(f("id"))),function(e,n){return r.fromConfig(n,null,t.self)}));return e.concat(n).map(function(t){return[t.id,t]}).reduce(kt,{})})],views:[],path:[Ue],includes:[Ne],resolvables:[Fe]}}return t.prototype.builder=function(t,e){var r=this.builders,n=r[t]||[];return x(t)&&!C(e)?n.length>1?n:n[0]:x(t)&&k(e)?(r[t]=n,r[t].push(e),function(){return r[t].splice(r[t].indexOf(e,1))&&null}):void 0},t.prototype.build=function(t){var e=this.matcher,r=this.builders,n=this.parentName(t);if(n&&!e.find(n,void 0,!1))return null;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i].reduce(function(t,e){return function(r){return e(r,t)}},Q);t[i]=o(t)}return t},t.prototype.parentName=function(t){var e=t.name||"",r=e.split(".");if("**"===r.pop()&&r.pop(),r.length){if(t.parent)throw new Error("States that specify the 'parent:' property should not have a '.' in their name ("+e+")");return r.join(".")}return t.parent?x(t.parent)?t.parent:t.parent.name:""},t.prototype.name=function(t){var e=t.name;if(-1!==e.indexOf(".")||!t.parent)return e;var r=x(t.parent)?t.parent:t.parent.name;return r?r+"."+e:e},t}(),Ge=function(){function t(e){return t.create(e||{})}return t.create=function(e){e=t.isStateClass(e)?new e:e;var r=Y(Y(e,t.prototype));return e.$$state=function(){return r},r.self=e,r.__stateObjectCache={nameGlob:Dt.fromString(r.name)},r},t.prototype.is=function(t){return this===t||this.self===t||this.fqn()===t},t.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var t=this.parent.fqn();return t?t+"."+this.name:this.name},t.prototype.root=function(){return this.parent&&this.parent.root()||this},t.prototype.parameters=function(t){return((t=ot(t,{inherit:!0,matchingKeys:null})).inherit&&this.parent&&this.parent.parameters()||[]).concat(dt(this.params)).filter(function(e){return!t.matchingKeys||t.matchingKeys.hasOwnProperty(e.id)})},t.prototype.parameter=function(t,e){return void 0===e&&(e={}),this.url&&this.url.parameter(t,e)||ht(dt(this.params),l("id",t))||e.inherit&&this.parent&&this.parent.parameter(t)},t.prototype.toString=function(){return this.fqn()},t.isStateClass=function(t){return k(t)&&!0===t.__uiRouterState},t.isStateDeclaration=function(t){return k(t.$$state)},t.isState=function(t){return j(t.__stateObjectCache)},t}(),ze=function(){function t(t){this._states=t}return t.prototype.isRelative=function(t){return 0===(t=t||"").indexOf(".")||0===t.indexOf("^")},t.prototype.find=function(t,e,r){if(void 0===r&&(r=!0),t||""===t){var n=x(t),i=n?t:t.name;this.isRelative(i)&&(i=this.resolvePath(i,e));var o=this._states[i];if(o&&(n||!(n||o!==t&&o.self!==t)))return o;if(n&&r){var a=dt(this._states).filter(function(t){return t.__stateObjectCache.nameGlob&&t.__stateObjectCache.nameGlob.matches(i)});return a.length>1&&oe.error("stateMatcher.find: Found multiple matches for "+i+" using glob: ",a.map(function(t){return t.name})),a[0]}}},t.prototype.resolvePath=function(t,e){if(!e)throw new Error("No reference point given for path '"+t+"'");for(var r=this.find(e),n=t.split("."),i=n.length,o=0,a=r;i>o;o++)if(""!==n[o]||0!==o){if("^"!==n[o])break;if(!a.parent)throw new Error("Path '"+t+"' not valid for state '"+r.name+"'");a=a.parent}else a=r;var u=n.slice(o).join(".");return a.name+(a.name&&u?".":"")+u},t}(),We=function(){function t(t,e,r,n){this.router=t,this.states=e,this.builder=r,this.listeners=n,this.queue=[]}return t.prototype.dispose=function(){this.queue=[]},t.prototype.register=function(t){var e=this.queue,r=Ge.create(t),n=r.name;if(!x(n))throw new Error("State must have a valid name");if(this.states.hasOwnProperty(n)||Z(e.map(f("name")),n))throw new Error("State '"+n+"' is already defined");return e.push(r),this.flush(),r},t.prototype.flush=function(){for(var t=this,e=this.queue,r=this.states,n=this.builder,i=[],o=[],a={},u=function(e){return t.states.hasOwnProperty(e)&&t.states[e]},s=function(){i.length&&t.listeners.forEach(function(t){return t("registered",i.map(function(t){return t.self}))})};e.length>0;){var c=e.shift(),f=c.name,l=n.build(c),h=o.indexOf(c);if(l){var p=u(f);if(p&&p.name===f)throw new Error("State '"+f+"' is already defined");var v=u(f+".**");v&&this.router.stateRegistry.deregister(v),r[f]=c,this.attachRoute(c),h>=0&&o.splice(h,1),i.push(c)}else{var d=a[f];if(a[f]=e.length,h>=0&&d===e.length)return e.push(c),s(),r;0>h&&o.push(c),e.push(c)}}return s(),r},t.prototype.attachRoute=function(t){if(!t["abstract"]&&t.url){var e=this.router.urlService.rules;e.rule(e.urlRuleFactory.create(t))}},t}(),Je=function(){function t(t){this.router=t,this.states={},this.listeners=[],this.matcher=new ze(this.states),this.builder=new Be(this.matcher,t.urlMatcherFactory),this.stateQueue=new We(t,this.states,this.builder,this.listeners),this._registerRoot()}return t.prototype._registerRoot=function(){(this._root=this.stateQueue.register({name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:!0}},"abstract":!0})).navigable=null},t.prototype.dispose=function(){var t=this;this.stateQueue.dispose(),this.listeners=[],this.get().forEach(function(e){return t.get(e)&&t.deregister(e)})},t.prototype.onStatesChanged=function(t){return this.listeners.push(t),function(){tt(this.listeners)(t)}.bind(this)},t.prototype.root=function(){return this._root},t.prototype.register=function(t){return this.stateQueue.register(t)},t.prototype._deregisterTree=function(t){var e=this,r=this.get().map(function(t){return t.$$state()}),n=function(t){var e=r.filter(function(e){return-1!==t.indexOf(e.parent)});return 0===e.length?e:e.concat(n(e))},i=n([t]),o=[t].concat(i).reverse();return o.forEach(function(t){var r=e.router.urlService.rules;r.rules().filter(l("state",t)).forEach(function(t){return r.removeRule(t)}),delete e.states[t.name]}),o},t.prototype.deregister=function(t){var e=this.get(t);if(!e)throw new Error("Can't deregister state; not found: "+t);var r=this._deregisterTree(e.$$state());return this.listeners.forEach(function(t){return t("deregistered",r.map(function(t){return t.self}))}),r},t.prototype.get=function(t,e){var r=this;if(0===arguments.length)return Object.keys(this.states).map(function(t){return r.states[t].self});var n=this.matcher.find(t,e);return n&&n.self||null},t.prototype.decorator=function(t,e){return this.builder.builder(t,e)},t}();t.TransitionHookPhase=void 0,(Le=t.TransitionHookPhase||(t.TransitionHookPhase={}))[Le.CREATE=0]="CREATE",Le[Le.BEFORE=1]="BEFORE",Le[Le.RUN=2]="RUN",Le[Le.SUCCESS=3]="SUCCESS",Le[Le.ERROR=4]="ERROR",t.TransitionHookScope=void 0,(Me=t.TransitionHookScope||(t.TransitionHookScope={}))[Me.TRANSITION=0]="TRANSITION",Me[Me.STATE=1]="STATE";var hr,Qe={current:Q,transition:null,traceData:{},bind:null},Ke=function(){function e(e,r,n,i){var o=this;this.transition=e,this.stateContext=r,this.registeredHook=n,this.options=i,this.isSuperseded=function(){return o.type.hookPhase===t.TransitionHookPhase.RUN&&!o.options.transition.isActive()},this.options=ot(i,Qe),this.type=n.eventType}return e.chain=function(t,e){return t.reduce(function(t,e){return t.then(function(){return e.invokeHook()})},e||U.$q.when())},e.invokeHooks=function(t,r){for(var n=0;n<t.length;n++){var i=t[n].invokeHook();if(D(i)){var o=t.slice(n+1);return e.chain(o,i).then(r)}}return r()},e.runAllHooks=function(t){t.forEach(function(t){return t.invokeHook()})},e.prototype.logError=function(t){this.transition.router.stateService.defaultErrorHandler()(t)},e.prototype.invokeHook=function(){var t=this,e=this.registeredHook;if(!e._deregistered){var r=this.getNotCurrentRejection();if(r)return r;var n=this.options;pe.traceHookInvocation(this,this.transition,n);var i=function(r){return e.eventType.getErrorHandler(t)(r)},o=function(r){return e.eventType.getResultHandler(t)(r)};try{var a=e.callback.call(n.bind,t.transition,t.stateContext);return!this.type.synchronous&&D(a)?a["catch"](function(t){return Nt.normalize(t).toPromise()}).then(o,i):o(a)}catch(t){return i(Nt.normalize(t))}finally{e.invokeLimit&&++e.invokeCount>=e.invokeLimit&&e.deregister()}}},e.prototype.handleHookResult=function(t){var e=this,r=this.getNotCurrentRejection();return r||(D(t)?t.then(function(t){return e.handleHookResult(t)}):(pe.traceHookResult(t,this.transition,this.options),!1===t?Nt.aborted("Hook aborted transition").toPromise():g(Re)(t)?Nt.redirected(t).toPromise():void 0))},e.prototype.getNotCurrentRejection=function(){var t=this.transition.router;return t._disposed?Nt.aborted("UIRouter instance #"+t.$id+" has been stopped (disposed)").toPromise():this.transition._aborted?Nt.aborted().toPromise():this.isSuperseded()?Nt.superseded(this.options.current()).toPromise():void 0},e.prototype.toString=function(){var t=this.options,e=this.registeredHook;return(h("traceData.hookType")(t)||"internal")+" context: "+(h("traceData.context.state.name")(t)||h("traceData.context")(t)||"unknown")+", "+Ft(200,Gt(e.callback))},e.HANDLE_RESULT=function(t){return function(e){return t.handleHookResult(e)}},e.LOG_REJECTED_RESULT=function(t){return function(e){D(e)&&e["catch"](function(e){return t.logError(Nt.normalize(e))})}},e.LOG_ERROR=function(t){return function(e){return t.logError(e)}},e.REJECT_ERROR=function(t){return function(t){return At(t)}},e.THROW_ERROR=function(t){return function(t){throw t}},e}(),Ze=function(){function e(t,e,r,n,i,o){void 0===o&&(o={}),this.tranSvc=t,this.eventType=e,this.callback=r,this.matchCriteria=n,this.removeHookFromRegistry=i,this.invokeCount=0,this._deregistered=!1,this.priority=o.priority||0,this.bind=o.bind||null,this.invokeLimit=o.invokeLimit}return e.prototype._matchingNodes=function(t,e,r){if(!0===e)return t;var n=t.filter(function(t){return Ye(t.state,e,r)});return n.length?n:null},e.prototype._getDefaultMatchCriteria=function(){return pt(this.tranSvc._pluginapi._getPathTypes(),function(){return!0})},e.prototype._getMatchingNodes=function(e,r){var n=this,i=z(this._getDefaultMatchCriteria(),this.matchCriteria);return dt(this.tranSvc._pluginapi._getPathTypes()).reduce(function(o,a){var u=a.scope===t.TransitionHookScope.STATE,s=e[a.name]||[],c=u?s:[Ot(s)];return o[a.name]=n._matchingNodes(c,i[a.name],r),o},{})},e.prototype.matches=function(t,e){var r=this._getMatchingNodes(t,e);return dt(r).every(J)?r:null},e.prototype.deregister=function(){this.removeHookFromRegistry(this),this._deregistered=!0},e}(),tr=function(){function e(t){this.transition=t}return e.prototype.buildHooksForPhase=function(t){var e=this;return this.transition.router.transitionService._pluginapi._getEvents(t).map(function(t){return e.buildHooks(t)}).reduce(gt,[]).filter(J)},e.prototype.buildHooks=function(e){var r=this.transition,n=r.treeChanges(),i=this.getMatchingHooks(e,n,r);if(!i)return[];var o={transition:r,current:r.options().current};return i.map(function(i){return i.matches(n,r)[e.criteriaMatchPath.name].map(function(n){var a=z({bind:i.bind,traceData:{hookType:e.name,context:n}},o),u=e.criteriaMatchPath.scope===t.TransitionHookScope.STATE?n.state.self:null,s=new Ke(r,u,i,a);return{hook:i,node:n,transitionHook:s}})}).reduce(gt,[]).sort(function(t){return void 0===t&&(t=!1),function(e,r){var n=t?-1:1,i=(e.node.state.path.length-r.node.state.path.length)*n;return 0!==i?i:r.hook.priority-e.hook.priority}}(e.reverseSort)).map(function(t){return t.transitionHook})},e.prototype.getMatchingHooks=function(e,r,n){var i=e.hookPhase===t.TransitionHookPhase.CREATE,o=this.transition.router.transitionService;return(i?[o]:[this.transition,o]).map(function(t){return t.getHooks(e.name)}).filter(Rt(V,"broken event named: "+e.name)).reduce(gt,[]).filter(function(t){return t.matches(r,n)})},e}(),er=f("self"),rr=function(){function e(e,r,n){var i=this;if(this._deferred=U.$q.defer(),this.promise=this._deferred.promise,this._registeredHooks={},this._hookBuilder=new tr(this),this.isActive=function(){return i.router.globals.transition===i},this.router=n,this._targetState=r,!r.valid())throw new Error(r.error());this._options=z({current:_(this)},r.options()),this.$id=n.transitionService._transitionCount++;var o=Ee.buildToPath(e,r);this._treeChanges=Ee.treeChanges(e,o,this._options.reloadState),this.createTransitionHookRegFns();var a=this._hookBuilder.buildHooksForPhase(t.TransitionHookPhase.CREATE);Ke.invokeHooks(a,function(){return null}),this.applyViewConfigs(n)}return e.prototype.onBefore=function(t,e,r){},e.prototype.onStart=function(t,e,r){},e.prototype.onExit=function(t,e,r){},e.prototype.onRetain=function(t,e,r){},e.prototype.onEnter=function(t,e,r){},e.prototype.onFinish=function(t,e,r){},e.prototype.onSuccess=function(t,e,r){},e.prototype.onError=function(t,e,r){},
e.prototype.createTransitionHookRegFns=function(){var e=this;this.router.transitionService._pluginapi._getEvents().filter(function(e){return e.hookPhase!==t.TransitionHookPhase.CREATE}).forEach(function(t){return Xe(e,e.router.transitionService,t)})},e.prototype.getHooks=function(t){return this._registeredHooks[t]},e.prototype.applyViewConfigs=function(t){var e=this._treeChanges.entering.map(function(t){return t.state});Ee.applyViewConfigs(t.transitionService.$view,this._treeChanges.to,e)},e.prototype.$from=function(){return Ot(this._treeChanges.from).state},e.prototype.$to=function(){return Ot(this._treeChanges.to).state},e.prototype.from=function(){return this.$from().self},e.prototype.to=function(){return this.$to().self},e.prototype.targetState=function(){return this._targetState},e.prototype.is=function(t){return t instanceof e?this.is({to:t.$to().name,from:t.$from().name}):!(t.to&&!Ye(this.$to(),t.to,this)||t.from&&!Ye(this.$from(),t.from,this))},e.prototype.params=function(t){return void 0===t&&(t="to"),Object.freeze(this._treeChanges[t].map(f("paramValues")).reduce(at,{}))},e.prototype.paramsChanged=function(){var t=this.params("from"),e=this.params("to"),r=[].concat(this._treeChanges.to).concat(this._treeChanges.from).map(function(t){return t.paramSchema}).reduce(wt,[]).reduce(St,[]);return _e.changed(r,t,e).reduce(function(t,r){return t[r.id]=e[r.id],t},{})},e.prototype.injector=function(t,e){void 0===e&&(e="to");var r=this._treeChanges[e];return t&&(r=Ee.subPath(r,function(e){return e.state===t||e.state.name===t})),new je(r).injector()},e.prototype.getResolveTokens=function(t){return void 0===t&&(t="to"),new je(this._treeChanges[t]).getTokens()},e.prototype.addResolvable=function(t,e){void 0===e&&(e=""),t=g(Pe)(t)?t:new Pe(t);var r="string"==typeof e?e:e.name,n=this._treeChanges.to,i=ht(n,function(t){return t.state.name===r});new je(n).addResolvables([t],i.state)},e.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null},e.prototype.originalTransition=function(){var t=this.redirectedFrom();return t&&t.originalTransition()||this},e.prototype.options=function(){return this._options},e.prototype.entering=function(){return vt(this._treeChanges.entering,f("state")).map(er)},e.prototype.exiting=function(){return vt(this._treeChanges.exiting,f("state")).map(er).reverse()},e.prototype.retained=function(){return vt(this._treeChanges.retained,f("state")).map(er)},e.prototype.views=function(t,e){void 0===t&&(t="entering");var r=this._treeChanges[t];return(r=e?r.filter(l("state",e)):r).map(f("views")).filter(J).reduce(gt,[])},e.prototype.treeChanges=function(t){return t?this._treeChanges[t]:this._treeChanges},e.prototype.redirect=function(t){for(var e=1,r=this;null!=(r=r.redirectedFrom());)if(++e>20)throw new Error("Too many consecutive Transition redirects (20+)");var n={redirectedFrom:this,source:"redirect"};"url"===this.options().source&&!1!==t.options().location&&(n.location="replace");var i=z({},this.options(),t.options(),n);t=t.withOptions(i,!0);var o,a=this.router.transitionService.create(this._treeChanges.from,t),u=this._treeChanges.entering,s=a._treeChanges.entering;return Ee.matching(s,u,Ee.nonDynamicParams).filter(p((o=t.options().reloadState,function(t){return o&&t.state.includes[o.name]}))).forEach(function(t,e){t.resolvables=u[e].resolvables}),a},e.prototype._changedParams=function(){var t=this._treeChanges;if(!(this._options.reload||t.exiting.length||t.entering.length||t.to.length!==t.from.length||Pt(t.to,t.from).map(function(t){return t[0].state!==t[1].state}).reduce(yt,!1))){var e=t.to.map(function(t){return t.paramSchema}),r=[t.to,t.from].map(function(t){return t.map(function(t){return t.paramValues})});return Pt(e,r[0],r[1]).map(function(t){var e=t[0],r=t[1],n=t[2];return _e.changed(e,r,n)}).reduce(gt,[])}},e.prototype.dynamic=function(){var t=this._changedParams();return!!t&&t.map(function(t){return t.dynamic}).reduce(yt,!1)},e.prototype.ignored=function(){return!!this._ignoredReason()},e.prototype._ignoredReason=function(){var t=this.router.globals.transition,e=this._options.reloadState,r=function(t,r){if(t.length!==r.length)return!1;var n=Ee.matching(t,r);return t.length===n.filter(function(t){return!e||!t.state.includes[e.name]}).length},n=this.treeChanges(),i=t&&t.treeChanges();return i&&r(i.to,n.to)&&r(i.exiting,n.exiting)?"SameAsPending":0===n.exiting.length&&0===n.entering.length&&r(n.from,n.to)?"SameAsCurrent":void 0},e.prototype.run=function(){var e=this,r=Ke.runAllHooks,n=function(t){return e._hookBuilder.buildHooksForPhase(t)},i=n(t.TransitionHookPhase.BEFORE);return Ke.invokeHooks(i,function(){var t=e.router.globals;return t.lastStartedTransitionId=e.$id,t.transition=e,t.transitionHistory.enqueue(e),pe.traceTransitionStart(e),U.$q.when(void 0)}).then(function(){var e=n(t.TransitionHookPhase.RUN);return Ke.invokeHooks(e,function(){return U.$q.when(void 0)})}).then(function(){pe.traceSuccess(e.$to(),e),e.success=!0,e._deferred.resolve(e.to()),r(n(t.TransitionHookPhase.SUCCESS))},function(i){pe.traceError(i,e),e.success=!1,e._deferred.reject(i),e._error=i,r(n(t.TransitionHookPhase.ERROR))}),this.promise},e.prototype.valid=function(){return!this.error()||void 0!==this.success},e.prototype.abort=function(){E(this.success)&&(this._aborted=!0)},e.prototype.error=function(){var t=this.$to();if(t.self["abstract"])return Nt.invalid("Cannot transition to abstract state '"+t.name+"'");var e=t.parameters(),r=this.params(),n=e.filter(function(t){return!t.validates(r[t.id])});if(n.length){var i=n.map(function(t){return"["+t.id+":"+Jt(r[t.id])+"]"}).join(", "),o="The following parameter values are not valid for state '"+t.name+"': "+i;return Nt.invalid(o)}return!1===this.success?this._error:void 0},e.prototype.toString=function(){var t=this.from(),e=this.to(),r=function(t){return null!==t["#"]&&void 0!==t["#"]?t:ct(t,["#"])};return"Transition#"+this.$id+"( '"+(j(t)?t.name:t)+"'"+Jt(r(this._treeChanges.from.map(f("paramValues")).reduce(at,{})))+" -> "+(this.valid()?"":"(X) ")+"'"+(j(e)?e.name:e)+"'"+Jt(r(this.params()))+" )"},e.diToken=e,e}(),ir=re("/"),or={state:{params:{}},strict:!0,caseInsensitive:!0,decodeParams:!0},ar=function(){function e(t,r,n,i){var o=this;this._cache={path:[this]},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.config=i=ot(i,or),this.pattern=t;for(var a,u,s,c=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,h=[],p=0,v=function(r){if(!e.nameValidator.test(r))throw new Error("Invalid parameter name '"+r+"' in pattern '"+t+"'");if(ht(o._params,l("id",r)))throw new Error("Duplicate parameter name '"+r+"' in pattern '"+t+"'")},d=function(e,n){var i,a=e[2]||e[3],u=n?e[4]:e[4]||("*"===e[1]?"[\\s\\S]*":null);return{id:a,regexp:u,segment:t.substring(p,e.index),type:u?r.type(u)||(i=u,Y(r.type(n?"query":"path"),{pattern:new RegExp(i,o.config.caseInsensitive?"i":void 0)})):null}};(a=c.exec(t))&&!((u=d(a,!1)).segment.indexOf("?")>=0);)v(u.id),this._params.push(n.fromPath(u.id,u.type,i.state)),this._segments.push(u.segment),h.push([u.segment,Ot(this._params)]),p=c.lastIndex;var m=(s=t.substring(p)).indexOf("?");if(m>=0){var y=s.substring(m);if(s=s.substring(0,m),y.length>0)for(p=0;a=f.exec(y);)v((u=d(a,!0)).id),this._params.push(n.fromSearch(u.id,u.type,i.state)),p=c.lastIndex}this._segments.push(s),this._compiled=h.map(function(t){return nr.apply(null,t)}).concat(nr(s))}return e.encodeDashes=function(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})},e.pathSegmentsAndParams=function(e){return Pt(e._segments,e._params.filter(function(e){return e.location===t.DefType.PATH}).concat(void 0)).reduce(gt,[]).filter(function(t){return""!==t&&C(t)})},e.queryParams=function(e){return e._params.filter(function(e){return e.location===t.DefType.SEARCH})},e.compare=function(t,r){var n=function(t){return t._cache.weights=t._cache.weights||function(t){return t._cache.segments=t._cache.segments||t._cache.path.map(e.pathSegmentsAndParams).reduce(gt,[]).reduce(ne,[]).map(function(t){return x(t)?ir(t):t}).reduce(gt,[])}(t).map(function(t){return"/"===t?1:x(t)?2:t instanceof _e?3:void 0})},i=n(t),o=n(r);!function(t,e,r){for(var n=Math.max(t.length,e.length);t.length<n;)t.push(r);for(;e.length<n;)e.push(r)}(i,o,0);var a,u,s=Pt(i,o);for(u=0;u<s.length;u++)if(0!==(a=s[u][0]-s[u][1]))return a;return 0},e.prototype.append=function(t){return this._children.push(t),t._cache={path:this._cache.path.concat(t),parent:this,pattern:null},t},e.prototype.isRoot=function(){return this._cache.path[0]===this},e.prototype.toString=function(){return this.pattern},e.prototype._getDecodedParamValue=function(t,e){return C(t)&&(this.config.decodeParams&&!e.type.raw&&(t=V(t)?t.map(function(t){return decodeURIComponent(t)}):decodeURIComponent(t)),t=e.type.decode(t)),e.value(t)},e.prototype.exec=function(t,e,r,n){var i=this;void 0===e&&(e={});var o,a,u,s=(o=this._cache,a="pattern",u=function(){return new RegExp(["^",bt(i._cache.path.map(f("_compiled"))).join(""),!1===i.config.strict?"/?":"","$"].join(""),i.config.caseInsensitive?"i":void 0)},o[a]=o[a]||u()).exec(t);if(!s)return null;var c,l,h=this.parameters(),p=h.filter(function(t){return!t.isSearch()}),v=h.filter(function(t){return t.isSearch()}),d=this._cache.path.map(function(t){return t._segments.length-1}).reduce(function(t,e){return t+e}),m={};if(d!==s.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");for(var y=0;d>y;y++){for(var g=p[y],w=s[y+1],_=0;_<g.replace.length;_++)g.replace[_].from===w&&(w=g.replace[_].to);w&&!0===g.array&&(c=void 0,l=void 0,l=vt((c=function(t){return t.split("").reverse().join("")})(w).split(/-(?!\\)/),c),w=vt(l,function(t){return t.replace(/\\-/g,"-")}).reverse()),m[g.id]=this._getDecodedParamValue(w,g)}return v.forEach(function(t){for(var r=e[t.id],n=0;n<t.replace.length;n++)t.replace[n].from===r&&(r=t.replace[n].to);m[t.id]=i._getDecodedParamValue(r,t)}),r&&(m["#"]=r),m},e.prototype.parameters=function(t){return void 0===t&&(t={}),!1===t.inherit?this._params:bt(this._cache.path.map(function(t){return t._params}))},e.prototype.parameter=function(t,e){var r=this;void 0===e&&(e={});var n=this._cache.parent;return function(){for(var e=0,n=r._params;e<n.length;e++){var i=n[e];if(i.id===t)return i}}()||!1!==e.inherit&&n&&n.parameter(t,e)||null},e.prototype.validates=function(t){return t=t||{},this.parameters().filter(function(e){return t.hasOwnProperty(e.id)}).map(function(e){return function(t,e){return!t||t.validates(e)}(e,t[e.id])}).reduce(mt,!0)},e.prototype.format=function(t){function o(e){var r=e.value(t[e.id]),n=e.validates(r),i=e.isDefaultValue(r),o=!!i&&e.squash,a=e.type.encode(r);return{param:e,value:r,isValid:n,isDefaultValue:i,squash:o,encoded:a}}void 0===t&&(t={});var r=this._cache.path,n=r.map(e.pathSegmentsAndParams).reduce(gt,[]).map(function(t){return x(t)?t:o(t)}),i=r.map(e.queryParams).reduce(gt,[]).map(o);if(n.concat(i).filter(function(t){return!1===t.isValid}).length)return null;var a=n.reduce(function(t,r){if(x(r))return t+r;var n=r.squash,i=r.encoded,o=r.param;return!0===n?t.match(/\/$/)?t.slice(0,-1):t:x(n)?t+n:!1!==n||null==i?t:V(i)?t+vt(i,e.encodeDashes).join("-"):o.raw?t+i:t+encodeURIComponent(i)},""),u=i.map(function(t){var e=t.param,r=t.squash,n=t.encoded,i=t.isDefaultValue;return null==n||i&&!1!==r||(V(n)||(n=[n]),0===n.length)?void 0:(e.raw||(n=vt(n,encodeURIComponent)),n.map(function(t){return e.id+"="+t}))}).filter(J).reduce(gt,[]).join("&");return a+(u?"?"+u:"")+(t["#"]?"#"+t["#"]:"")},e.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/,e}(),ur=function(){return(ur=Object.assign||function(t){for(var e,r=1,n=arguments.length;n>r;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},sr=function(){function e(t){this.router=t}return e.prototype.fromConfig=function(e,r,n){return new _e(e,r,t.DefType.CONFIG,this.router.urlService.config,n)},e.prototype.fromPath=function(e,r,n){return new _e(e,r,t.DefType.PATH,this.router.urlService.config,n)},e.prototype.fromSearch=function(e,r,n){return new _e(e,r,t.DefType.SEARCH,this.router.urlService.config,n)},e}(),cr=function(){function t(t){var e=this;this.router=t,this.paramFactory=new sr(this.router),this.UrlMatcher=ar,this.Param=_e,this.caseInsensitive=function(t){return e.router.urlService.config.caseInsensitive(t)},this.defaultSquashPolicy=function(t){return e.router.urlService.config.defaultSquashPolicy(t)},this.strictMode=function(t){return e.router.urlService.config.strictMode(t)},this.type=function(t,r,n){return e.router.urlService.config.type(t,r,n)||e}}return t.prototype.compile=function(t,e){var r=this.router.urlService.config,n=e&&!e.state&&e.params;e=n?ur({state:{params:n}},e):e;var i={strict:r._isStrictMode,caseInsensitive:r._isCaseInsensitive,decodeParams:r._decodeParams};return new ar(t,r.paramTypes,this.paramFactory,z(i,e))},t.prototype.isMatcher=function(t){if(!j(t))return!1;var e=!0;return G(ar.prototype,function(r,n){k(r)&&(e=e&&C(t[n])&&k(t[n]))}),e},t.prototype.$get=function(){var t=this.router.urlService.config;return t.paramTypes.enqueue=!1,t.paramTypes._flushTypeQueue(),this},t}(),fr=function(){function t(t){this.router=t}return t.prototype.compile=function(t){return this.router.urlMatcherFactory.compile(t)},t.prototype.create=function(t,e){var r=this,n=Ge.isState,i=Ge.isStateDeclaration,o=b([[x,function(t){return o(r.compile(t))}],[g(ar),function(t){return r.fromUrlMatcher(t,e)}],[d(n,i),function(t){return r.fromState(t,r.router)}],[g(RegExp),function(t){return r.fromRegExp(t,e)}],[k,function(t){return new lr(t,e)}]]),a=o(t);if(!a)throw new Error("invalid 'what' in when()");return a},t.prototype.fromUrlMatcher=function(t,e){var r=e;x(e)&&(e=this.router.urlMatcherFactory.compile(e)),g(ar)(e)&&(r=function(t){return e.format(t)});var n={urlMatcher:t,matchPriority:function(e){var r=t.parameters().filter(function(t){return t.isOptional});return r.length?r.filter(function(t){return e[t.id]}).length/r.length:1e-6},type:"URLMATCHER"};return z(new lr(function(e){var r=t.exec(e.path,e.search,e.hash);return t.validates(r)&&r},r),n)},t.prototype.fromState=function(t,e){var r=Ge.isStateDeclaration(t)?t.$$state():t,n={state:r,type:"STATE"};return z(this.fromUrlMatcher(r.url,function(t){var n=e.stateService,i=e.globals;n.href(r,t)!==n.href(i.current,i.params)&&n.transitionTo(r,t,{inherit:!0,source:"url"})}),n)},t.prototype.fromRegExp=function(t,e){if(t.global||t.sticky)throw new Error("Rule RegExp must not be global or sticky");var r=x(e)?function(t){return e.replace(/\$(\$|\d{1,2})/,function(e,r){return t["$"===r?0:Number(r)]})}:e,n={regexp:t,type:"REGEXP"};return z(new lr(function(e){return t.exec(e.path)},r),n)},t.isUrlRule=function(t){return t&&["type","match","handler"].every(function(e){return C(t[e])})},t}(),lr=function(t,e){var r=this;this.match=t,this.type="RAW",this.matchPriority=function(t){return 0-r.$id},this.handler=e||J},pr=function(){function t(t){var e=this;this.router=t,this.sync=function(t){return e.router.urlService.sync(t)},this.listen=function(t){return e.router.urlService.listen(t)},this.deferIntercept=function(t){return e.router.urlService.deferIntercept(t)},this.match=function(t){return e.router.urlService.match(t)},this.initial=function(t){return e.router.urlService.rules.initial(t)},this.otherwise=function(t){return e.router.urlService.rules.otherwise(t)},this.removeRule=function(t){return e.router.urlService.rules.removeRule(t)},this.rule=function(t){return e.router.urlService.rules.rule(t)},this.rules=function(){return e.router.urlService.rules.rules()},this.sort=function(t){return e.router.urlService.rules.sort(t)},this.when=function(t,r,n){return e.router.urlService.rules.when(t,r,n)},this.urlRuleFactory=new fr(t)}return t.prototype.update=function(t){var e=this.router.locationService;t?this.location=e.url():e.url()!==this.location&&e.url(this.location,!0)},t.prototype.push=function(t,e,r){var n=r&&!!r.replace;this.router.urlService.url(t.format(e||{}),n)},t.prototype.href=function(t,e,r){var n=t.format(e);if(null==n)return null;r=r||{absolute:!1};var i=this.router.urlService.config,o=i.html5Mode();if(o||null===n||(n="#"+i.hashPrefix()+n),n=function(t,e,r,n){return"/"===n?t:e?Yt(n)+t:r?n.slice(1)+t:t}(n,o,r.absolute,i.baseHref()),!r.absolute||!n)return n;var a=!o&&n?"/":"",u=i.port(),s=80===u||443===u?"":":"+u;return[i.protocol(),"://",i.host(),s,a,n].join("")},Object.defineProperty(t.prototype,"interceptDeferred",{get:function(){return this.router.urlService.interceptDeferred},enumerable:!1,configurable:!0}),t}(),vr=function(){function t(t){var e=this;this.router=t,this._uiViews=[],this._viewConfigs=[],this._viewConfigFactories={},this._listeners=[],this._pluginapi={_rootViewContext:this._rootViewContext.bind(this),_viewConfigFactory:this._viewConfigFactory.bind(this),_registeredUIView:function(t){return ht(e._uiViews,function(r){return e.router.$id+"."+r.id===t})},_registeredUIViews:function(){return e._uiViews},_activeViewConfigs:function(){return e._viewConfigs},_onSync:function(t){return e._listeners.push(t),function(){return tt(e._listeners,t)}}}}return t.normalizeUIViewTarget=function(t,e){void 0===e&&(e="");var r=e.split("@"),n=r[0]||"$default",i=x(r[1])?r[1]:"^",o=/^(\^(?:\.\^)*)\.(.*$)/.exec(n);if(o&&(i=o[1],n=o[2]),"!"===n.charAt(0)&&(n=n.substr(1),i=""),/^(\^(?:\.\^)*)$/.exec(i)){var a=i.split(".").reduce(function(t,e){return t.parent},t);i=a.name}else"."===i&&(i=t.name);return{uiViewName:n,uiViewContextAnchor:i}},t.prototype._rootViewContext=function(t){return this._rootContext=t||this._rootContext},t.prototype._viewConfigFactory=function(t,e){this._viewConfigFactories[t]=e},t.prototype.createViewConfig=function(t,e){var r=this._viewConfigFactories[e.$type];if(!r)throw new Error("ViewService: No view config factory registered for type "+e.$type);var n=r(t,e);return V(n)?n:[n]},t.prototype.deactivateViewConfig=function(t){pe.traceViewServiceEvent("<- Removing",t),tt(this._viewConfigs,t)},t.prototype.activateViewConfig=function(t){pe.traceViewServiceEvent("-> Registering",t),this._viewConfigs.push(t)},t.prototype.sync=function(){function n(t){for(var e=t.viewDecl.$context,r=0;++r&&e.parent;)e=e.parent;return r}var e=this,r=this._uiViews.map(function(t){return[t.fqn,t]}).reduce(kt,{}),i=u(function(t,e,r,n){return e*(t(r)-t(n))}),o=this._uiViews.sort(i(function(t){var e=function(t){return t&&t.parent?e(t.parent)+1:1};return 1e4*t.fqn.split(".").length+e(t.creationContext)},1)).map(function(o){var a=e._viewConfigs.filter(t.matches(r,o));return a.length>1&&a.sort(i(n,-1)),{uiView:o,viewConfig:a[0]}}),a=o.map(function(t){return t.viewConfig}),s=this._viewConfigs.filter(function(t){return!Z(a,t)}).map(function(t){return{uiView:void 0,viewConfig:t}});o.forEach(function(t){-1!==e._uiViews.indexOf(t.uiView)&&t.uiView.configUpdated(t.viewConfig)});var c=o.concat(s);this._listeners.forEach(function(t){return t(c)}),pe.traceViewSync(c)},t.prototype.registerUIView=function(t){pe.traceViewServiceUIViewEvent("-> Registering",t);var e=this._uiViews;return e.filter(function(e){return e.fqn===t.fqn&&e.$type===t.$type}).length&&pe.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",t),e.push(t),this.sync(),function(){-1!==e.indexOf(t)?(pe.traceViewServiceUIViewEvent("<- Deregistering",t),tt(e)(t)):pe.traceViewServiceUIViewEvent("Tried removing non-registered uiView",t)}},t.prototype.available=function(){return this._uiViews.map(f("fqn"))},t.prototype.active=function(){return this._uiViews.filter(f("$config")).map(f("name"))},t.matches=function(t,e){return function(r){if(e.$type!==r.viewDecl.$type)return!1;var n=r.viewDecl,i=n.$uiViewName.split("."),o=e.fqn.split(".");if(!W(i,o.slice(0-i.length)))return!1;var a=1-i.length||void 0,u=o.slice(0,a).join("."),s=t[u].creationContext;return n.$uiViewContextAnchor===(s&&s.name)}},t}(),dr=function(){function t(){this.params=new be,this.lastStartedTransitionId=-1,this.transitionHistory=new qt([],1),this.successfulTransitions=new qt([],1)}return t.prototype.dispose=function(){this.transitionHistory.clear(),this.successfulTransitions.clear(),this.transition=null},t}();hr=function(t,e){var r=function(t,e){return(e.priority||0)-(t.priority||0)}(t,e);return 0!==r||0!==(r=function(t,e){var r={STATE:4,URLMATCHER:4,REGEXP:3,RAW:2,OTHER:1};return(r[t.type]||0)-(r[e.type]||0)}(t,e))||0!==(r=function(t,e){return t.urlMatcher&&e.urlMatcher?ar.compare(t.urlMatcher,e.urlMatcher):0}(t,e))?r:function(t,e){var r={STATE:!0,URLMATCHER:!0};return r[t.type]&&r[e.type]?0:(t.$id||0)-(e.$id||0)}(t,e)};var nn,yr=function(){function t(t){this.router=t,this._sortFn=hr,this._rules=[],this._id=0,this.urlRuleFactory=new fr(t)}return t.prototype.dispose=function(t){this._rules=[],delete this._otherwiseFn},t.prototype.initial=function(t){var e=mr(t);this.rule(this.urlRuleFactory.create(function(t,e){return 0===e.globals.transitionHistory.size()&&!!/^\/?$/.exec(t.path)},e))},t.prototype.otherwise=function(t){var e=mr(t);this._otherwiseFn=this.urlRuleFactory.create(_(!0),e),this._sorted=!1},t.prototype.removeRule=function(t){tt(this._rules,t)},t.prototype.rule=function(t){var e=this;if(!fr.isUrlRule(t))throw new Error("invalid rule");return t.$id=this._id++,t.priority=t.priority||0,this._rules.push(t),this._sorted=!1,function(){return e.removeRule(t)}},t.prototype.rules=function(){return this.ensureSorted(),this._rules.concat(this._otherwiseFn?[this._otherwiseFn]:[])},t.prototype.sort=function(t){for(var e=this.stableSort(this._rules,this._sortFn=t||this._sortFn),r=0,n=0;n<e.length;n++)e[n]._group=r,n<e.length-1&&0!==this._sortFn(e[n],e[n+1])&&r++;this._rules=e,this._sorted=!0},t.prototype.ensureSorted=function(){this._sorted||this.sort()},t.prototype.stableSort=function(t,e){var r=t.map(function(t,e){return{elem:t,idx:e}});return r.sort(function(t,r){var n=e(t.elem,r.elem);return 0===n?t.idx-r.idx:n}),r.map(function(t){return t.elem})},t.prototype.when=function(t,e,r){var n=this.urlRuleFactory.create(t,e);return C(r&&r.priority)&&(n.priority=r.priority),this.rule(n),n},t}(),gr=function(){function t(t){var e=this;this.router=t,this.paramTypes=new Se,this._decodeParams=!0,this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1,this.dispose=function(){return e.paramTypes.dispose()},this.baseHref=function(){return e.router.locationConfig.baseHref()},this.hashPrefix=function(t){return e.router.locationConfig.hashPrefix(t)},this.host=function(){return e.router.locationConfig.host()},this.html5Mode=function(){return e.router.locationConfig.html5Mode()},this.port=function(){return e.router.locationConfig.port()},this.protocol=function(){return e.router.locationConfig.protocol()}}return t.prototype.caseInsensitive=function(t){return this._isCaseInsensitive=C(t)?t:this._isCaseInsensitive},t.prototype.defaultSquashPolicy=function(t){if(C(t)&&!0!==t&&!1!==t&&!x(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=C(t)?t:this._defaultSquashPolicy},t.prototype.strictMode=function(t){return this._isStrictMode=C(t)?t:this._isStrictMode},t.prototype.type=function(t,e,r){var n=this.paramTypes.type(t,e,r);return C(e)?this:n},t}(),wr=function(){function t(t){var e=this;this.router=t,this.interceptDeferred=!1,this.rules=new yr(this.router),this.config=new gr(this.router),this.url=function(t,r,n){return e.router.locationService.url(t,r,n)},this.path=function(){return e.router.locationService.path()},this.search=function(){return e.router.locationService.search()},this.hash=function(){return e.router.locationService.hash()},this.onChange=function(t){return e.router.locationService.onChange(t)}}return t.prototype.dispose=function(){this.listen(!1),this.rules.dispose()},t.prototype.parts=function(){return{path:this.path(),search:this.search(),hash:this.hash()}},t.prototype.sync=function(t){if(!t||!t.defaultPrevented){var e=this.router,r=e.urlService,n=e.stateService,i={path:r.path(),search:r.search(),hash:r.hash()},o=this.match(i);b([[x,function(t){return r.url(t,!0)}],[Re.isDef,function(t){return n.go(t.state,t.params,t.options)}],[g(Re),function(t){return n.go(t.state(),t.params(),t.options())}]])(o&&o.rule.handler(o.match,i,this.router))}},t.prototype.listen=function(t){var e=this;return!1!==t?this._stopListeningFn=this._stopListeningFn||this.router.urlService.onChange(function(t){return e.sync(t)}):(this._stopListeningFn&&this._stopListeningFn(),void delete this._stopListeningFn)},t.prototype.deferIntercept=function(t){void 0===t&&(t=!0),this.interceptDeferred=t},t.prototype.match=function(t){var e=this;t=z({path:"",search:{},hash:""},t);for(var r,n,i,o=this.rules.rules(),a=0;a<o.length&&(!r||r.rule._group===o[a]._group);a++){var u=(n=o[a],i=void 0,(i=n.match(t,e.router))&&{match:i,rule:n,weight:n.matchPriority(i)});r=!r||u&&u.weight>r.weight?u:r}return r},t}(),_r=0,Sr=q("LocationServices",["url","path","search","hash","onChange"]),br=q("LocationConfig",["port","protocol","host","baseHref","html5Mode","hashPrefix"]),$r=function(){function t(t,e){void 0===t&&(t=Sr),void 0===e&&(e=br),this.locationService=t,this.locationConfig=e,this.$id=_r++,this._disposed=!1,this._disposables=[],this.trace=pe,this.viewService=new vr(this),this.globals=new dr,this.transitionService=new Gr(this),this.urlMatcherFactory=new cr(this),this.urlRouter=new pr(this),this.urlService=new wr(this),this.stateRegistry=new Je(this),this.stateService=new zr(this),this._plugins={},this.viewService._pluginapi._rootViewContext(this.stateRegistry.root()),this.globals.$current=this.stateRegistry.root(),this.globals.current=this.globals.$current.self,this.disposable(this.globals),this.disposable(this.stateService),this.disposable(this.stateRegistry),this.disposable(this.transitionService),this.disposable(this.urlService),this.disposable(t),this.disposable(e)}return t.prototype.disposable=function(t){this._disposables.push(t)},t.prototype.dispose=function(t){var e=this;t&&k(t.dispose)?t.dispose(this):(this._disposed=!0,this._disposables.slice().forEach(function(t){try{"function"==typeof t.dispose&&t.dispose(e),tt(e._disposables,t)}catch(t){}}))},t.prototype.plugin=function(t,e){void 0===e&&(e={});var r=new t(this,e);if(!r.name)throw new Error("Required property `name` missing on plugin: "+r);return this._disposables.push(r),this._plugins[r.name]=r},t.prototype.getPlugin=function(t){return t?this._plugins[t]:dt(this._plugins)},t}(),Er=Z(["$transition$",rr]),Cr=function(t){var e=dt(t.treeChanges()).reduce(gt,[]).reduce(St,[]),r=function(t){return Er(t.token)?Pe.fromData(t.token,null):t};e.forEach(function(t){t.resolvables=t.resolvables.map(r)})},Tr=function(t){function n(e){return e?e instanceof Re?e:x(e)?r.target(e,t.params(),t.options()):e.state||e.params?r.target(e.state||t.to(),e.params||t.params(),t.options()):void 0:void 0}var e=t.to().redirectTo;if(e){var r=t.router.stateService;return k(e)?U.$q.when(e(t)).then(n):n(e)}},kr=Pr("onExit"),Or=Pr("onRetain"),xr=Pr("onEnter"),jr=function(t){return new je(t.treeChanges().to).resolvePath("EAGER",t).then(Q)},Vr=function(t,e){return new je(t.treeChanges().to).subContext(e.$$state()).resolvePath("LAZY",t).then(Q)},Ir=function(t){return new je(t.treeChanges().to).resolvePath("LAZY",t).then(Q)},Hr=function(t){var e=U.$q,r=t.views("entering");return r.length?e.all(r.map(function(t){return e.when(t.load())})).then(Q):void 0},Ar=function(t){var e=t.views("entering"),r=t.views("exiting");if(e.length||r.length){var n=t.router.viewService;r.forEach(function(t){return n.deactivateViewConfig(t)}),e.forEach(function(t){return n.activateViewConfig(t)}),n.sync()}},Dr=function(t){var e=t.router.globals,r=function(){e.transition===t&&(e.transition=null)};t.onSuccess({},function(){e.successfulTransitions.enqueue(t),e.$current=t.$to(),e.current=e.$current.self,xt(t.params(),e.params)},{priority:1e4}),t.promise.then(r,r)},qr=function(t){var e=t.options(),r=t.router.stateService,n=t.router.urlRouter;if("url"!==e.source&&e.location&&r.$current.navigable){var i={replace:"replace"===e.location};n.push(r.$current.navigable.url,r.params,i)}n.update(!0)},Ur=function(t){var e=t.router,r=t.entering().filter(function(t){return!!t.$$state().lazyLoad}).map(function(e){return Nr(t,e)});return U.$q.all(r).then(function(){if("url"!==t.originalTransition().options().source){var r=t.targetState();return e.stateService.target(r.identifier(),r.params(),r.options())}var n=e.urlService,i=n.match(n.parts()),o=i&&i.rule;if(o&&"STATE"===o.type){var a=o.state,u=i.match;return e.stateService.target(a,u,t.options())}e.urlService.sync()})},Fr=function(t,e,r,n,i,o,a,u){void 0===i&&(i=!1),void 0===o&&(o=Ke.HANDLE_RESULT),void 0===a&&(a=Ke.REJECT_ERROR),void 0===u&&(u=!1),this.name=t,this.hookPhase=e,this.hookOrder=r,this.criteriaMatchPath=n,this.reverseSort=i,this.getResultHandler=o,this.getErrorHandler=a,this.synchronous=u},Br={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,supercede:!0,custom:{},current:function(){return null},source:"unknown"},Gr=function(){function e(t){this._transitionCount=0,this._eventTypes=[],this._registeredHooks={},this._criteriaPaths={},this._router=t,this.$view=t.viewService,this._deregisterHookFns={},this._pluginapi=K(_(this),{},_(this),["_definePathType","_defineEvent","_getPathTypes","_getEvents","getHooks"]),this._defineCorePaths(),this._defineCoreEvents(),this._registerCoreTransitionHooks(),t.globals.successfulTransitions.onEvict(Cr)}return e.prototype.onCreate=function(t,e,r){},e.prototype.onBefore=function(t,e,r){},e.prototype.onStart=function(t,e,r){},e.prototype.onExit=function(t,e,r){},e.prototype.onRetain=function(t,e,r){},e.prototype.onEnter=function(t,e,r){},e.prototype.onFinish=function(t,e,r){},e.prototype.onSuccess=function(t,e,r){},e.prototype.onError=function(t,e,r){},e.prototype.dispose=function(t){dt(this._registeredHooks).forEach(function(t){return t.forEach(function(e){e._deregistered=!0,tt(t,e)})})},e.prototype.create=function(t,e){return new rr(t,e,this._router)},e.prototype._defineCoreEvents=function(){var e=t.TransitionHookPhase,r=Ke,n=this._criteriaPaths;this._defineEvent("onCreate",e.CREATE,0,n.to,!1,r.LOG_REJECTED_RESULT,r.THROW_ERROR,!0),this._defineEvent("onBefore",e.BEFORE,0,n.to),this._defineEvent("onStart",e.RUN,0,n.to),this._defineEvent("onExit",e.RUN,100,n.exiting,!0),this._defineEvent("onRetain",e.RUN,200,n.retained),this._defineEvent("onEnter",e.RUN,300,n.entering),this._defineEvent("onFinish",e.RUN,400,n.to),this._defineEvent("onSuccess",e.SUCCESS,0,n.to,!1,r.LOG_REJECTED_RESULT,r.LOG_ERROR,!0),this._defineEvent("onError",e.ERROR,0,n.to,!1,r.LOG_REJECTED_RESULT,r.LOG_ERROR,!0)},e.prototype._defineCorePaths=function(){var e=t.TransitionHookScope.STATE,r=t.TransitionHookScope.TRANSITION;this._definePathType("to",r),this._definePathType("from",r),this._definePathType("exiting",e),this._definePathType("retained",e),this._definePathType("entering",e)},e.prototype._defineEvent=function(t,e,r,n,i,o,a,u){void 0===i&&(i=!1),void 0===o&&(o=Ke.HANDLE_RESULT),void 0===a&&(a=Ke.REJECT_ERROR),void 0===u&&(u=!1);var s=new Fr(t,e,r,n,i,o,a,u);this._eventTypes.push(s),Xe(this,this,s)},e.prototype._getEvents=function(t){return(C(t)?this._eventTypes.filter(function(e){return e.hookPhase===t}):this._eventTypes.slice()).sort(function(t,e){var r=t.hookPhase-e.hookPhase;return 0===r?t.hookOrder-e.hookOrder:r})},e.prototype._definePathType=function(t,e){this._criteriaPaths[t]={name:t,scope:e}},e.prototype._getPathTypes=function(){return this._criteriaPaths},e.prototype.getHooks=function(t){return this._registeredHooks[t]},e.prototype._registerCoreTransitionHooks=function(){var t=this._deregisterHookFns;t.addCoreResolves=this.onCreate({},Rr),t.ignored=function(t){return t.onBefore({},Lr,{priority:-9999})}(this),t.invalid=function(t){return t.onBefore({},Mr,{priority:-1e4})}(this),t.redirectTo=function(t){return t.onStart({to:function(t){return!!t.redirectTo}},Tr)}(this),t.onExit=function(t){return t.onExit({exiting:function(t){return!!t.onExit}},kr)}(this),t.onRetain=function(t){return t.onRetain({retained:function(t){return!!t.onRetain}},Or)}(this),t.onEnter=function(t){return t.onEnter({entering:function(t){return!!t.onEnter}},xr)}(this),t.eagerResolve=function(t){return t.onStart({},jr,{priority:1e3})}(this),t.lazyResolve=function(t){return t.onEnter({entering:_(!0)},Vr,{priority:1e3})}(this),t.resolveAll=function(t){return t.onFinish({},Ir,{priority:1e3})}(this),t.loadViews=function(t){return t.onFinish({},Hr)}(this),t.activateViews=function(t){return t.onSuccess({},Ar)}(this),t.updateGlobals=function(t){return t.onCreate({},Dr)}(this),
t.updateUrl=function(t){return t.onSuccess({},qr,{priority:9999})}(this),t.lazyLoad=function(t){return t.onBefore({entering:function(t){return!!t.lazyLoad}},Ur)}(this)},e}(),zr=function(){function e(t){this.router=t,this.invalidCallbacks=[],this._defaultErrorHandler=function(t){t instanceof Error&&t.stack?void 0:t instanceof Nt?t.detail&&t.detail.stack&&void 0:void 0};var r=Object.keys(e.prototype).filter(p(Z(["current","$current","params","transition"])));K(_(e.prototype),this,_(this),r)}return Object.defineProperty(e.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"params",{get:function(){return this.router.globals.params},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.router.globals.current},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$current",{get:function(){return this.router.globals.$current},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this.defaultErrorHandler(Q),this.invalidCallbacks=[]},e.prototype._handleInvalidTargetState=function(t,e){var r=this,n=Ee.makeTargetState(this.router.stateRegistry,t),i=this.router.globals,o=function(){return i.transitionHistory.peekTail()},a=o(),u=new qt(this.invalidCallbacks.slice()),s=new je(t).injector(),c=function(t){if(t instanceof Re){var e=t;return(e=r.target(e.identifier(),e.params(),e.options())).valid()?o()!==a?Nt.superseded().toPromise():r.transitionTo(e.identifier(),e.params(),e.options()):Nt.invalid(e.error()).toPromise()}};return function t(){var r=u.dequeue();return void 0===r?Nt.invalid(e.error()).toPromise():U.$q.when(r(e,n,s)).then(c).then(function(e){return e||t()})}()},e.prototype.onInvalid=function(t){return this.invalidCallbacks.push(t),function(){tt(this.invalidCallbacks)(t)}.bind(this)},e.prototype.reload=function(t){return this.transitionTo(this.current,this.params,{reload:!C(t)||t,inherit:!1,notify:!1})},e.prototype.go=function(t,e,r){var n=ot(r,{relative:this.$current,inherit:!0},Br);return this.transitionTo(t,e,n)},e.prototype.target=function(t,e,r){if(void 0===r&&(r={}),j(r.reload)&&!r.reload.name)throw new Error("Invalid reload state object");var n=this.router.stateRegistry;if(r.reloadState=!0===r.reload?n.root():n.matcher.find(r.reload,r.relative),r.reload&&!r.reloadState)throw new Error("No such reload state '"+(x(r.reload)?r.reload:r.reload.name)+"'");return new Re(this.router.stateRegistry,t,e,r)},e.prototype.getCurrentPath=function(){var t=this,e=this.router.globals.successfulTransitions.peekTail();return e?e.treeChanges().to:[new $e(t.router.stateRegistry.root())]},e.prototype.transitionTo=function(e,r,n){var i=this;void 0===r&&(r={}),void 0===n&&(n={});var o=this.router,a=o.globals;n=ot(n,Br);var u=function(){return a.transition};n=z(n,{current:u});var s=this.target(e,r,n),c=this.getCurrentPath();if(!s.exists())return this._handleInvalidTargetState(c,s);if(!s.valid())return At(s.error());if(!1===n.supercede&&u())return Nt.ignored("Another transition is in progress and supercede has been set to false in TransitionOptions for the transition. So the transition was ignored in favour of the existing one in progress.").toPromise();var f=function(e){return function(r){if(r instanceof Nt){var n=o.globals.lastStartedTransitionId<=e.$id;if(r.type===t.RejectType.IGNORED)return n&&o.urlRouter.update(),U.$q.when(a.current);var u=r.detail;if(r.type===t.RejectType.SUPERSEDED&&r.redirected&&u instanceof Re){var s=e.redirect(u);return s.run()["catch"](f(s))}if(r.type===t.RejectType.ABORTED)return n&&o.urlRouter.update(),U.$q.reject(r)}return i.defaultErrorHandler()(r),U.$q.reject(r)}},l=this.router.transitionService.create(c,s),h=l.run()["catch"](f(l));return Ht(h),z(h,{transition:l})},e.prototype.is=function(t,e,r){r=ot(r,{relative:this.$current});var n=this.router.stateRegistry.matcher.find(t,r.relative);if(C(n)){if(this.$current!==n)return!1;if(!e)return!0;var i=n.parameters({inherit:!0,matchingKeys:e});return _e.equals(i,_e.values(i,e),this.params)}},e.prototype.includes=function(t,e,r){r=ot(r,{relative:this.$current});var n=x(t)&&Dt.fromString(t);if(n){if(!n.matches(this.$current.name))return!1;t=this.$current.name}var i=this.router.stateRegistry.matcher.find(t,r.relative),o=this.$current.includes;if(C(i)){if(!C(o[i.name]))return!1;if(!e)return!0;var a=i.parameters({inherit:!0,matchingKeys:e});return _e.equals(a,_e.values(a,e),this.params)}},e.prototype.href=function(t,e,r){r=ot(r,{lossy:!0,inherit:!0,absolute:!1,relative:this.$current}),e=e||{};var n=this.router.stateRegistry.matcher.find(t,r.relative);if(!C(n))return null;r.inherit&&(e=this.params.$inherit(e,this.$current,n));var i=n&&r.lossy?n.navigable:n;return i&&void 0!==i.url&&null!==i.url?this.router.urlRouter.href(i.url,e,{absolute:r.absolute}):null},e.prototype.defaultErrorHandler=function(t){return this._defaultErrorHandler=t||this._defaultErrorHandler},e.prototype.get=function(t,e){var r=this.router.stateRegistry;return 0===arguments.length?r.get():r.get(t,e||this.$current)},e.prototype.lazyLoad=function(t,e){var r=this.get(t);if(!r||!r.lazyLoad)throw new Error("Can not lazy load "+t);var n=this.getCurrentPath(),i=Ee.makeTargetState(this.router.stateRegistry,n);return Nr(e=e||this.router.transitionService.create(n,i),r)},e}(),Wr={when:function(t){return new Promise(function(e,r){return e(t)})},reject:function(t){return new Promise(function(e,r){r(t)})},defer:function(){var t={};return t.promise=new Promise(function(e,r){t.resolve=e,t.reject=r}),t},all:function(t){if(V(t))return Promise.all(t);if(j(t)){var e=Object.keys(t).map(function(e){return t[e].then(function(t){return{key:e,val:t}})});return Wr.all(e).then(function(t){return t.reduce(function(t,e){return t[e.key]=e.val,t},{})})}}},Jr={},Qr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Kr=/([^\s,]+)/g,Yr={get:function(t){return Jr[t]},has:function(t){return null!=Yr.get(t)},invoke:function(t,e,r){var n=z({},Jr,r||{}),i=Yr.annotate(t),o=Rt(function(t){return n.hasOwnProperty(t)},function(t){return"DI can't find injectable: '"+t+"'"}),a=i.filter(o).map(function(t){return n[t]});return k(t)?t.apply(e,a):t.slice(-1)[0].apply(e,a)},annotate:function(t){if(!A(t))throw new Error("Not an injectable function: "+t);if(t&&t.$inject)return t.$inject;if(V(t))return t.slice(0,-1);var e=t.toString().replace(Qr,"");return e.slice(e.indexOf("(")+1,e.indexOf(")")).match(Kr)||[]}},Zr=function(t,e){var r=e[0],n=e[1];return t.hasOwnProperty(r)?V(t[r])?t[r].push(n):t[r]=[t[r],n]:t[r]=n,t},Xr=function(t){return t.split("&").filter(J).map(te).reduce(Zr,{})},en=function(t){var e=t.path(),r=t.search(),n=t.hash(),i=Object.keys(r).map(function(t){var e=r[t];return(V(e)?e:[e]).map(function(e){return t+"="+e})}).reduce(gt,[]).join("&");return e+(i?"?"+i:"")+(n?"#"+n:"")},on=function(){function t(t,e){var r=this;this.fireAfterUpdate=e,this._listeners=[],this._listener=function(t){return r._listeners.forEach(function(e){return e(t)})},this.hash=function(){return tn(r._get()).hash},this.path=function(){return tn(r._get()).path},this.search=function(){return Xr(tn(r._get()).search)},this._location=F.location,this._history=F.history}return t.prototype.url=function(t,e){return void 0===e&&(e=!0),C(t)&&t!==this._get()&&(this._set(null,null,t,e),this.fireAfterUpdate&&this._listeners.forEach(function(e){return e({url:t})})),en(this)},t.prototype.onChange=function(t){var e=this;return this._listeners.push(t),function(){return tt(e._listeners,t)}},t.prototype.dispose=function(t){it(this._listeners)},t}(),an=(nn=function(t,e){return(nn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}nn(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),un=function(t){function e(e){var r=t.call(this,e,!1)||this;return F.addEventListener("hashchange",r._listener,!1),r}return an(e,t),e.prototype._get=function(){return ee(this._location.hash)},e.prototype._set=function(t,e,r,n){this._location.hash=r},e.prototype.dispose=function(e){t.prototype.dispose.call(this,e),F.removeEventListener("hashchange",this._listener)},e}(on),sn=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),cn=function(t){function e(e){return t.call(this,e,!0)||this}return sn(e,t),e.prototype._get=function(){return this._url},e.prototype._set=function(t,e,r,n){this._url=r},e}(on),fn=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ln=function(t){function e(e){var r=t.call(this,e,!0)||this;return r._config=e.urlService.config,F.addEventListener("popstate",r._listener,!1),r}return fn(e,t),e.prototype._getBasePrefix=function(){return Yt(this._config.baseHref())},e.prototype._get=function(){var t=this._location,e=t.pathname,r=t.hash,n=t.search;n=Xt(n)[1],r=Zt(r)[1];var i=this._getBasePrefix(),o=e===this._config.baseHref(),a=e.substr(0,i.length)===i;return(e=o?"/":a?e.substring(i.length):e)+(n?"?"+n:"")+(r?"#"+r:"")},e.prototype._set=function(t,e,r,n){var i=this._getBasePrefix(),o=r&&"/"!==r[0]?"/":"",a=""===r||"/"===r?this._config.baseHref():i+o+r;n?this._history.replaceState(t,e,a):this._history.pushState(t,e,a)},e.prototype.dispose=function(e){t.prototype.dispose.call(this,e),F.removeEventListener("popstate",this._listener)},e}(on),hn=function(){var t=this;this.dispose=Q,this._baseHref="",this._port=80,this._protocol="http",this._host="localhost",this._hashPrefix="",this.port=function(){return t._port},this.protocol=function(){return t._protocol},this.host=function(){return t._host},this.baseHref=function(){return t._baseHref},this.html5Mode=function(){return!1},this.hashPrefix=function(e){return C(e)?t._hashPrefix=e:t._hashPrefix}},pn=function(){function t(t,e){void 0===e&&(e=!1),this._isHtml5=e,this._baseHref=void 0,this._hashPrefix=""}return t.prototype.port=function(){return location.port?Number(location.port):"https"===this.protocol()?443:80},t.prototype.protocol=function(){return location.protocol.replace(/:/g,"")},t.prototype.host=function(){return location.hostname},t.prototype.html5Mode=function(){return this._isHtml5},t.prototype.hashPrefix=function(t){return C(t)?this._hashPrefix=t:this._hashPrefix},t.prototype.baseHref=function(t){return C(t)&&(this._baseHref=t),E(this._baseHref)&&(this._baseHref=this.getBaseHref()),this._baseHref},t.prototype.getBaseHref=function(){var t=document.getElementsByTagName("base")[0];return t&&t.href?t.href.replace(/^([^/:]*:)?\/\/[^/]*/,""):this._isHtml5?"/":location.pathname||"/"},t.prototype.dispose=function(){},t}(),dn=rn("vanilla.hashBangLocation",!1,un,pn),mn=rn("vanilla.pushStateLocation",!0,ln,pn),yn=rn("vanilla.memoryLocation",!1,cn,hn),gn=function(){function t(){}return t.prototype.dispose=function(t){},t}(),wn=Object.freeze({__proto__:null,root:F,fromJson:M,toJson:B,forEach:G,extend:z,equals:W,identity:J,noop:Q,createProxyFunctions:K,inherit:Y,inArray:Z,_inArray:X,removeFrom:tt,_removeFrom:et,pushTo:rt,_pushTo:nt,deregAll:it,defaults:ot,mergeR:at,ancestors:ut,pick:st,omit:ct,pluck:ft,filter:lt,find:ht,mapObj:pt,map:vt,values:dt,allTrueR:mt,anyTrueR:yt,unnestR:gt,flattenR:wt,pushR:_t,uniqR:St,unnest:bt,flatten:$t,assertPredicate:Rt,assertMap:Et,assertFn:Ct,pairs:Tt,arrayTuples:Pt,applyPairs:kt,tail:Ot,copy:xt,_extend:jt,silenceUncaughtInPromise:Ht,silentRejection:At,makeStub:q,services:U,Glob:Dt,curry:u,compose:s,pipe:c,prop:f,propEq:l,parse:h,not:p,and:v,or:d,all:m,any:y,is:g,eq:w,val:_,invoke:S,pattern:b,isUndefined:E,isDefined:C,isNull:T,isNullOrUndefined:P,isFunction:k,isNumber:O,isString:x,isObject:j,isArray:V,isDate:I,isRegExp:H,isInjectable:A,isPromise:D,Queue:qt,maxLength:Ft,padString:Lt,kebobString:Mt,functionToString:Bt,fnToString:Gt,stringify:Jt,beforeAfterSubstr:Qt,hostRegex:Kt,stripLastPathElement:Yt,splitHash:Zt,splitQuery:Xt,splitEqual:te,trimHashVal:ee,splitOnDelim:re,joinNeighborsR:ne,get Category(){return t.Category},Trace:he,trace:pe,get DefType(){return t.DefType},Param:_e,ParamTypes:Se,StateParams:be,ParamType:ve,PathNode:$e,PathUtils:Ee,resolvePolicies:Ce,defaultResolvePolicy:Te,Resolvable:Pe,NATIVE_INJECTOR_TOKEN:"Native Injector",ResolveContext:je,resolvablesBuilder:Fe,StateBuilder:Be,StateObject:Ge,StateMatcher:ze,StateQueueManager:We,StateRegistry:Je,StateService:zr,TargetState:Re,get TransitionHookPhase(){return t.TransitionHookPhase},get TransitionHookScope(){return t.TransitionHookScope},HookBuilder:tr,matchState:Ye,RegisteredHook:Ze,makeEvent:Xe,get RejectType(){return t.RejectType},Rejection:Nt,Transition:rr,TransitionHook:Ke,TransitionEventType:Fr,defaultTransOpts:Br,TransitionService:Gr,UrlRules:yr,UrlConfig:gr,UrlMatcher:ar,ParamFactory:sr,UrlMatcherFactory:cr,UrlRouter:pr,UrlRuleFactory:fr,BaseUrlRule:lr,UrlService:wr,ViewService:vr,UIRouterGlobals:dr,UIRouter:$r,$q:Wr,$injector:Yr,BaseLocationServices:on,HashLocationService:un,MemoryLocationService:cn,PushStateLocationService:ln,MemoryLocationConfig:hn,BrowserLocationConfig:pn,keyValsToObjectR:Zr,getParams:Xr,parseUrl:tn,buildUrl:en,locationPluginFactory:rn,servicesPlugin:vn,hashLocationPlugin:dn,pushStateLocationPlugin:mn,memoryLocationPlugin:yn,UIRouterPluginBase:gn}),Sn=function(t,e){return t.reduce(function(t,r){return t||C(e[r])},!1)},$n=0,Rn=function(){function t(t,e,r){var n=this;this.path=t,this.viewDecl=e,this.factory=r,this.$id=$n++,this.loaded=!1,this.getTemplate=function(t,e){return n.component?n.factory.makeComponentTemplate(t,e,n.component,n.viewDecl.bindings):n.template}}return t.prototype.load=function(){var t=this,e=U.$q,r=new je(this.path),n=this.path.reduce(function(t,e){return z(t,e.paramValues)},{}),i={template:e.when(this.factory.fromConfig(this.viewDecl,n,r)),controller:e.when(this.getController(r))};return e.all(i).then(function(e){return pe.traceViewServiceEvent("Loaded",t),t.controller=e.controller,z(t,e.template),t})},t.prototype.getController=function(t){var e=this.viewDecl.controllerProvider;if(!A(e))return this.viewDecl.controller;var r=U.$injector.annotate(e),n=V(e)?Ot(e):e;return new Pe("",n,r).get(t)},t}(),En=function(){function t(){var t=this;this._useHttp=o.version.minor<3,this.$get=["$http","$templateCache","$injector",function(e,r,n){return t.$templateRequest=n.has&&n.has("$templateRequest")&&n.get("$templateRequest"),t.$http=e,t.$templateCache=r,t}]}return t.prototype.useHttpService=function(t){this._useHttp=t},t.prototype.fromConfig=function(t,e,r){var n=function(t){return U.$q.when(t).then(function(t){return{template:t}})},i=function(t){return U.$q.when(t).then(function(t){return{component:t}})};return C(t.template)?n(this.fromString(t.template,e)):C(t.templateUrl)?n(this.fromUrl(t.templateUrl,e)):C(t.templateProvider)?n(this.fromProvider(t.templateProvider,e,r)):C(t.component)?i(t.component):C(t.componentProvider)?i(this.fromComponentProvider(t.componentProvider,e,r)):n("<ui-view></ui-view>")},t.prototype.fromString=function(t,e){return k(t)?t(e):t},t.prototype.fromUrl=function(t,e){return k(t)&&(t=t(e)),null==t?null:this._useHttp?this.$http.get(t,{cache:this.$templateCache,headers:{Accept:"text/html"}}).then(function(t){return t.data}):this.$templateRequest(t)},t.prototype.fromProvider=function(t,e,r){var n=U.$injector.annotate(t),i=V(t)?Ot(t):t;return new Pe("",i,n).get(r)},t.prototype.fromComponentProvider=function(t,e,r){var n=U.$injector.annotate(t),i=V(t)?Ot(t):t;return new Pe("",i,n).get(r)},t.prototype.makeComponentTemplate=function(t,e,r,n){n=n||{};var i=o.version.minor>=3?"::":"",a=function(t){var e=Mt(t);return/^(x|data)-/.exec(e)?"x-"+e:e},u=function(t){var e=U.$injector.get(t+"Directive");if(!e||!e.length)throw new Error("Unable to find component named '"+t+"'");return e.map(Cn).reduce(gt,[])}(r).map(function(r){var o=r.name,u=r.type,s=a(o);if(t.attr(s)&&!n[o])return s+"='"+t.attr(s)+"'";var c=n[o]||o;if("@"===u)return s+"='{{"+i+"$resolve."+c+"}}'";if("&"===u){var f=e.getResolvable(c),l=f&&f.data,h=l&&U.$injector.annotate(l)||[];return s+"='$resolve."+c+(V(l)?"["+(l.length-1)+"]":"")+"("+h.join(",")+")'"}return s+"='"+i+"$resolve."+c+"'"}).join(" "),s=a(r);return"<"+s+" "+u+"></"+s+">"},t}(),Cn=function(t){return Tn(j(t.bindToController)?t.bindToController:t.scope)},Tn=function(t){return Object.keys(t||{}).map(function(e){return[e,/^([=<@&])[?]?(.*)/.exec(t[e])]}).filter(function(t){return C(t)&&V(t[1])}).map(function(t){return{name:t[1][2]||t[0],type:t[1][1]}})},Pn=function(){function t(e,r){this.stateRegistry=e,this.stateService=r,K(_(t.prototype),this,_(this))}return t.prototype.decorator=function(t,e){return this.stateRegistry.decorator(t,e)||this},t.prototype.state=function(t,e){return j(t)?e=t:e.name=t,this.stateRegistry.register(e),this},t.prototype.onInvalid=function(t){return this.stateService.onInvalid(t)},t}(),kn=function(t){return function(e){var r=e[t],n="onExit"===t?"from":"to";return r?function(t,e){var i=new je(t.treeChanges(n)).subContext(e.$$state()),o=z(zn(i),{$state$:e,$transition$:t});return U.$injector.invoke(r,this,o)}:void 0}},On=function(){function t(t){this._urlListeners=[],this.$locationProvider=t;var e=_(t);K(e,this,e,["hashPrefix"])}return t.monkeyPatchPathParameterType=function(t){var e=t.urlMatcherFactory.type("path");e.encode=function(t){return null!=t?t.toString().replace(/(~|\/)/g,function(t){return{"~":"~~","/":"~2F"}[t]}):t},e.decode=function(t){return null!=t?t.toString().replace(/(~~|~2F)/g,function(t){return{"~~":"~","~2F":"/"}[t]}):t}},t.prototype.dispose=function(){},t.prototype.onChange=function(t){var e=this;return this._urlListeners.push(t),function(){return tt(e._urlListeners)(t)}},t.prototype.html5Mode=function(){var t=this.$locationProvider.html5Mode();return(t=j(t)?t.enabled:t)&&this.$sniffer.history},t.prototype.baseHref=function(){return this._baseHref||(this._baseHref=this.$browser.baseHref()||this.$window.location.pathname)},t.prototype.url=function(t,e,r){return void 0===e&&(e=!1),C(t)&&this.$location.url(t),e&&this.$location.replace(),r&&this.$location.state(r),this.$location.url()},t.prototype._runtimeServices=function(t,e,r,n,i){var o=this;this.$location=e,this.$sniffer=r,this.$browser=n,this.$window=i,t.$on("$locationChangeSuccess",function(t){return o._urlListeners.forEach(function(e){return e(t)})});var a=_(e);K(a,this,a,["replace","path","search","hash"]),K(a,this,a,["port","protocol","host"])},t}(),xn=function(){function t(t){this.router=t}return t.injectableHandler=function(t,e){return function(r){return U.$injector.invoke(e,null,{$match:r,$stateParams:t.globals.params})}},t.prototype.$get=function(){var t=this.router.urlService;return this.router.urlRouter.update(!0),t.interceptDeferred||t.listen(),this.router.urlRouter},t.prototype.rule=function(t){var e=this;if(!k(t))throw new Error("'rule' must be a function");var r=new lr(function(){return t(U.$injector,e.router.locationService)},J);return this.router.urlService.rules.rule(r),this},t.prototype.otherwise=function(t){var e=this,r=this.router.urlService.rules;if(x(t))r.otherwise(t);else{if(!k(t))throw new Error("'rule' must be a string or function");r.otherwise(function(){return t(U.$injector,e.router.locationService)})}return this},t.prototype.when=function(e,r){return(V(r)||k(r))&&(r=t.injectableHandler(this.router,r)),this.router.urlService.rules.when(e,r),this},t.prototype.deferIntercept=function(t){this.router.urlService.deferIntercept(t)},t}();o.module("ui.router.angular1",[]);var jn=o.module("ui.router.init",["ng"]),Vn=o.module("ui.router.util",["ui.router.init"]),In=o.module("ui.router.router",["ui.router.util"]),Hn=o.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),An=o.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]);o.module("ui.router.compat",["ui.router"]);var Dn=null;qn.$inject=["$locationProvider"];var Un=function(t){return["$uiRouterProvider",function(e){var r=e.router[t];return r.$get=function(){return r},r}]};Nn.$inject=["$injector","$q","$uiRouter"],Fn.$inject=["$rootScope"],jn.provider("$uiRouter",qn),In.provider("$urlRouter",["$uiRouterProvider",function(t){return t.urlRouterProvider=new xn(t)}]),Vn.provider("$urlService",Un("urlService")),Vn.provider("$urlMatcherFactory",["$uiRouterProvider",function(){return Dn.urlMatcherFactory}]),Vn.provider("$templateFactory",function(){return new En}),Hn.provider("$stateRegistry",Un("stateRegistry")),Hn.provider("$uiRouterGlobals",Un("globals")),Hn.provider("$transitions",Un("transitionService")),Hn.provider("$state",["$uiRouterProvider",function(){return z(Dn.stateProvider,{$get:function(){return Dn.stateService}})}]),Hn.factory("$stateParams",["$uiRouter",function(t){return t.globals.params}]),An.factory("$view",function(){return Dn.viewService}),An.service("$trace",function(){return pe}),An.run(Fn),Vn.run(["$urlMatcherFactory",function(t){}]),Hn.run(["$state",function(t){}]),In.run(["$urlRouter",function(t){}]),jn.run(Nn);var Ln,Mn,Bn,Gn,zn=function(t){return t.getTokens().filter(x).map(function(e){var r=t.getResolvable(e);return[e,"NOWAIT"===t.getPolicy(r).async?r.promise:r.data]}).reduce(kt,{})};Ln=["$uiRouter","$timeout",function(t,e){var r=t.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,o,a){function p(){var t=l();c&&c(),s&&(c=s.$$addStateInfo(t.uiState,t.uiStateParams)),null!=t.href&&o.$set(u.attr,t.href)}var u=Kn(i),s=a[1]||a[0],c=null,f={},l=function(){return Qn(r,i,f)},h=Wn(o.uiSref);if(f.uiState=h.state,f.uiStateOpts=o.uiSrefOpts?n.$eval(o.uiSrefOpts):{},h.paramExpr&&(n.$watch(h.paramExpr,function(t){f.uiStateParams=z({},t),p()},!0),f.uiStateParams=z({},n.$eval(h.paramExpr))),p(),n.$on("$destroy",t.stateRegistry.onStatesChanged(p)),n.$on("$destroy",t.transitionService.onSuccess({},p)),u.clickable){var v=Yn(i,r,e,u,l);Zn(i,n,v,f.uiStateOpts)}}}}],Mn=["$uiRouter","$timeout",function(t,e){var r=t.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,o,a){function d(){var t=h();f&&f(),c&&(f=c.$$addStateInfo(t.uiState,t.uiStateParams)),null!=t.href&&o.$set(s.attr,t.href)}var u,s=Kn(i),c=a[1]||a[0],f=null,l={},h=function(){return Qn(r,i,l)},p=["uiState","uiStateParams","uiStateOpts"],v=p.reduce(function(t,e){return t[e]=Q,t},{});p.forEach(function(t){l[t]=o[t]?n.$eval(o[t]):null,o.$observe(t,function(e){v[t](),v[t]=n.$watch(e,function(e){l[t]=e,d()},!0)})}),d(),n.$on("$destroy",t.stateRegistry.onStatesChanged(d)),n.$on("$destroy",t.transitionService.onSuccess({},d)),s.clickable&&(u=Yn(i,r,e,s,h),Zn(i,n,u,l.uiStateOpts))}}}],Bn=["$state","$stateParams","$interpolate","$uiRouter",function(t,e,r,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(e,i,o){function h(t){t.promise.then(m,Q)}function p(){v(u)}function v(t){j(t)&&(l=[],G(t,function(t,r){var n=function(t,r){var n=Wn(t);d(n.state,e.$eval(n.paramExpr),r)};x(t)?n(t,r):V(t)&&G(t,function(t){n(t,r)})}))}function d(e,r,n){var o={state:t.get(e,Jn(i))||{name:e},params:r,activeClass:n};return l.push(o),function(){tt(l)(o)}}function m(){var r=function(t){return t.split(/\s/).filter(J)},n=function(t){return t.map(function(t){return t.activeClass}).map(r).reduce(gt,[])},o=n(l).concat(r(a)).reduce(St,[]),u=n(l.filter(function(e){return t.includes(e.state.name,e.params)})),s=l.filter(function(e){return t.is(e.state.name,e.params)}).length?r(a):[],c=u.concat(s).reduce(St,[]),f=o.filter(function(t){return!Z(c,t)});e.$evalAsync(function(){c.forEach(function(t){return i.addClass(t)}),f.forEach(function(t){return i.removeClass(t)})})}var a,u,s,c,f,l=[];a=r(o.uiSrefActiveEq||"",!1)(e);try{u=e.$eval(o.uiSrefActive)}catch(t){}v(u=u||r(o.uiSrefActive||"",!1)(e)),this.$$addStateInfo=function(t,e){if(!(j(u)&&l.length>0)){var r=d(t,e,u);return m(),r}},e.$on("$destroy",(s=n.stateRegistry.onStatesChanged(p),c=n.transitionService.onStart({},h),f=e.$on("$stateChangeSuccess",m),function(){s(),c(),f()})),n.globals.transition&&h(n.globals.transition),m()}]}}],o.module("ui.router.state").directive("uiSref",Ln).directive("uiSrefActive",Bn).directive("uiSrefActiveEq",Bn).directive("uiState",Mn),Xn.$inject=["$state"],ti.$inject=["$state"],o.module("ui.router.state").filter("isState",Xn).filter("includedByState",ti),Gn=["$view","$animate","$uiViewScroll","$interpolate","$q",function(t,e,r,n,i){var a={$cfg:{viewDecl:{$context:t._pluginapi._rootViewContext()}},$uiView:{}},u={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(s,c,f){return function(s,c,l){function R(t){var e=s.$new(),n=i.defer(),o=i.defer(),a={$cfg:t,$uiView:b},u={$animEnter:n.promise,$animLeave:o.promise,$$animLeave:o};e.$emit("$viewContentLoading",S);var l=f(e,function(t){t.data("$uiViewAnim",u),t.data("$uiView",a),w.enter(t,c,function(){n.resolve(),d&&d.$emit("$viewContentAnimationEnded"),(C(g)&&!g||s.$eval(g))&&r(t)}),function(){if(p&&(pe.traceUIViewEvent("Removing (previous) el",p.data("$uiView")),p.remove(),p=null),d&&(pe.traceUIViewEvent("Destroying scope",b),d.$destroy(),d=null),v){var t=v.data("$uiViewAnim");pe.traceUIViewEvent("Animate out",t),w.leave(v,function(){t.$$animLeave.resolve(),p=null}),p=v,v=null}}()});v=l,(d=e).$emit("$viewContentLoaded",t||m),d.$eval(y)}var p,v,d,m,y=l.onload||"",g=l.autoscroll,w={enter:function(t,r,n){o.version.minor>2?e.enter(t,null,r).then(n):e.enter(t,null,r,n)},leave:function(t,r){o.version.minor>2?e.leave(t).then(r):e.leave(t,r)}},_=c.inheritedData("$uiView")||a,S=n(l.uiView||l.name||"")(s)||"$default",b={$type:"ng1",id:u.count++,name:S,fqn:_.$uiView.fqn?_.$uiView.fqn+"."+S:S,config:null,configUpdated:function(t){if((!t||t instanceof Rn)&&(e=m,r=t,e!==r)){var e,r;pe.traceUIViewConfigUpdated(b,t&&t.viewDecl&&t.viewDecl.$context),m=t,R(t)}},get creationContext(){var t=h("$cfg.viewDecl.$context")(_),e=h("$uiView.creationContext")(_);return t||e}};pe.traceUIViewEvent("Linking",b),c.data("$uiView",{$uiView:b}),R();var $=t.registerUIView(b);s.$on("$destroy",function(){pe.traceUIViewEvent("Destroying/Unregistering",b),$()})}}};return u}],ei.$inject=["$compile","$controller","$transitions","$view","$q"];var ri="function"==typeof o.module("ui.router").component,ni=0;o.module("ui.router.state").directive("uiView",Gn),o.module("ui.router.state").directive("uiView",ei),o.module("ui.router.state").provider("$uiViewScroll",function(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,r){return t?e:function(t){return r(function(){t[0].scrollIntoView()},0,!1)}}]}),t.$injector=Yr,t.$q=Wr,t.BaseLocationServices=on,t.BaseUrlRule=lr,t.BrowserLocationConfig=pn,t.Glob=Dt,t.HashLocationService=un,t.HookBuilder=tr,t.MemoryLocationConfig=hn,t.MemoryLocationService=cn,t.NATIVE_INJECTOR_TOKEN="Native Injector",t.Ng1ViewConfig=Rn,t.Param=_e,t.ParamFactory=sr,t.ParamType=ve,t.ParamTypes=Se,t.PathNode=$e,t.PathUtils=Ee,t.PushStateLocationService=ln,t.Queue=qt,t.RegisteredHook=Ze,t.Rejection=Nt,t.Resolvable=Pe,t.ResolveContext=je,t.StateBuilder=Be,t.StateMatcher=ze,t.StateObject=Ge,t.StateParams=be,t.StateProvider=Pn,t.StateQueueManager=We,t.StateRegistry=Je,t.StateService=zr,t.TargetState=Re,t.Trace=he,t.Transition=rr,t.TransitionEventType=Fr,t.TransitionHook=Ke,t.TransitionService=Gr,t.UIRouter=$r,t.UIRouterGlobals=dr,t.UIRouterPluginBase=gn,t.UrlConfig=gr,t.UrlMatcher=ar,t.UrlMatcherFactory=cr,t.UrlRouter=pr,t.UrlRouterProvider=xn,t.UrlRuleFactory=fr,t.UrlRules=yr,t.UrlService=wr,t.ViewService=vr,t._extend=jt,t._inArray=X,t._pushTo=nt,t._removeFrom=et,t.all=m,t.allTrueR=mt,t.ancestors=ut,t.and=v,t.any=y,t.anyTrueR=yt,t.applyPairs=kt,t.arrayTuples=Pt,t.assertFn=Ct,t.assertMap=Et,t.assertPredicate=Rt,t.beforeAfterSubstr=Qt,t.buildUrl=en,t.compose=s,t.copy=xt,t.core=wn,t.createProxyFunctions=K,t.curry=u,t["default"]="ui.router",t.defaultResolvePolicy=Te,t.defaultTransOpts=Br,t.defaults=ot,t.deregAll=it,t.eq=w,t.equals=W,t.extend=z,t.filter=lt,t.find=ht,t.flatten=$t,t.flattenR=wt,t.fnToString=Gt,t.forEach=G,t.fromJson=M,t.functionToString=Bt,t.getLocals=zn,t.getNg1ViewConfigFactory=_n,t.getParams=Xr,t.hashLocationPlugin=dn,t.hostRegex=Kt,t.identity=J,t.inArray=Z,t.inherit=Y,t.invoke=S,t.is=g,t.isArray=V,t.isDate=I,t.isDefined=C,t.isFunction=k,t.isInjectable=A,t.isNull=T,t.isNullOrUndefined=P,t.isNumber=O,t.isObject=j,t.isPromise=D,t.isRegExp=H,t.isString=x,t.isUndefined=E,t.joinNeighborsR=ne,t.kebobString=Mt,t.keyValsToObjectR=Zr,t.locationPluginFactory=rn,t.makeEvent=Xe,t.makeStub=q,t.map=vt,t.mapObj=pt,t.matchState=Ye,t.maxLength=Ft,t.memoryLocationPlugin=yn,t.mergeR=at,t.ng1ViewsBuilder=bn,t.noop=Q,t.not=p,t.omit=ct,t.or=d,t.padString=Lt,t.pairs=Tt,t.parse=h,t.parseUrl=tn,t.pattern=b,t.pick=st,t.pipe=c,t.pluck=ft,t.prop=f,t.propEq=l,t.pushR=_t,t.pushStateLocationPlugin=mn,t.pushTo=rt,t.removeFrom=tt,t.resolvablesBuilder=Fe,t.resolvePolicies=Ce,t.root=F,t.services=U,t.servicesPlugin=vn,t.silenceUncaughtInPromise=Ht,t.silentRejection=At,t.splitEqual=te,t.splitHash=Zt,t.splitOnDelim=re,t.splitQuery=Xt,t.stringify=Jt,t.stripLastPathElement=Yt,t.tail=Ot,t.toJson=B,t.trace=pe,t.trimHashVal=ee,t.uniqR=St,t.unnest=bt,t.unnestR=gt,t.val=_,t.values=dt,t.watchDigests=Fn,Object.defineProperty(t,"__esModule",{value:!0})}),angular.module("templates",[]),!function(a,b){"use strict";angular.module("toaster",[]).constant("toasterConfig",{limit:0,"tap-to-dismiss":!0,"close-button":!1,"close-html":'<button class="toast-close-button" type="button">&times;</button>',"newest-on-top":!0,"time-out":5e3,"icon-classes":{error:"toast-error",info:"toast-info",wait:"toast-wait",success:"toast-success",warning:"toast-warning"},"body-output-type":"","body-template":"toasterBodyTmpl.html","icon-class":"toast-info","position-class":"toast-top-right","title-class":"toast-title","message-class":"toast-message","prevent-duplicates":!1,"mouseover-timer-stop":!0}).run(["$templateCache",function(a){a.put("angularjs-toaster/toast.html",'<div id="toast-container" ng-class="[config.position, config.animation]"><div ng-repeat="toaster in toasters" class="toast" ng-class="toaster.type" ng-click="click($event, toaster)" ng-mouseover="stopTimer(toaster)" ng-mouseout="restartTimer(toaster)"><div ng-if="toaster.showCloseButton" ng-click="click($event, toaster, true)" ng-bind-html="toaster.closeHtml"></div><div ng-class="config.title">{{toaster.title}}</div><div ng-class="config.message" ng-switch on="toaster.bodyOutputType"><div ng-switch-when="trustedHtml" ng-bind-html="toaster.html"></div><div ng-switch-when="template"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-when="templateWithData"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-when="directive"><div directive-template directive-name="{{toaster.html}}" directive-data="{{toaster.directiveData}}"></div></div><div ng-switch-default >{{toaster.body}}</div></div></div></div>')}]).service("toaster",["$rootScope","toasterConfig",function(a,b){function e(a){return function(b,c,d,e,f,g,h,i,j){return angular.isString(b)?this.pop(a,b,c,d,e,f,g,h,i,j):this.pop(angular.extend(b,{type:a}))}}var c=function(){var a={};return a.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:3&b|8;return c.toString(16)})},a}();this.pop=function(b,d,e,f,g,h,i,j,k,l){if(angular.isObject(b)){var m=b;this.toast={type:m.type,title:m.title,body:m.body,timeout:m.timeout,bodyOutputType:m.bodyOutputType,clickHandler:m.clickHandler,showCloseButton:m.showCloseButton,closeHtml:m.closeHtml,toastId:m.toastId,onShowCallback:m.onShowCallback,onHideCallback:m.onHideCallback,directiveData:m.directiveData,tapToDismiss:m.tapToDismiss},i=m.toasterId}else this.toast={type:b,title:d,body:e,timeout:f,bodyOutputType:g,clickHandler:h,showCloseButton:j,toastId:k,onHideCallback:l};return this.toast.toastId&&this.toast.toastId.length||(this.toast.toastId=c.newGuid()),a.$emit("toaster-newToast",i,this.toast.toastId),{toasterId:i,toastId:this.toast.toastId}},this.clear=function(b,c){angular.isObject(b)?a.$emit("toaster-clearToasts",b.toasterId,b.toastId):a.$emit("toaster-clearToasts",b,c)};for(var d in b["icon-classes"])this[d]=e(d)}]).factory("toasterEventRegistry",["$rootScope",function(a){var f,b=null,c=null,d=[],e=[];return f={setup:function(){b||(b=a.$on("toaster-newToast",function(a,b,c){
for(var e=0,f=d.length;f>e;e++)d[e](a,b,c)})),c||(c=a.$on("toaster-clearToasts",function(a,b,c){for(var d=0,f=e.length;f>d;d++)e[d](a,b,c)}))},subscribeToNewToastEvent:function(a){d.push(a)},subscribeToClearToastsEvent:function(a){e.push(a)},unsubscribeToNewToastEvent:function(a){var c=d.indexOf(a);c>=0&&d.splice(c,1),0===d.length&&(b(),b=null)},unsubscribeToClearToastsEvent:function(a){var b=e.indexOf(a);b>=0&&e.splice(b,1),0===e.length&&(c(),c=null)}},{setup:f.setup,subscribeToNewToastEvent:f.subscribeToNewToastEvent,subscribeToClearToastsEvent:f.subscribeToClearToastsEvent,unsubscribeToNewToastEvent:f.unsubscribeToNewToastEvent,unsubscribeToClearToastsEvent:f.unsubscribeToClearToastsEvent}}]).directive("directiveTemplate",["$compile","$injector",function(a,b){return{restrict:"A",scope:{directiveName:"@directiveName",directiveData:"@directiveData"},replace:!0,link:function(c,d,e){c.$watch("directiveName",function(f){if(angular.isUndefined(f)||f.length<=0)throw new Error("A valid directive name must be provided via the toast body argument when using bodyOutputType: directive");var g;try{g=b.get(e.$normalize(f)+"Directive")}catch(a){throw new Error(f+" could not be found. The name should appear as it exists in the markup, not camelCased as it would appear in the directive declaration, e.g. directive-name not directiveName.")}var h=g[0];if(h.scope!==!0&&h.scope)throw new Error("Cannot use a directive with an isolated scope. The scope must be either true or falsy (e.g. false/null/undefined). Occurred for directive "+f+".");if(h.restrict.indexOf("A")<0)throw new Error('Directives must be usable as attributes. Add "A" to the restrict option (or remove the option entirely). Occurred for directive '+f+".");c.directiveData&&(c.directiveData=angular.fromJson(c.directiveData));var i=a("<div "+f+"></div>")(c);d.append(i)})}}}]).directive("toasterContainer",["$parse","$rootScope","$interval","$sce","toasterConfig","toaster","toasterEventRegistry",function(a,b,c,d,e,f,g){return{replace:!0,restrict:"EA",scope:!0,link:function(b,h,i){function k(a,d){a.timeoutPromise=c(function(){b.removeToast(a.toastId)},d,1)}function l(c,e){if(c.type=j["icon-classes"][c.type],c.type||(c.type=j["icon-class"]),j["prevent-duplicates"]===!0&&b.toasters.length){if(b.toasters[b.toasters.length-1].body===c.body)return;var f,g,h=!1;for(f=0,g=b.toasters.length;g>f;f++)if(b.toasters[f].toastId===e){h=!0;break}if(h)return}var i=j["close-button"];if("boolean"==typeof c.showCloseButton);else if("boolean"==typeof i)c.showCloseButton=i;else if("object"==typeof i){var k=i[c.type];"undefined"!=typeof k&&null!==k&&(c.showCloseButton=k)}else c.showCloseButton=!1;switch(c.showCloseButton&&(c.closeHtml=d.trustAsHtml(c.closeHtml||b.config.closeHtml)),c.bodyOutputType=c.bodyOutputType||j["body-output-type"],c.bodyOutputType){case"trustedHtml":c.html=d.trustAsHtml(c.body);break;case"template":c.bodyTemplate=c.body||j["body-template"];break;case"templateWithData":var l=a(c.body||j["body-template"]),m=l(b);c.bodyTemplate=m.template,c.data=m.data;break;case"directive":c.html=c.body}b.configureTimer(c),j["newest-on-top"]===!0?(b.toasters.unshift(c),j.limit>0&&b.toasters.length>j.limit&&b.toasters.pop()):(b.toasters.push(c),j.limit>0&&b.toasters.length>j.limit&&b.toasters.shift()),angular.isFunction(c.onShowCallback)&&c.onShowCallback()}function m(a){var d=b.toasters[a];d.timeoutPromise&&c.cancel(d.timeoutPromise),b.toasters.splice(a,1),angular.isFunction(d.onHideCallback)&&d.onHideCallback()}function n(a){for(var c=b.toasters.length-1;c>=0;c--)o(a)?m(c):b.toasters[c].toastId==a&&m(c)}function o(a){return angular.isUndefined(a)||null===a}var j;j=angular.extend({},e,b.$eval(i.toasterOptions)),b.config={toasterId:j["toaster-id"],position:j["position-class"],title:j["title-class"],message:j["message-class"],tap:j["tap-to-dismiss"],closeButton:j["close-button"],closeHtml:j["close-html"],animation:j["animation-class"],mouseoverTimer:j["mouseover-timer-stop"]},b.$on("$destroy",function(){g.unsubscribeToNewToastEvent(b._onNewToast),g.unsubscribeToClearToastsEvent(b._onClearToasts)}),b.configureTimer=function(a){var b=angular.isNumber(a.timeout)?a.timeout:j["time-out"];"object"==typeof b&&(b=b[a.type]),b>0&&k(a,b)},b.removeToast=function(a){var c,d;for(c=0,d=b.toasters.length;d>c;c++)if(b.toasters[c].toastId===a){m(c);break}},b.toasters=[],b._onNewToast=function(a,c,d){(o(b.config.toasterId)&&o(c)||!o(b.config.toasterId)&&!o(c)&&b.config.toasterId==c)&&l(f.toast,d)},b._onClearToasts=function(a,c,d){("*"==c||o(b.config.toasterId)&&o(c)||!o(b.config.toasterId)&&!o(c)&&b.config.toasterId==c)&&n(d)},g.setup(),g.subscribeToNewToastEvent(b._onNewToast),g.subscribeToClearToastsEvent(b._onClearToasts)},controller:["$scope","$element","$attrs",function(a,b,d){a.stopTimer=function(b){a.config.mouseoverTimer===!0&&b.timeoutPromise&&(c.cancel(b.timeoutPromise),b.timeoutPromise=null)},a.restartTimer=function(b){a.config.mouseoverTimer===!0?b.timeoutPromise||a.configureTimer(b):null===b.timeoutPromise&&a.removeToast(b.toastId)},a.click=function(b,c,d){b.stopPropagation();var e="boolean"==typeof c.tapToDismiss?c.tapToDismiss:a.config.tap;if(e===!0||c.showCloseButton===!0&&d===!0){var f=!0;c.clickHandler&&(angular.isFunction(c.clickHandler)?f=c.clickHandler(c,d):angular.isFunction(a.$parent.$eval(c.clickHandler))?f=a.$parent.$eval(c.clickHandler)(c,d):void 0),f&&a.removeToast(c.toastId)}}}],templateUrl:"angularjs-toaster/toast.html"}}])}(window,document),!function(a,b){"undefined"!=typeof module&&module.exports?(b("undefined"==typeof angular?require("angular"):angular),module.exports="ngDialog"):"function"==typeof define&&define.amd?define(["angular"],b):b(a.angular)}(this,function(a){"use strict";var b=a.module("ngDialog",[]),c=a.element,d=a.isDefined,e=(document.body||document.documentElement).style,f=d(e.animation)||d(e.WebkitAnimation)||d(e.MozAnimation)||d(e.MsAnimation)||d(e.OAnimation),g="animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",h="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",i="ngdialog-disabled-animation",j={html:!1,body:!1},k={},l=[],m=!1,n=!1;return b.provider("ngDialog",function(){var b=this.defaults={className:"ngdialog-theme-default",appendClassName:"",disableAnimation:!1,plain:!1,showClose:!0,closeByDocument:!0,closeByEscape:!0,closeByNavigation:!1,appendTo:!1,preCloseCallback:!1,overlay:!0,cache:!0,trapFocus:!0,preserveFocus:!0,ariaAuto:!0,ariaRole:null,ariaLabelledById:null,ariaLabelledBySelector:null,ariaDescribedById:null,ariaDescribedBySelector:null,bodyClassName:"ngdialog-open",width:null,height:null};this.setForceHtmlReload=function(a){j.html=a||!1},this.setForceBodyReload=function(a){j.body=a||!1},this.setDefaults=function(c){a.extend(b,c)},this.setOpenOnePerName=function(a){n=a||!1};var d,e=0,o=0,p={};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller","$injector",function(q,r,s,t,u,v,w,x,y,z){var A=[],B={onDocumentKeydown:function(a){27===a.keyCode&&C.close("$escape")},activate:function(a){var b=a.data("$ngDialogOptions");b.trapFocus&&(a.on("keydown",B.onTrapFocusKeydown),A.body.on("keydown",B.onTrapFocusKeydown))},deactivate:function(a){a.off("keydown",B.onTrapFocusKeydown),A.body.off("keydown",B.onTrapFocusKeydown)},deactivateAll:function(b){a.forEach(b,function(b){var c=a.element(b);B.deactivate(c)})},setBodyPadding:function(a){var b=parseInt(A.body.css("padding-right")||0,10);A.body.css("padding-right",b+a+"px"),A.body.data("ng-dialog-original-padding",b),v.$broadcast("ngDialog.setPadding",a)},resetBodyPadding:function(){var a=A.body.data("ng-dialog-original-padding");a?A.body.css("padding-right",a+"px"):A.body.css("padding-right",""),v.$broadcast("ngDialog.setPadding",0)},performCloseDialog:function(a,b){var c=a.data("$ngDialogOptions"),e=a.attr("id"),h=k[e];if(h){if("undefined"!=typeof x.Hammer){var i=h.hammerTime;i.off("tap",d),i.destroy&&i.destroy(),delete h.hammerTime}else a.unbind("click");1===o&&A.body.unbind("keydown",B.onDocumentKeydown),a.hasClass("ngdialog-closing")||(o-=1);var j=a.data("$ngDialogPreviousFocus");j&&j.focus&&j.focus(),v.$broadcast("ngDialog.closing",a,b),o=0>o?0:o,f&&!c.disableAnimation?(h.$destroy(),a.unbind(g).bind(g,function(){B.closeDialogElement(a,b)}).addClass("ngdialog-closing")):(h.$destroy(),B.closeDialogElement(a,b)),p[e]&&(p[e].resolve({id:e,value:b,$dialog:a,remainingDialogs:o}),delete p[e]),k[e]&&delete k[e],l.splice(l.indexOf(e),1),l.length||(A.body.unbind("keydown",B.onDocumentKeydown),m=!1)}},closeDialogElement:function(a,b){var c=a.data("$ngDialogOptions");a.remove(),0===o&&(A.html.removeClass(c.bodyClassName),A.body.removeClass(c.bodyClassName),B.resetBodyPadding()),v.$broadcast("ngDialog.closed",a,b)},closeDialog:function(b,c){var d=b.data("$ngDialogPreCloseCallback");if(d&&a.isFunction(d)){var e=d.call(b,c);if(a.isObject(e))e.closePromise?e.closePromise.then(function(){B.performCloseDialog(b,c)},function(){return!1}):e.then(function(){B.performCloseDialog(b,c)},function(){return!1});else{if(e===!1)return!1;B.performCloseDialog(b,c)}}else B.performCloseDialog(b,c)},onTrapFocusKeydown:function(b){var c,d=a.element(b.currentTarget);if(d.hasClass("ngdialog"))c=d;else if(c=B.getActiveDialog(),null===c)return;var e=9===b.keyCode,f=b.shiftKey===!0;e&&B.handleTab(c,b,f)},handleTab:function(a,b,c){var d=B.getFocusableElements(a);if(0===d.length)return void(document.activeElement&&document.activeElement.blur&&document.activeElement.blur());var e=document.activeElement,f=Array.prototype.indexOf.call(d,e),g=-1===f,h=0===f,i=f===d.length-1,j=!1;c?(g||h)&&(d[d.length-1].focus(),j=!0):(g||i)&&(d[0].focus(),j=!0),j&&(b.preventDefault(),b.stopPropagation())},autoFocus:function(a){var b=a[0],d=b.querySelector("*[autofocus]");if(null===d||(d.focus(),document.activeElement!==d)){var e=B.getFocusableElements(a);if(e.length>0)return void e[0].focus();var f=B.filterVisibleElements(b.querySelectorAll("h1,h2,h3,h4,h5,h6,p,span"));if(f.length>0){var g=f[0];c(g).attr("tabindex","-1").css("outline","0"),g.focus()}}},getFocusableElements:function(a){var b=a[0],c=b.querySelectorAll(h),d=B.filterTabbableElements(c);return B.filterVisibleElements(d)},filterTabbableElements:function(a){for(var b=[],d=0;d<a.length;d++){var e=a[d];"-1"!==c(e).attr("tabindex")&&b.push(e)}return b},filterVisibleElements:function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];(d.offsetWidth>0||d.offsetHeight>0)&&b.push(d)}return b},getActiveDialog:function(){var a=document.querySelectorAll(".ngdialog");return 0===a.length?null:c(a[a.length-1])},applyAriaAttributes:function(a,b){if(b.ariaAuto){if(!b.ariaRole){var c=B.getFocusableElements(a).length>0?"dialog":"alertdialog";b.ariaRole=c}b.ariaLabelledBySelector||(b.ariaLabelledBySelector="h1,h2,h3,h4,h5,h6"),b.ariaDescribedBySelector||(b.ariaDescribedBySelector="article,section,p")}b.ariaRole&&a.attr("role",b.ariaRole),B.applyAriaAttribute(a,"aria-labelledby",b.ariaLabelledById,b.ariaLabelledBySelector),B.applyAriaAttribute(a,"aria-describedby",b.ariaDescribedById,b.ariaDescribedBySelector)},applyAriaAttribute:function(a,b,d,e){if(d&&a.attr(b,d),e){var f=a.attr("id"),g=a[0].querySelector(e);if(!g)return;var h=f+"-"+b;return c(g).attr("id",h),a.attr(b,h),h}},detectUIRouter:function(){try{return a.module("ui.router"),!0}catch(b){return!1}},getRouterLocationEventName:function(){return B.detectUIRouter()?"$stateChangeStart":"$locationChangeStart"}},C={__PRIVATE__:B,open:function(f){function g(a,b){return v.$broadcast("ngDialog.templateLoading",a),u.get(a,b||{}).then(function(b){return v.$broadcast("ngDialog.templateLoaded",a),b.data||""})}function h(b){return b?a.isString(b)&&q.plain?b:"boolean"!=typeof q.cache||q.cache?g(b,{cache:r}):g(b,{cache:!1}):"Empty template"}var j=null;if(f=f||{},!(n&&f.name&&(j=f.name.toLowerCase().replace(/\s/g,"-")+"-dialog",this.isOpen(j)))){var q=a.copy(b),D=++e;j=j||"ngdialog"+D,l.push(j),"undefined"!=typeof q.data&&("undefined"==typeof f.data&&(f.data={}),f.data=a.merge(a.copy(q.data),f.data)),a.extend(q,f);var E;p[j]=E=t.defer();var F;k[j]=F=a.isObject(q.scope)?q.scope.$new():v.$new();var G,H,I,J=a.extend({},q.resolve);return a.forEach(J,function(b,c){J[c]=a.isString(b)?z.get(b):z.invoke(b,null,null,c)}),t.all({template:h(q.template||q.templateUrl),locals:t.all(J)}).then(function(b){var e=b.template,f=b.locals;q.showClose&&(e+='<div class="ngdialog-close"></div>');var g=q.overlay?"":" ngdialog-no-overlay";if(G=c('<div id="'+j+'" class="ngdialog'+g+'"></div>'),G.html(q.overlay?'<div class="ngdialog-overlay"></div><div class="ngdialog-content" role="document">'+e+"</div>":'<div class="ngdialog-content" role="document">'+e+"</div>"),G.data("$ngDialogOptions",q),F.ngDialogId=j,q.data&&a.isString(q.data)){var h=q.data.replace(/^\s*/,"")[0];F.ngDialogData="{"===h||"["===h?a.fromJson(q.data):new String(q.data),F.ngDialogData.ngDialogId=j}else q.data&&a.isObject(q.data)&&(F.ngDialogData=q.data,F.ngDialogData.ngDialogId=j);if(q.className&&G.addClass(q.className),q.appendClassName&&G.addClass(q.appendClassName),q.width&&(I=G[0].querySelector(".ngdialog-content"),a.isString(q.width)?I.style.width=q.width:I.style.width=q.width+"px"),q.height&&(I=G[0].querySelector(".ngdialog-content"),a.isString(q.height)?I.style.height=q.height:I.style.height=q.height+"px"),q.disableAnimation&&G.addClass(i),H=q.appendTo&&a.isString(q.appendTo)?a.element(document.querySelector(q.appendTo)):A.body,B.applyAriaAttributes(G,q),q.preCloseCallback){var k;a.isFunction(q.preCloseCallback)?k=q.preCloseCallback:a.isString(q.preCloseCallback)&&F&&(a.isFunction(F[q.preCloseCallback])?k=F[q.preCloseCallback]:F.$parent&&a.isFunction(F.$parent[q.preCloseCallback])?k=F.$parent[q.preCloseCallback]:v&&a.isFunction(v[q.preCloseCallback])&&(k=v[q.preCloseCallback])),k&&G.data("$ngDialogPreCloseCallback",k)}if(F.closeThisDialog=function(a){B.closeDialog(G,a)},q.controller&&(a.isString(q.controller)||a.isArray(q.controller)||a.isFunction(q.controller))){var l;q.controllerAs&&a.isString(q.controllerAs)&&(l=q.controllerAs);var n=y(q.controller,a.extend(f,{$scope:F,$element:G}),!0,l);q.bindToController&&a.extend(n.instance,{ngDialogId:F.ngDialogId,ngDialogData:F.ngDialogData,closeThisDialog:F.closeThisDialog,confirm:F.confirm}),"function"==typeof n?G.data("$ngDialogControllerController",n()):G.data("$ngDialogControllerController",n)}if(w(function(){var a=document.querySelectorAll(".ngdialog");B.deactivateAll(a),s(G)(F);var b=x.innerWidth-A.body.prop("clientWidth");A.html.addClass(q.bodyClassName),A.body.addClass(q.bodyClassName);var c=b-(x.innerWidth-A.body.prop("clientWidth"));c>0&&B.setBodyPadding(c),H.append(G),B.activate(G),q.trapFocus&&B.autoFocus(G),q.name?v.$broadcast("ngDialog.opened",{dialog:G,name:q.name}):v.$broadcast("ngDialog.opened",G)}),m||(A.body.bind("keydown",B.onDocumentKeydown),m=!0),q.closeByNavigation){var p=B.getRouterLocationEventName();v.$on(p,function(a){B.closeDialog(G)===!1&&a.preventDefault()})}if(q.preserveFocus&&G.data("$ngDialogPreviousFocus",document.activeElement),d=function(a){var b=!!q.closeByDocument&&c(a.target).hasClass("ngdialog-overlay"),d=c(a.target).hasClass("ngdialog-close");(b||d)&&C.close(G.attr("id"),d?"$closeButton":"$document")},"undefined"!=typeof x.Hammer){var r=F.hammerTime=x.Hammer(G[0]);r.on("tap",d)}else G.bind("click",d);return o+=1,C}),{id:j,closePromise:E.promise,close:function(a){B.closeDialog(G,a)}}}},openConfirm:function(d){var e=t.defer(),f=a.copy(b);d=d||{},"undefined"!=typeof f.data&&("undefined"==typeof d.data&&(d.data={}),d.data=a.merge(a.copy(f.data),d.data)),a.extend(f,d),f.scope=a.isObject(f.scope)?f.scope.$new():v.$new(),f.scope.confirm=function(a){e.resolve(a);var b=c(document.getElementById(g.id));B.performCloseDialog(b,a)};var g=C.open(f);return g?(g.closePromise.then(function(a){return a?e.reject(a.value):e.reject()}),e.promise):void 0},isOpen:function(a){var b=c(document.getElementById(a));return b.length>0},close:function(a,b){var d=c(document.getElementById(a));if(d.length)B.closeDialog(d,b);else if("$escape"===a){var e=l[l.length-1];d=c(document.getElementById(e)),d.data("$ngDialogOptions").closeByEscape&&B.closeDialog(d,"$escape")}else C.closeAll(b);return C},closeAll:function(a){for(var b=document.querySelectorAll(".ngdialog"),d=b.length-1;d>=0;d--){var e=b[d];B.closeDialog(c(e),a)}},getOpenDialogs:function(){return l},getDefaults:function(){return b}};return a.forEach(["html","body"],function(a){if(A[a]=q.find(a),j[a]){var b=B.getRouterLocationEventName();v.$on(b,function(){A[a]=q.find(a)})}}),C}]}),b.directive("ngDialog",["ngDialog",function(b){return{restrict:"A",scope:{ngDialogScope:"="},link:function(c,d,e){d.on("click",function(d){d.preventDefault();var f=a.isDefined(c.ngDialogScope)?c.ngDialogScope:"noScope";a.isDefined(e.ngDialogClosePrevious)&&b.close(e.ngDialogClosePrevious);var g=b.getDefaults();b.open({template:e.ngDialog,className:e.ngDialogClass||g.className,appendClassName:e.ngDialogAppendClass,controller:e.ngDialogController,controllerAs:e.ngDialogControllerAs,bindToController:e.ngDialogBindToController,scope:f,data:e.ngDialogData,showClose:"false"!==e.ngDialogShowClose&&("true"===e.ngDialogShowClose||g.showClose),closeByDocument:"false"!==e.ngDialogCloseByDocument&&("true"===e.ngDialogCloseByDocument||g.closeByDocument),closeByEscape:"false"!==e.ngDialogCloseByEscape&&("true"===e.ngDialogCloseByEscape||g.closeByEscape),overlay:"false"!==e.ngDialogOverlay&&("true"===e.ngDialogOverlay||g.overlay),preCloseCallback:e.ngDialogPreCloseCallback||g.preCloseCallback,bodyClassName:e.ngDialogBodyClass||g.bodyClassName})})}}}]),b}),!function(e,n){"use strict";var r=["ng","oc.lazyLoad"],o={},t=[],i=[],a=[],s=[],u=e.noop,c={},l=[],d=e.module("oc.lazyLoad",["ng"]);d.provider("$ocLazyLoad",["$controllerProvider","$provide","$compileProvider","$filterProvider","$injector","$animateProvider",function(d,f,p,m,v,y){function L(n,o,t){if(o){var i,s,d,f=[];for(i=o.length-1;i>=0;i--)if(s=o[i],e.isString(s)||(s=E(s)),s&&-1===l.indexOf(s)&&(!w[s]||-1!==a.indexOf(s))){var h=-1===r.indexOf(s);if(d=g(s),h&&(r.push(s),L(n,d.requires,t)),d._runBlocks.length>0)for(c[s]=[];d._runBlocks.length>0;)c[s].push(d._runBlocks.shift());e.isDefined(c[s])&&(h||t.rerun)&&(f=f.concat(c[s])),j(n,d._invokeQueue,s,t.reconfig),j(n,d._configBlocks,s,t.reconfig),u(h?"ocLazyLoad.moduleLoaded":"ocLazyLoad.moduleReloaded",s),o.pop(),l.push(s)}var p=n.getInstanceInjector();e.forEach(f,function(e){p.invoke(e)})}}function $(n,r){function t(n,r){var o,t=!0;return r.length&&(o=i(n),e.forEach(r,function(e){t=t&&i(e)!==o})),t}function i(n){return e.isArray(n)?M(n.toString()):e.isObject(n)?M(S(n)):e.isDefined(n)&&null!==n?M(n.toString()):n}var a=n[2][0],s=n[1],c=!1;e.isUndefined(o[r])&&(o[r]={}),e.isUndefined(o[r][s])&&(o[r][s]={});var l=function(e,n){o[r][s].hasOwnProperty(e)||(o[r][s][e]=[]),t(n,o[r][s][e])&&(c=!0,o[r][s][e].push(n),u("ocLazyLoad.componentLoaded",[r,s,e]))};if(e.isString(a))l(a,n[2][1]);else{if(!e.isObject(a))return!1;e.forEach(a,function(n,r){e.isString(n)?l(n,a[1]):l(r,n)})}return c}function j(n,r,o,i){if(r){var a,s,u,c;for(a=0,s=r.length;s>a;a++)if(u=r[a],e.isArray(u)){if(null!==n){if(!n.hasOwnProperty(u[0]))throw new Error("unsupported provider "+u[0]);c=n[u[0]]}var l=$(u,o);if("invoke"!==u[1])l&&e.isDefined(c)&&c[u[1]].apply(c,u[2]);else{var d=function(n){var r=t.indexOf(o+"-"+n);(-1===r||i)&&(-1===r&&t.push(o+"-"+n),e.isDefined(c)&&c[u[1]].apply(c,u[2]))};if(e.isFunction(u[2][0]))d(u[2][0]);else if(e.isArray(u[2][0]))for(var f=0,h=u[2][0].length;h>f;f++)e.isFunction(u[2][0][f])&&d(u[2][0][f])}}}}function E(n){var r=null;return e.isString(n)?r=n:e.isObject(n)&&n.hasOwnProperty("name")&&e.isString(n.name)&&(r=n.name),r}function _(n){if(!e.isString(n))return!1;try{return g(n)}catch(r){if(/No module/.test(r)||r.message.indexOf("$injector:nomod")>-1)return!1}}var w={},O={$controllerProvider:d,$compileProvider:p,$filterProvider:m,$provide:f,$injector:v,$animateProvider:y},x=!1,b=!1,z=[],D={};z.push=function(e){-1===this.indexOf(e)&&Array.prototype.push.apply(this,arguments)},this.config=function(n){e.isDefined(n.modules)&&(e.isArray(n.modules)?e.forEach(n.modules,function(e){w[e.name]=e}):w[n.modules.name]=n.modules),e.isDefined(n.debug)&&(x=n.debug),e.isDefined(n.events)&&(b=n.events)},this._init=function(o){if(0===i.length){var t=[o],a=["ng:app","ng-app","x-ng-app","data-ng-app"],u=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/,c=function(e){return e&&t.push(e)};e.forEach(a,function(n){a[n]=!0,c(document.getElementById(n)),n=n.replace(":","\\:"),"undefined"!=typeof o[0]&&o[0].querySelectorAll&&(e.forEach(o[0].querySelectorAll("."+n),c),e.forEach(o[0].querySelectorAll("."+n+"\\:"),c),e.forEach(o[0].querySelectorAll("["+n+"]"),c))}),e.forEach(t,function(n){if(0===i.length){var r=" "+o.className+" ",t=u.exec(r);t?i.push((t[2]||"").replace(/\s+/g,",")):e.forEach(n.attributes,function(e){0===i.length&&a[e.name]&&i.push(e.value)})}})}0!==i.length||(n.jasmine||n.mocha)&&e.isDefined(e.mock)||void 0;var l=function d(n){if(-1===r.indexOf(n)){r.push(n);var o=e.module(n);j(null,o._invokeQueue,n),j(null,o._configBlocks,n),e.forEach(o.requires,d)}};e.forEach(i,function(e){l(e)}),i=[],s.pop()};var S=function(n){try{return JSON.stringify(n)}catch(r){var o=[];return JSON.stringify(n,function(n,r){if(e.isObject(r)&&null!==r){if(-1!==o.indexOf(r))return;o.push(r)}return r})}},M=function(e){var n,r,o,t=0;if(0==e.length)return t;for(n=0,o=e.length;o>n;n++)r=e.charCodeAt(n),t=(t<<5)-t+r,t|=0;return t};this.$get=["$log","$rootElement","$rootScope","$cacheFactory","$q",function(n,t,a,c,d){function f(e){var r=d.defer();return n.error(e.message),r.reject(e),r.promise}var p,m=c("ocLazyLoad");return x||(n={},n.error=e.noop,n.warn=e.noop,n.info=e.noop),O.getInstanceInjector=function(){return p?p:p=t.data("$injector")||e.injector()},u=function(e,r){b&&a.$broadcast(e,r),x&&n.info(e,r)},{_broadcast:u,_$log:n,_getFilesCache:function(){return m},toggleWatch:function(e){e?s.push(!0):s.pop()},getModuleConfig:function(n){if(!e.isString(n))throw new Error("You need to give the name of the module to get");return w[n]?e.copy(w[n]):null},setModuleConfig:function(n){if(!e.isObject(n))throw new Error("You need to give the module config object to set");return w[n.name]=n,n},getModules:function(){return r},isLoaded:function(n){var o=function(e){var n=r.indexOf(e)>-1;return n||(n=!!_(e)),n};if(e.isString(n)&&(n=[n]),e.isArray(n)){var t,i;for(t=0,i=n.length;i>t;t++)if(!o(n[t]))return!1;return!0}throw new Error("You need to define the module(s) name(s)")},_getModuleName:E,_getModule:function(e){try{return g(e)}catch(n){throw(/No module/.test(n)||n.message.indexOf("$injector:nomod")>-1)&&(n.message='The module "'+S(e)+'" that you are trying to load does not exist. '+n.message),n}},moduleExists:_,_loadDependencies:function(n,r){var o,t,i,a=[],s=this;if(n=s._getModuleName(n),null===n)return d.when();try{o=s._getModule(n)}catch(u){return f(u)}return t=s.getRequires(o),e.forEach(t,function(o){if(e.isString(o)){var t=s.getModuleConfig(o);if(null===t)return void z.push(o);o=t,t.name=void 0}if(s.moduleExists(o.name))return i=o.files.filter(function(e){return s.getModuleConfig(o.name).files.indexOf(e)<0}),0!==i.length&&s._$log.warn('Module "',n,'" attempted to redefine configuration for dependency. "',o.name,'"\n Additional Files Loaded:',i),e.isDefined(s.filesLoader)?void a.push(s.filesLoader(o,r).then(function(){return s._loadDependencies(o)})):f(new Error("Error: New dependencies need to be loaded from external files ("+o.files+"), but no loader has been defined."));if(e.isArray(o)){var u=[];e.forEach(o,function(e){var n=s.getModuleConfig(e);null===n?u.push(e):n.files&&(u=u.concat(n.files))}),u.length>0&&(o={files:u})}else e.isObject(o)&&o.hasOwnProperty("name")&&o.name&&(s.setModuleConfig(o),z.push(o.name));if(e.isDefined(o.files)&&0!==o.files.length){if(!e.isDefined(s.filesLoader))return f(new Error('Error: the module "'+o.name+'" is defined in external files ('+o.files+"), but no loader has been defined."));a.push(s.filesLoader(o,r).then(function(){return s._loadDependencies(o)}))}}),d.all(a)},inject:function(n){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],t=this,a=d.defer();if(e.isDefined(n)&&null!==n){if(e.isArray(n)){var s=[];return e.forEach(n,function(e){s.push(t.inject(e,r,o))}),d.all(s)}t._addToLoadList(t._getModuleName(n),!0,o)}if(i.length>0){var u=i.slice(),c=function f(e){z.push(e),D[e]=a.promise,t._loadDependencies(e,r).then(function(){try{l=[],L(O,z,r)}catch(e){return t._$log.error(e.message),void a.reject(e)}i.length>0?f(i.shift()):a.resolve(u)},function(e){a.reject(e)})};c(i.shift())}else{if(r&&r.name&&D[r.name])return D[r.name];a.resolve()}return a.promise},getRequires:function(n){var o=[];return e.forEach(n.requires,function(e){-1===r.indexOf(e)&&o.push(e)}),o},_invokeQueue:j,_registerInvokeList:$,_register:L,_addToLoadList:h,_unregister:function(n){e.isDefined(n)&&e.isArray(n)&&e.forEach(n,function(e){o[e]=void 0})}}}],this._init(e.element(n.document))}]);var f=e.bootstrap;e.bootstrap=function(n,r,o){return e.forEach(r.slice(),function(e){h(e,!0,!0)}),f(n,r,o)};var h=function(n,r,o){(s.length>0||r)&&e.isString(n)&&-1===i.indexOf(n)&&(i.push(n),o&&a.push(n))},g=e.module;e.module=function(e,n,r){return h(e,!1,!0),g(e,n,r)},"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="oc.lazyLoad")}(angular,window),function(e){"use strict";e.module("oc.lazyLoad").directive("ocLazyLoad",["$ocLazyLoad","$compile","$animate","$parse","$timeout",function(n,r,o,t,i){return{restrict:"A",terminal:!0,priority:1e3,compile:function(i,a){var s=i[0].innerHTML;return i.html(""),function(i,a,u){var c=t(u.ocLazyLoad);i.$watch(function(){return c(i)||u.ocLazyLoad},function(t){e.isDefined(t)&&n.load(t).then(function(){o.enter(s,a),r(a.contents())(i)})},!0)}}}}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(n){n.decorator("$ocLazyLoad",["$delegate","$q","$window","$interval",function(n,r,o,t){var i=!1,a=!1,s=o.document.getElementsByTagName("head")[0]||o.document.getElementsByTagName("body")[0];return n.buildElement=function(u,c,l){var d,f,h=r.defer(),g=n._getFilesCache(),p=function(e){var n=(new Date).getTime();return e.indexOf("?")>=0?"&"===e.substring(0,e.length-1)?e+"_dc="+n:e+"&_dc="+n:e+"?_dc="+n};switch(e.isUndefined(g.get(c))&&g.put(c,h.promise),u){case"css":d=o.document.createElement("link"),d.type="text/css",d.rel="stylesheet",d.href=l.cache===!1?p(c):c;break;case"js":d=o.document.createElement("script"),d.src=l.cache===!1?p(c):c;break;default:g.remove(c),h.reject(new Error('Requested type "'+u+'" is not known. Could not inject "'+c+'"'))}d.onload=d.onreadystatechange=function(e){d.readyState&&!/^c|loade/.test(d.readyState)||f||(d.onload=d.onreadystatechange=null,f=1,n._broadcast("ocLazyLoad.fileLoaded",c),h.resolve())},d.onerror=function(){g.remove(c),h.reject(new Error("Unable to load "+c))},d.async=l.serie?0:1;var m=s.lastChild;if(l.insertBefore){var v=e.element(e.isDefined(window.jQuery)?l.insertBefore:document.querySelector(l.insertBefore));v&&v.length>0&&(m=v[0])}if(m.parentNode.insertBefore(d,m),"css"==u){if(!i){var y=o.navigator.userAgent.toLowerCase();if(/iP(hone|od|ad)/.test(o.navigator.platform)){var L=o.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),$=parseFloat([parseInt(L[1],10),parseInt(L[2],10),parseInt(L[3]||0,10)].join("."));a=6>$}else if(y.indexOf("android")>-1){var j=parseFloat(y.slice(y.indexOf("android")+8));a=4.4>j}else if(y.indexOf("safari")>-1){var E=y.match(/version\/([\.\d]+)/i);a=E&&E[1]&&parseFloat(E[1])<6}}if(a)var _=1e3,w=t(function(){try{d.sheet.cssRules,t.cancel(w),d.onload()}catch(e){--_<=0&&d.onerror()}},20)}return h.promise},n}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(n){n.decorator("$ocLazyLoad",["$delegate","$q",function(n,r){return n.filesLoader=function(o){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=[],a=[],s=[],u=[],c=null,l=n._getFilesCache();n.toggleWatch(!0),e.extend(t,o);var d=function(r){var o,d=null;if(e.isObject(r)&&(d=r.type,r=r.path),c=l.get(r),e.isUndefined(c)||t.cache===!1){if(null!==(o=/^(css|less|html|htm|js)?(?=!)/.exec(r))&&(d=o[1],r=r.substr(o[1].length+1,r.length)),!d)if(null!==(o=/[.](css|less|html|htm|js)?((\?|#).*)?$/.exec(r)))d=o[1];else{if(n.jsLoader.hasOwnProperty("ocLazyLoadLoader")||!n.jsLoader.hasOwnProperty("requirejs"))return void n._$log.error("File type could not be determined. "+r);d="js"}"css"!==d&&"less"!==d||-1!==i.indexOf(r)?"html"!==d&&"htm"!==d||-1!==a.indexOf(r)?"js"===d||-1===s.indexOf(r)?s.push(r):n._$log.error("File type is not valid. "+r):a.push(r):i.push(r)}else c&&u.push(c)};if(t.serie?d(t.files.shift()):e.forEach(t.files,function(e){d(e)}),i.length>0){var f=r.defer();n.cssLoader(i,function(r){e.isDefined(r)&&n.cssLoader.hasOwnProperty("ocLazyLoadLoader")?(n._$log.error(r),f.reject(r)):f.resolve()},t),u.push(f.promise)}if(a.length>0){var h=r.defer();n.templatesLoader(a,function(r){e.isDefined(r)&&n.templatesLoader.hasOwnProperty("ocLazyLoadLoader")?(n._$log.error(r),h.reject(r)):h.resolve()},t),u.push(h.promise)}if(s.length>0){var g=r.defer();n.jsLoader(s,function(r){e.isDefined(r)&&(n.jsLoader.hasOwnProperty("ocLazyLoadLoader")||n.jsLoader.hasOwnProperty("requirejs"))?(n._$log.error(r),g.reject(r)):g.resolve()},t),u.push(g.promise)}if(0===u.length){var p=r.defer(),m="Error: no file to load has been found, if you're trying to load an existing module you should use the 'inject' method instead of 'load'.";return n._$log.error(m),p.reject(m),p.promise}return t.serie&&t.files.length>0?r.all(u).then(function(){return n.filesLoader(o,t)}):r.all(u)["finally"](function(e){return n.toggleWatch(!1),e})},n.load=function(o){var t,i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=this,s=null,u=[],c=r.defer(),l=e.copy(o),d=e.copy(i);if(e.isArray(l))return e.forEach(l,function(e){u.push(a.load(e,d))}),r.all(u).then(function(e){c.resolve(e)},function(e){c.reject(e)}),c.promise;if(e.isString(l)?(s=a.getModuleConfig(l),s||(s={files:[l]})):e.isObject(l)&&(s=e.isDefined(l.path)&&e.isDefined(l.type)?{files:[l]}:a.setModuleConfig(l)),null===s){var f=a._getModuleName(l);return t='Module "'+(f||"unknown")+'" is not configured, cannot load.',n._$log.error(t),c.reject(new Error(t)),c.promise}e.isDefined(s.template)&&(e.isUndefined(s.files)&&(s.files=[]),e.isString(s.template)?s.files.push(s.template):e.isArray(s.template)&&s.files.concat(s.template));var h=e.extend({},d,s);return e.isUndefined(s.files)&&e.isDefined(s.name)&&n.moduleExists(s.name)?n.inject(s.name,h,!0):(n.filesLoader(s,h).then(function(){n.inject(null,h).then(function(e){c.resolve(e)},function(e){c.reject(e)})},function(e){c.reject(e)}),c.promise)},n}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(n){n.decorator("$ocLazyLoad",["$delegate","$q",function(n,r){return n.cssLoader=function(o,t,i){var a=[];e.forEach(o,function(e){a.push(n.buildElement("css",e,i))}),r.all(a).then(function(){t()},function(e){t(e)})},n.cssLoader.ocLazyLoadLoader=!0,n}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(n){n.decorator("$ocLazyLoad",["$delegate","$q",function(n,r){return n.jsLoader=function(o,t,i){var a=[];e.forEach(o,function(e){a.push(n.buildElement("js",e,i))}),r.all(a).then(function(){t()},function(e){t(e)})},n.jsLoader.ocLazyLoadLoader=!0,n}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(n){n.decorator("$ocLazyLoad",["$delegate","$templateCache","$q","$http",function(n,r,o,t){return n.templatesLoader=function(i,a,s){var u=[],c=n._getFilesCache();return e.forEach(i,function(n){var i=o.defer();u.push(i.promise),t.get(n,s).success(function(o){e.isString(o)&&o.length>0&&e.forEach(e.element(o),function(e){"SCRIPT"===e.nodeName&&"text/ng-template"===e.type&&r.put(e.id,e.innerHTML)}),e.isUndefined(c.get(n))&&c.put(n,!0),i.resolve()}).error(function(e){i.reject(new Error('Unable to load template file "'+n+'": '+e))})}),o.all(u).then(function(){a()},function(e){a(e)})},n.templatesLoader.ocLazyLoadLoader=!0,n}])}])}(angular),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,n){var r;if(null==this)throw new TypeError('"this" is null or not defined');var o=Object(this),t=o.length>>>0;if(0===t)return-1;var i=+n||0;if(Math.abs(i)===1/0&&(i=0),i>=t)return-1;for(r=Math.max(i>=0?i:t-Math.abs(i),0);t>r;){if(r in o&&o[r]===e)return r;r++}return-1}),!function(e,n,r){
"use strict";function t(e,n){return("string"==typeof n||n instanceof String)&&(n=new RegExp(n)),n instanceof RegExp?n.test(e):n&&Array.isArray(n.and)?n.and.every(function(n){return t(e,n)}):n&&Array.isArray(n.or)?n.or.some(function(n){return t(e,n)}):n&&n.not?!t(e,n.not):!1}function o(e,n){return("string"==typeof n||n instanceof String)&&(n=new RegExp(n)),n instanceof RegExp?n.exec(e):n&&Array.isArray(n)?n.reduce(function(n,r){return n?n:o(e,r)},null):null}r&&r.module("reTree",[]).factory("reTree",[function(){return{test:t,exec:o}}]),n&&(n.reTree={test:t,exec:o}),e&&(e.exports={test:t,exec:o})}("undefined"==typeof module?null:module,"undefined"==typeof window?null:window,"undefined"==typeof angular?null:angular),!function(o,e,n,O){"use strict";function r(o){var e=o?o.reTree:{},n=o?o.customDetectors:[],O=o?o.userAgent:"",r={raw:{userAgent:O,os:{},browser:{},device:{}}};if(r.raw.os=Object.keys(t).reduce(function(o,n){return o[t[n]]=e.test(O,_[n]),o},{}),r.raw.browser=Object.keys(S).reduce(function(o,n){return o[S[n]]=e.test(O,s[n]),o},{}),r.raw.device=Object.keys(i).reduce(function(o,n){return o[i[n]]=e.test(O,b[n]),o},{}),r.raw.os_version=Object.keys(W).reduce(function(o,n){return o[W[n]]=e.test(O,N[n]),o},{}),r.os=[t.WINDOWS,t.IOS,t.MAC,t.ANDROID,t.LINUX,t.UNIX,t.FIREFOX_OS,t.CHROME_OS,t.WINDOWS_PHONE].reduce(function(o,e){return o===t.UNKNOWN&&r.raw.os[e]?e:o},t.UNKNOWN),r.browser=[S.CHROME,S.FIREFOX,S.SAFARI,S.OPERA,S.IE,S.MS_EDGE,S.CORDOVA,S.FB_MESSENGER].reduce(function(o,e){return o===S.UNKNOWN&&r.raw.browser[e]?e:o},S.UNKNOWN),r.device=[i.ANDROID,i.I_PAD,i.IPHONE,i.I_POD,i.BLACKBERRY,i.FIREFOX_OS,i.CHROME_BOOK,i.WINDOWS_PHONE,i.PS4,i.CHROMECAST,i.APPLE_TV,i.GOOGLE_TV,i.VITA].reduce(function(o,e){return o===i.UNKNOWN&&r.raw.device[e]?e:o},i.UNKNOWN),r.os_version=[W.WINDOWS_3_11,W.WINDOWS_95,W.WINDOWS_ME,W.WINDOWS_98,W.WINDOWS_CE,W.WINDOWS_2000,W.WINDOWS_XP,W.WINDOWS_SERVER_2003,W.WINDOWS_VISTA,W.WINDOWS_7,W.WINDOWS_8_1,W.WINDOWS_8,W.WINDOWS_10,W.WINDOWS_PHONE_7_5,W.WINDOWS_PHONE_8_1,W.WINDOWS_PHONE_10,W.WINDOWS_NT_4_0,W.MACOSX,W.MACOSX_3,W.MACOSX_4,W.MACOSX_5,W.MACOSX_6,W.MACOSX_7,W.MACOSX_8,W.MACOSX_9,W.MACOSX_10,W.MACOSX_11,W.MACOSX_12,W.MACOSX_13,W.MACOSX_14,W.MACOSX_15].reduce(function(o,e){return o===W.UNKNOWN&&r.raw.os_version[e]?e:o},W.UNKNOWN),r.browser_version="0",r.browser!==S.UNKNOWN){var a=d[r.browser],E=e.exec(O,a);E&&(r.browser_version=E[1])}return r.isMobile=function(){return[i.ANDROID,i.I_PAD,i.IPHONE,i.I_POD,i.BLACKBERRY,i.FIREFOX_OS,i.WINDOWS_PHONE,i.VITA].some(function(o){return r.device==o})},r.isTablet=function(){return[i.I_PAD,i.FIREFOX_OS].some(function(o){return r.device==o})},r.isDesktop=function(){return[i.PS4,i.CHROME_BOOK,i.UNKNOWN].some(function(o){return r.device==o})},r.custom=n.reduce(function(o,n){return o[n.name]=e.test(O,n.re),o},{}),r}var S={CHROME:"chrome",FIREFOX:"firefox",SAFARI:"safari",OPERA:"opera",IE:"ie",MS_EDGE:"ms-edge",FB_MESSENGER:"fb-messenger",CORDOVA:"cordova",UNKNOWN:"unknown"},i={ANDROID:"android",I_PAD:"ipad",IPHONE:"iphone",I_POD:"ipod",BLACKBERRY:"blackberry",FIREFOX_OS:"firefox-os",CHROME_BOOK:"chrome-book",WINDOWS_PHONE:"windows-phone",PS4:"ps4",VITA:"vita",CHROMECAST:"chromecast",APPLE_TV:"apple-tv",GOOGLE_TV:"google-tv",UNKNOWN:"unknown"},t={WINDOWS:"windows",MAC:"mac",IOS:"ios",ANDROID:"android",LINUX:"linux",UNIX:"unix",FIREFOX_OS:"firefox-os",CHROME_OS:"chrome-os",WINDOWS_PHONE:"windows-phone",UNKNOWN:"unknown"},W={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",UNKNOWN:"unknown"},_={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:/Windows Phone/}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/Windows Phone/}]},ANDROID:{and:[/\bAndroid\b/,{not:/Windows Phone/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},s={CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdge\b/,/\bCordova\b/]}}]},FIREFOX:{and:[{or:[/\bFirefox\b/,/\bFxiOS\b/]},{not:/\bCordova\b/}]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdge\b/,/Windows Phone/,/\bCordova\b/,/\bChrome\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdge\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,CORDOVA:/\bCordova\b/,FB_MESSENGER:/\bFBAN\/MessengerForiOS\b/},b={ANDROID:{and:[/\bAndroid\b/,{not:/Windows Phone/}]},I_PAD:/\biPad\b/,IPHONE:{and:[/\biPhone\b/,{not:/Windows Phone/}]},I_POD:/\biPod\b/,BLACKBERRY:/\bblackberry\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},N={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/},a={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome Safari\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:/\bVersion\/([\d\.]+)\b/,OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],CORDOVA:/\bCordova\/([\d\.]+)\b/,MS_EDGE:/\bEdge\/([\d\.]+)\b/},d=Object.keys(a).reduce(function(o,e){return o[S[e]]=a[e],o},{});if(Object.keys||(Object.keys=function(){var o=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],O=n.length;return function(r){if("object"!=typeof r&&("function"!=typeof r||null===r))throw new TypeError("Object.keys called on non-object");var S,i,t=[];for(S in r)o.call(r,S)&&t.push(S);if(e)for(i=0;O>i;i++)o.call(r,n[i])&&t.push(n[i]);return t}}()),Array.prototype.reduce||(Array.prototype.reduce=function(o){if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof o)throw new TypeError(o+" is not a function");var e,n=Object(this),O=n.length>>>0,r=0;if(2==arguments.length)e=arguments[1];else{for(;O>r&&!(r in n);)r++;if(r>=O)throw new TypeError("Reduce of empty array with no initial value");e=n[r++]}for(;O>r;r++)r in n&&(e=o(e,n[r],r,n));return e}),O&&O.module("uaDeviceDetector",["reTree"]).constant("OS_RE",_).constant("BROWSERS_RE",s).constant("DEVICES_RE",b).constant("OS_VERSIONS_RE",N).constant("BROWSER_VERSIONS_RE_MAP",a).constant("BROWSER_VERSIONS_RE",d).constant("BROWSERS",S).constant("DEVICES",i).constant("OS",t).constant("OS_VERSIONS",W).factory("uaDeviceDetector",["reTree",function(o){return{parseUserAgent:function(e,n){return r({reTree:o||{},customDetectors:n||[],userAgent:e||""})},BROWSERS:S,DEVICES:i,OS:t}}]),n&&(n.uaDeviceDetector={parseUserAgent:function(o,e){return r({reTree:n.reTree||{},customDetectors:e||[],userAgent:o||""})},BROWSERS:S,DEVICES:i,OS:t}),o&&e){var E=e("re-tree");o.exports={parseUserAgent:function(o,e){return r({reTree:E||{},customDetectors:e||[],userAgent:o||""})},BROWSERS:S,DEVICES:i,OS:t}}}("undefined"==typeof module?null:module,"undefined"==typeof require?null:require,"undefined"==typeof window?null:window,"undefined"==typeof angular?null:angular),function(angular){"use strict";angular.module("ng.deviceDetector",["reTree","uaDeviceDetector"]).service("detectUtils",["deviceDetector","uaDeviceDetector",function(deviceDetector,uaDeviceDetector){var deviceInfo=deviceDetector;this.isMobile=function(){return"unknown"!==deviceInfo.device},this.isAndroid=function(){return deviceInfo.device===uaDeviceDetector.DEVICES.ANDROID||deviceInfo.OS===uaDeviceDetector.OS.ANDROID},this.isIOS=function(){return deviceInfo.os===uaDeviceDetector.OS.IOS||deviceInfo.device===uaDeviceDetector.DEVICES.I_POD||deviceInfo.device===uaDeviceDetector.DEVICES.IPHONE}}]).provider("deviceDetector",function(){var customDetectors=[];this.addCustom=function(customDetectorName,customDetectorRE){customDetectors.push({name:customDetectorName,re:customDetectorRE})},this.$get=["$window","uaDeviceDetector","reTree",function($window,uaDeviceDetector,reTree){var ua=$window.navigator.userAgent,deviceInfo=uaDeviceDetector.parseUserAgent(ua);return deviceInfo.parseUserAgent=uaDeviceDetector.parseUserAgent,deviceInfo}]}).directive("deviceDetector",["deviceDetector",function(deviceDetector){function customClassName(name){return"is-"+name.toLowerCase().replace(/[^0-9a-z]+/g,"-")}return{restrict:"A",link:function(scope,elm){elm.addClass("os-"+deviceDetector.os),elm.addClass("browser-"+deviceDetector.browser),elm.addClass("device-"+deviceDetector.device),elm.toggleClass("is-mobile",deviceDetector.isMobile()),elm.toggleClass("is-tablet",deviceDetector.isTablet()),elm.toggleClass("is-desktop",deviceDetector.isDesktop()),Object.keys(deviceDetector.custom).forEach(function(customKey){elm.toggleClass(customClassName(customKey),deviceDetector.custom[customKey])})}}}])}(angular),!function(e,r,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define(n):r[e]=n()}("ngWebworker",this,function(){"use strict";var e=angular.module("ngWebworker",[]),r="function",n="return",t="complete",o="notice";return e.provider("Webworker",function(){function e(e){function s(e,r){var n=function(){};r.external||!r.useHelper?this.oWorker=new Worker(e):(this.oWorker=new Worker(i.helperPath),this.strWorkerFunc=e),this.config=angular.extend({onMessage:n,onError:n,onReturn:n,onComplete:n,onNotice:n},r),r.onmessage&&(this.config.onMessage=r.onmessage,this.config.onError=r.onerror)}function a(e,r){var n=[];return r.config.transferOwnership&&!r.config.useHelper&&angular.forEach(e,function(e){e instanceof ArrayBuffer&&n.push(e)}),n}function complete(e){postMessage(["complete",e],_transferable_(e))}function notify(e){postMessage(["notice",e])}this.create=function(e,t){function _transferable_(e){var r=[];return"[object Array]"!=Object.prototype.toString.apply(e)&&(e=[e]),e.forEach(function(e){e instanceof ArrayBuffer&&r.push(e)}),r}var o,a,u,l,c=window,f=c.URL||c.webkitURL;if(t=t||{},t=angular.extend(angular.copy(i),t),(-1!==navigator.userAgent.indexOf("MSIE")||-1!==navigator.userAgent.indexOf("Edge")||navigator.appVersion.indexOf("Trident/")>0)&&(t.useHelper=!0),Worker&&f&&f.createObjectURL&&(Blob||c.BlobBuilder||c.WebKitBlobBuilder||c.MozBlobBuilder))if(typeof e==r){t.external=!1,t.useHelper||(o=/function\s*(\w*)(.*)/.exec(e.toString()),o[1]=o[1]||"a",a="function "+o[1]+o[2],a+=e.toString().substring(o[0].length),a+=";onmessage=function(e){;var result = "+o[1]+".apply(null,e.data);postMessage(['"+n+"', result], !_async_ ? _transferable_(result) : [])};",a+="var _async_ = "+t.async+";"+_transferable_.toString(),c.Blob?u=new Blob([complete,notify,a],{type:"application/javascript"}):(c.BlobBuilder||c.WebKitBlobBuilder||c.MozBlobBuilder||c.MSBlobBuilder)&&(c.BlobBuilder=c.BlobBuilder||c.WebKitBlobBuilder||c.MozBlobBuilder||c.MSBlobBuilder,u=new BlobBuilder,u.append(complete),u.append(notify),u.append(a),u=u.getBlob()));try{t.useHelper?(o=/function\s*(\w*)(.*)/.exec(e.toString()),o[1]=o[1]||"a",a="function "+o[1]+o[2],a+=e.toString().substring(o[0].length),l=new s(a,t)):l=new s(f.createObjectURL(u),t)}catch(p){}}else t.external=!0,l=new s(e,t);return l},s.prototype.run=function(){var r,i=e.defer(),s=this;return this.oWorker.onmessage=function(e){var r,a=e.data;s.config.external&&!s.config.async?i.resolve(a):(r=e.data.shift(),a=e.data[0],s.config.onMessage(e),r!=t&&r!=n&&i.notify(a),r==n?(s.config.async||i.resolve(a),s.config.onReturn(a)):r==t?(i.resolve(a),s.config.onComplete(a)):r==o&&s.config.onNotice(a))},this.oWorker.onerror=function(e){i.reject(e)},r=s.config.external||!s.config.useHelper?Array.prototype.slice.call(arguments):{fn:s.strWorkerFunc,args:Array.prototype.slice.call(arguments)},this.oWorker.postMessage(r,a(r,this)),s.config.external||s.config.useHelper||i.promise["finally"](function(){s.terminate()}),i.promise},s.prototype.stop=function(){this.oWorker.onerror(new Error("stopped")),this.terminate()},s.prototype.terminate=function(){this.oWorker.terminate()}}var i={async:!1,helperPath:"worker_wrapper.js",useHelper:!1,transferOwnership:!0};this.setConfig=function(e){angular.extend(i,e)},this.setHelperPath=function(e){i.helperPath=e},this.setUseHelper=function(e){i.useHelper=!!e},this.setTransferOwnership=function(e){i.transferOwnership=!!e},this.$get=["$q",function(r){return new e(r)}]}),e}),!function(t,e,n,o){"use strict";function i(t,e){var o,i,a=[],s=0;t&&t.isDefaultPrevented()||(t.preventDefault(),e=t&&t.data?t.data.options:e||{},o=e.$target||n(t.currentTarget),i=o.attr("data-fancybox")||"",i?(a=e.selector?n(e.selector):t.data?t.data.items:[],a=a.length?a.filter('[data-fancybox="'+i+'"]'):n('[data-fancybox="'+i+'"]'),s=a.index(o),0>s&&(s=0)):a=[o],n.fancybox.open(a,e,s))}if(t.console=t.console||{info:function(t){}},n){if(n.fn.fancybox)return void 0;var a={loop:!1,gutter:50,keyboard:!0,arrows:!0,infobar:!0,smallBtn:"auto",toolbar:"auto",buttons:["zoom","thumbs","close"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},defaultType:"image",animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><div class="fancybox-toolbar">{{buttons}}</div><div class="fancybox-navigation">{{arrows}}</div><div class="fancybox-stage"></div><div class="fancybox-caption"></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}</p></div>',btnTpl:{download:'<a download data-fancybox-download class="fancybox-button fancybox-button--download" title="{{DOWNLOAD}}" href="javascript:;"><svg viewBox="0 0 40 40"><path d="M13,16 L20,23 L27,16 M20,7 L20,23 M10,24 L10,28 L30,28 L30,24" /></svg></a>',zoom:'<button data-fancybox-zoom class="fancybox-button fancybox-button--zoom" title="{{ZOOM}}"><svg viewBox="0 0 40 40"><path d="M18,17 m-8,0 a8,8 0 1,0 16,0 a8,8 0 1,0 -16,0 M24,22 L31,29" /></svg></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><svg viewBox="0 0 40 40"><path d="M10,10 L30,30 M30,10 L10,30" /></svg></button>',smallBtn:'<button data-fancybox-close class="fancybox-close-small" title="{{CLOSE}}"><svg viewBox="0 0 32 32"><path d="M10,10 L22,22 M22,10 L10,22"></path></svg></button>',arrowLeft:'<a data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title="{{PREV}}" href="javascript:;"><svg viewBox="0 0 40 40"><path d="M18,12 L10,20 L18,28 M10,20 L30,20"></path></svg></a>',arrowRight:'<a data-fancybox-next class="fancybox-button fancybox-button--arrow_right" title="{{NEXT}}" href="javascript:;"><svg viewBox="0 0 40 40"><path d="M10,20 L30,20 M22,12 L30,20 L22,28"></path></svg></a>'},parentEl:"body",autoFocus:!1,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:4e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"},wheel:"auto",onInit:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeClose:n.noop,afterClose:n.noop,onActivate:n.noop,onDeactivate:n.noop,clickContent:function(t,e){return"image"===t.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{idleTime:!1,clickContent:function(t,e){return"image"===t.type&&"toggleControls"},clickSlide:function(t,e){return"image"===t.type?"toggleControls":"close"},dblclickContent:function(t,e){return"image"===t.type&&"zoom"},dblclickSlide:function(t,e){return"image"===t.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schliessen",NEXT:"Weiter",PREV:"Zur\xfcck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp\xe4ter nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Ma\xdfstab"}}},s=n(t),r=n(e),c=0,l=function(t){return t&&t.hasOwnProperty&&t instanceof n},d=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)}}(),u=function(){var t,n=e.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in i)if(n.style[t]!==o)return i[t];return"transitionend"}(),f=function(t){return t&&t.length&&t[0].offsetHeight},p=function(t,e){var o=n.extend(!0,{},t,e);return n.each(e,function(t,e){n.isArray(e)&&(o[t]=e)}),o},h=function(t,o,i){var a=this;a.opts=p({index:i},n.fancybox.defaults),n.isPlainObject(o)&&(a.opts=p(a.opts,o)),n.fancybox.isMobile&&(a.opts=p(a.opts,a.opts.mobile)),a.id=a.opts.id||++c,a.currIndex=parseInt(a.opts.index,10)||0,a.prevIndex=null,a.prevPos=null,a.currPos=0,a.firstRun=!0,a.group=[],a.slides={},a.addContent(t),a.group.length&&(a.$lastFocus=n(e.activeElement).trigger("blur"),a.init())};n.extend(h.prototype,{init:function(){var i,a,s,r=this,c=r.group[r.currIndex],l=c.opts,d=n.fancybox.scrollbarWidth;n.fancybox.getInstance()||l.hideScrollbar===!1||(n("body").addClass("fancybox-active"),!n.fancybox.isMobile&&e.body.scrollHeight>t.innerHeight&&(d===o&&(i=n('<div style="width:100px;height:100px;overflow:scroll;" />').appendTo("body"),d=n.fancybox.scrollbarWidth=i[0].offsetWidth-i[0].clientWidth,i.remove()),n("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar { margin-right: '+d+"px; }</style>"),n("body").addClass("compensate-for-scrollbar"))),s="",n.each(l.buttons,function(t,e){s+=l.btnTpl[e]||""}),a=n(r.translate(r,l.baseTpl.replace("{{buttons}}",s).replace("{{arrows}}",l.btnTpl.arrowLeft+l.btnTpl.arrowRight))).attr("id","fancybox-container-"+r.id).addClass("fancybox-is-hidden").addClass(l.baseClass).data("FancyBox",r).appendTo(l.parentEl),r.$refs={container:a},["bg","inner","infobar","toolbar","stage","caption","navigation"].forEach(function(t){r.$refs[t]=a.find(".fancybox-"+t)}),r.trigger("onInit"),r.activate(),r.jumpTo(r.currIndex)},translate:function(t,e){var n=t.opts.i18n[t.opts.lang];return e.replace(/\{\{(\w+)\}\}/g,function(t,e){var i=n[e];return i===o?t:i})},addContent:function(t){var e,i=this,a=n.makeArray(t);n.each(a,function(t,e){var a,s,r,c,l,d={},u={};n.isPlainObject(e)?(d=e,u=e.opts||e):"object"===n.type(e)&&n(e).length?(a=n(e),u=a.data()||{},u=n.extend(!0,{},u,u.options),u.$orig=a,d.src=i.opts.src||u.src||a.attr("href"),d.type||d.src||(d.type="inline",d.src=e)):d={type:"html",src:e+""},d.opts=n.extend(!0,{},i.opts,u),n.isArray(u.buttons)&&(d.opts.buttons=u.buttons),s=d.type||d.opts.type,c=d.src||"",!s&&c&&((r=c.match(/\.(mp4|mov|ogv)((\?|#).*)?$/i))?(s="video",d.opts.videoFormat||(d.opts.videoFormat="video/"+("ogv"===r[1]?"ogg":r[1]))):c.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?s="image":c.match(/\.(pdf)((\?|#).*)?$/i)?s="iframe":"#"===c.charAt(0)&&(s="inline")),s?d.type=s:i.trigger("objectNeedsType",d),d.contentType||(d.contentType=n.inArray(d.type,["html","inline","ajax"])>-1?"html":d.type),d.index=i.group.length,"auto"==d.opts.smallBtn&&(d.opts.smallBtn=n.inArray(d.type,["html","inline","ajax"])>-1),"auto"===d.opts.toolbar&&(d.opts.toolbar=!d.opts.smallBtn),d.opts.$trigger&&d.index===i.opts.index&&(d.opts.$thumb=d.opts.$trigger.find("img:first")),d.opts.$thumb&&d.opts.$thumb.length||!d.opts.$orig||(d.opts.$thumb=d.opts.$orig.find("img:first")),"function"===n.type(d.opts.caption)&&(d.opts.caption=d.opts.caption.apply(e,[i,d])),"function"===n.type(i.opts.caption)&&(d.opts.caption=i.opts.caption.apply(e,[i,d])),d.opts.caption instanceof n||(d.opts.caption=d.opts.caption===o?"":d.opts.caption+""),"ajax"===d.type&&(l=c.split(/\s+/,2),l.length>1&&(d.src=l.shift(),d.opts.filter=l.shift())),d.opts.modal&&(d.opts=n.extend(!0,d.opts,{infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),i.group.push(d)}),Object.keys(i.slides).length&&(i.updateControls(),e=i.Thumbs,e&&e.isActive&&(e.create(),e.focus()))},addEvents:function(){var o=this;o.removeEvents(),o.$refs.container.on("click.fb-close","[data-fancybox-close]",function(t){t.stopPropagation(),t.preventDefault(),o.close(t)}).on("touchstart.fb-prev click.fb-prev","[data-fancybox-prev]",function(t){t.stopPropagation(),t.preventDefault(),o.previous()}).on("touchstart.fb-next click.fb-next","[data-fancybox-next]",function(t){t.stopPropagation(),t.preventDefault(),o.next()}).on("click.fb","[data-fancybox-zoom]",function(t){o[o.isScaledDown()?"scaleToActual":"scaleToFit"]()}),s.on("orientationchange.fb resize.fb",function(t){t&&t.originalEvent&&"resize"===t.originalEvent.type?d(function(){o.update()}):(o.$refs.stage.hide(),setTimeout(function(){o.$refs.stage.show(),o.update()},n.fancybox.isMobile?600:250))}),r.on("focusin.fb",function(t){var o=n.fancybox?n.fancybox.getInstance():null;o.isClosing||!o.current||!o.current.opts.trapFocus||n(t.target).hasClass("fancybox-container")||n(t.target).is(e)||o&&"fixed"!==n(t.target).css("position")&&!o.$refs.container.has(t.target).length&&(t.stopPropagation(),o.focus())}),r.on("keydown.fb",function(t){var e=o.current,i=t.keyCode||t.which;return e&&e.opts.keyboard&&!(t.ctrlKey||t.altKey||t.shiftKey||n(t.target).is("input")||n(t.target).is("textarea"))?8===i||27===i?(t.preventDefault(),void o.close(t)):37===i||38===i?(t.preventDefault(),void o.previous()):39===i||40===i?(t.preventDefault(),void o.next()):void o.trigger("afterKeydown",t,i):void 0}),o.group[o.currIndex].opts.idleTime&&(o.idleSecondsCounter=0,r.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(t){o.idleSecondsCounter=0,o.isIdle&&o.showControls(),o.isIdle=!1}),o.idleInterval=t.setInterval(function(){o.idleSecondsCounter++,o.idleSecondsCounter>=o.group[o.currIndex].opts.idleTime&&!o.isDragging&&(o.isIdle=!0,o.idleSecondsCounter=0,o.hideControls())},1e3))},removeEvents:function(){var e=this;s.off("orientationchange.fb resize.fb"),r.off("focusin.fb keydown.fb .fb-idle"),this.$refs.container.off(".fb-close .fb-prev .fb-next"),e.idleInterval&&(t.clearInterval(e.idleInterval),e.idleInterval=null)},previous:function(t){return this.jumpTo(this.currPos-1,t)},next:function(t){return this.jumpTo(this.currPos+1,t)},jumpTo:function(t,e){var i,a,s,r,c,l,d,u=this,p=u.group.length;if(!(u.isDragging||u.isClosing||u.isAnimating&&u.firstRun)){if(t=parseInt(t,10),a=u.current?u.current.opts.loop:u.opts.loop,!a&&(0>t||t>=p))return!1;if(i=u.firstRun=!Object.keys(u.slides).length,!(2>p&&!i&&u.isDragging)){if(r=u.current,u.prevIndex=u.currIndex,u.prevPos=u.currPos,s=u.createSlide(t),p>1&&((a||s.index>0)&&u.createSlide(t-1),(a||s.index<p-1)&&u.createSlide(t+1)),u.current=s,u.currIndex=s.index,u.currPos=s.pos,u.trigger("beforeShow",i),u.updateControls(),l=n.fancybox.getTranslate(s.$slide),s.isMoved=(0!==l.left||0!==l.top)&&!s.$slide.hasClass("fancybox-animated"),s.forcedDuration=o,n.isNumeric(e)?s.forcedDuration=e:e=s.opts[i?"animationDuration":"transitionDuration"],e=parseInt(e,10),i)return s.opts.animationEffect&&e&&u.$refs.container.css("transition-duration",e+"ms"),u.$refs.container.removeClass("fancybox-is-hidden"),f(u.$refs.container),u.$refs.container.addClass("fancybox-is-open"),f(u.$refs.container),s.$slide.addClass("fancybox-slide--previous"),u.loadSlide(s),s.$slide.removeClass("fancybox-slide--previous").addClass("fancybox-slide--current"),void u.preload("image");n.each(u.slides,function(t,e){n.fancybox.stop(e.$slide)}),s.$slide.removeClass("fancybox-slide--next fancybox-slide--previous").addClass("fancybox-slide--current"),s.isMoved?(c=Math.round(s.$slide.width()),n.each(u.slides,function(t,o){var i=o.pos-s.pos;n.fancybox.animate(o.$slide,{top:0,left:i*c+i*o.opts.gutter},e,function(){o.$slide.removeAttr("style").removeClass("fancybox-slide--next fancybox-slide--previous"),o.pos===u.currPos&&(s.isMoved=!1,u.complete())})})):u.$refs.stage.children().removeAttr("style"),s.isLoaded?u.revealContent(s):u.loadSlide(s),u.preload("image"),r.pos!==s.pos&&(d="fancybox-slide--"+(r.pos>s.pos?"next":"previous"),r.$slide.removeClass("fancybox-slide--complete fancybox-slide--current fancybox-slide--next fancybox-slide--previous"),r.isComplete=!1,e&&(s.isMoved||s.opts.transitionEffect)&&(s.isMoved?r.$slide.addClass(d):(d="fancybox-animated "+d+" fancybox-fx-"+s.opts.transitionEffect,n.fancybox.animate(r.$slide,d,e,function(){r.$slide.removeClass(d).removeAttr("style")}))))}}},createSlide:function(t){var e,o,i=this;return o=t%i.group.length,o=0>o?i.group.length+o:o,!i.slides[t]&&i.group[o]&&(e=n('<div class="fancybox-slide"></div>').appendTo(i.$refs.stage),i.slides[t]=n.extend(!0,{},i.group[o],{pos:t,$slide:e,isLoaded:!1}),i.updateSlide(i.slides[t])),i.slides[t]},scaleToActual:function(t,e,i){var a,s,r,c,l,d=this,u=d.current,f=u.$content,p=n.fancybox.getTranslate(u.$slide).width,h=n.fancybox.getTranslate(u.$slide).height,g=u.width,b=u.height;!d.isAnimating&&f&&"image"==u.type&&u.isLoaded&&!u.hasError&&(n.fancybox.stop(f),d.isAnimating=!0,t=t===o?.5*p:t,e=e===o?.5*h:e,a=n.fancybox.getTranslate(f),a.top-=n.fancybox.getTranslate(u.$slide).top,a.left-=n.fancybox.getTranslate(u.$slide).left,c=g/a.width,l=b/a.height,s=.5*p-.5*g,r=.5*h-.5*b,g>p&&(s=a.left*c-(t*c-t),s>0&&(s=0),p-g>s&&(s=p-g)),b>h&&(r=a.top*l-(e*l-e),r>0&&(r=0),h-b>r&&(r=h-b)),d.updateCursor(g,b),n.fancybox.animate(f,{top:r,left:s,scaleX:c,scaleY:l},i||330,function(){d.isAnimating=!1}),d.SlideShow&&d.SlideShow.isActive&&d.SlideShow.stop())},scaleToFit:function(t){var e,o=this,i=o.current,a=i.$content;!o.isAnimating&&a&&"image"==i.type&&i.isLoaded&&!i.hasError&&(n.fancybox.stop(a),o.isAnimating=!0,e=o.getFitPos(i),o.updateCursor(e.width,e.height),n.fancybox.animate(a,{top:e.top,left:e.left,scaleX:e.width/a.width(),scaleY:e.height/a.height()},t||330,function(){o.isAnimating=!1}))},getFitPos:function(t){var e,n,o,i,a,s=this,r=t.$content,c=t.width||t.opts.width,l=t.height||t.opts.height,d={};return!!(t.isLoaded&&r&&r.length)&&(i={top:parseInt(t.$slide.css("paddingTop"),10),right:parseInt(t.$slide.css("paddingRight"),10),bottom:parseInt(t.$slide.css("paddingBottom"),10),left:parseInt(t.$slide.css("paddingLeft"),10)},e=parseInt(s.$refs.stage.width(),10)-(i.left+i.right),n=parseInt(s.$refs.stage.height(),10)-(i.top+i.bottom),c&&l||(c=e,l=n),o=Math.min(1,e/c,n/l),c=Math.floor(o*c),l=Math.floor(o*l),"image"===t.type?(d.top=Math.floor(.5*(n-l))+i.top,d.left=Math.floor(.5*(e-c))+i.left):"video"===t.contentType&&(a=t.opts.width&&t.opts.height?c/l:t.opts.ratio||16/9,l>c/a?l=c/a:c>l*a&&(c=l*a)),d.width=c,d.height=l,d)},update:function(){var t=this;n.each(t.slides,function(e,n){t.updateSlide(n)})},updateSlide:function(t,e){var o=this,i=t&&t.$content,a=t.width||t.opts.width,s=t.height||t.opts.height;i&&(a||s||"video"===t.contentType)&&!t.hasError&&(n.fancybox.stop(i),n.fancybox.setTranslate(i,o.getFitPos(t)),t.pos===o.currPos&&(o.isAnimating=!1,o.updateCursor())),t.$slide.trigger("refresh"),o.$refs.toolbar.toggleClass("compensate-for-scrollbar",t.$slide.get(0).scrollHeight>t.$slide.get(0).clientHeight),o.trigger("onUpdate",t)},centerSlide:function(t,e){var i,a,s=this;s.current&&(i=Math.round(t.$slide.width()),a=t.pos-s.current.pos,n.fancybox.animate(t.$slide,{top:0,left:a*i+a*t.opts.gutter,opacity:1},e===o?0:e,null,!1))},updateCursor:function(t,e){var o,i=this,a=i.current,s=i.$refs.container.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-drag fancybox-can-zoomOut");a&&!i.isClosing&&(o=i.isZoomable(),s.toggleClass("fancybox-is-zoomable",o),n("[data-fancybox-zoom]").prop("disabled",!o),o&&("zoom"===a.opts.clickContent||n.isFunction(a.opts.clickContent)&&"zoom"===a.opts.clickContent(a))?i.isScaledDown(t,e)?s.addClass("fancybox-can-zoomIn"):a.opts.touch?s.addClass("fancybox-can-drag"):s.addClass("fancybox-can-zoomOut"):a.opts.touch&&"video"!==a.contentType&&s.addClass("fancybox-can-drag"))},isZoomable:function(){var t,e=this,n=e.current;if(n&&!e.isClosing&&"image"===n.type&&!n.hasError){if(!n.isLoaded)return!0;if(t=e.getFitPos(n),n.width>t.width||n.height>t.height)return!0}return!1},isScaledDown:function(t,e){var i=this,a=!1,s=i.current,r=s.$content;return t!==o&&e!==o?a=t<s.width&&e<s.height:r&&(a=n.fancybox.getTranslate(r),a=a.width<s.width&&a.height<s.height),a},canPan:function(){var t,e=this,n=!1,o=e.current;return"image"===o.type&&(t=o.$content)&&!o.hasError&&(n=e.getFitPos(o),n=Math.abs(t.width()-n.width)>1||Math.abs(t.height()-n.height)>1),n},loadSlide:function(t){var e,o,i,a=this;if(!t.isLoading&&!t.isLoaded){switch(t.isLoading=!0,a.trigger("beforeLoad",t),e=t.type,o=t.$slide,o.off("refresh").trigger("onReset").addClass(t.opts.slideClass),e){case"image":a.setImage(t);break;case"iframe":a.setIframe(t);break;case"html":a.setContent(t,t.src||t.content);break;case"video":a.setContent(t,'<video class="fancybox-video" controls controlsList="nodownload"><source src="'+t.src+'" type="'+t.opts.videoFormat+"\">Your browser doesn't support HTML5 video</video");break;case"inline":n(t.src).length?a.setContent(t,n(t.src)):a.setError(t);break;case"ajax":a.showLoading(t),i=n.ajax(n.extend({},t.opts.ajax.settings,{url:t.src,success:function(e,n){"success"===n&&a.setContent(t,e)},error:function(e,n){e&&"abort"!==n&&a.setError(t)}})),o.one("onReset",function(){i.abort()});break;default:a.setError(t)}return!0}},setImage:function(e){var o,i,a,s,r,c=this,l=e.opts.srcset||e.opts.image.srcset;if(e.timouts=setTimeout(function(){var t=e.$image;!e.isLoading||t&&t[0].complete||e.hasError||c.showLoading(e)},350),l){s=t.devicePixelRatio||1,r=t.innerWidth*s,a=l.split(",").map(function(t){var e={};return t.trim().split(/\s+/).forEach(function(t,n){
var o=parseInt(t.substring(0,t.length-1),10);return 0===n?e.url=t:void(o&&(e.value=o,e.postfix=t[t.length-1]))}),e}),a.sort(function(t,e){return t.value-e.value});for(var d=0;d<a.length;d++){var u=a[d];if("w"===u.postfix&&u.value>=r||"x"===u.postfix&&u.value>=s){i=u;break}}!i&&a.length&&(i=a[a.length-1]),i&&(e.src=i.url,e.width&&e.height&&"w"==i.postfix&&(e.height=e.width/e.height*i.value,e.width=i.value),e.opts.srcset=l)}e.$content=n('<div class="fancybox-content"></div>').addClass("fancybox-is-hidden").appendTo(e.$slide.addClass("fancybox-slide--image")),o=e.opts.thumb||!(!e.opts.$thumb||!e.opts.$thumb.length)&&e.opts.$thumb.attr("src"),e.opts.preload!==!1&&e.opts.width&&e.opts.height&&o&&(e.width=e.opts.width,e.height=e.opts.height,e.$ghost=n("<img />").one("error",function(){n(this).remove(),e.$ghost=null}).one("load",function(){c.afterLoad(e)}).addClass("fancybox-image").appendTo(e.$content).attr("src",o)),c.setBigImage(e)},setBigImage:function(t){var e=this,o=n("<img />");t.$image=o.one("error",function(){e.setError(t)}).one("load",function(){var n;t.$ghost||(e.resolveImageSlideSize(t,this.naturalWidth,this.naturalHeight),e.afterLoad(t)),t.timouts&&(clearTimeout(t.timouts),t.timouts=null),e.isClosing||(t.opts.srcset&&(n=t.opts.sizes,n&&"auto"!==n||(n=(t.width/t.height>1&&s.width()/s.height()>1?"100":Math.round(t.width/t.height*100))+"vw"),o.attr("sizes",n).attr("srcset",t.opts.srcset)),t.$ghost&&setTimeout(function(){t.$ghost&&!e.isClosing&&t.$ghost.hide()},Math.min(300,Math.max(1e3,t.height/1600))),e.hideLoading(t))}).addClass("fancybox-image").attr("src",t.src).appendTo(t.$content),(o[0].complete||"complete"==o[0].readyState)&&o[0].naturalWidth&&o[0].naturalHeight?o.trigger("load"):o[0].error&&o.trigger("error")},resolveImageSlideSize:function(t,e,n){var o=parseInt(t.opts.width,10),i=parseInt(t.opts.height,10);t.width=e,t.height=n,o>0&&(t.width=o,t.height=Math.floor(o*n/e)),i>0&&(t.width=Math.floor(i*e/n),t.height=i)},setIframe:function(t){var e,i=this,a=t.opts.iframe,s=t.$slide;t.$content=n('<div class="fancybox-content'+(a.preload?" fancybox-is-hidden":"")+'"></div>').css(a.css).appendTo(s),s.addClass("fancybox-slide--"+t.contentType),t.$iframe=e=n(a.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(a.attr).appendTo(t.$content),a.preload?(i.showLoading(t),e.on("load.fb error.fb",function(e){this.isReady=1,t.$slide.trigger("refresh"),i.afterLoad(t)}),s.on("refresh.fb",function(){var n,i,s=t.$content,r=a.css.width,c=a.css.height;if(1===e[0].isReady){try{n=e.contents(),i=n.find("body")}catch(t){}i&&i.length&&i.children().length&&(s.css({width:"",height:""}),r===o&&(r=Math.ceil(Math.max(i[0].clientWidth,i.outerWidth(!0)))),r&&s.width(r),c===o&&(c=Math.ceil(Math.max(i[0].clientHeight,i.outerHeight(!0)))),c&&s.height(c)),s.removeClass("fancybox-is-hidden")}})):this.afterLoad(t),e.attr("src",t.src),s.one("onReset",function(){try{n(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(t){}n(this).off("refresh.fb").empty(),t.isLoaded=!1})},setContent:function(t,e){var o=this;o.isClosing||(o.hideLoading(t),t.$content&&n.fancybox.stop(t.$content),t.$slide.empty(),l(e)&&e.parent().length?(e.parent().parent(".fancybox-slide--inline").trigger("onReset"),t.$placeholder=n("<div>").hide().insertAfter(e),e.css("display","inline-block")):t.hasError||("string"===n.type(e)&&(e=n("<div>").append(n.trim(e)).contents(),3===e[0].nodeType&&(e=n("<div>").html(e))),t.opts.filter&&(e=n("<div>").html(e).find(t.opts.filter))),t.$slide.one("onReset",function(){n(this).find("video,audio").trigger("pause"),t.$placeholder&&(t.$placeholder.after(e.hide()).remove(),t.$placeholder=null),t.$smallBtn&&(t.$smallBtn.remove(),t.$smallBtn=null),t.hasError||(n(this).empty(),t.isLoaded=!1)}),n(e).appendTo(t.$slide),n(e).is("video,audio")&&(n(e).addClass("fancybox-video"),n(e).wrap("<div></div>"),t.contentType="video",t.opts.width=t.opts.width||n(e).attr("width"),t.opts.height=t.opts.height||n(e).attr("height")),t.$content=t.$slide.children().filter("div,form,main,video,audio").first().addClass("fancybox-content"),t.$slide.addClass("fancybox-slide--"+t.contentType),this.afterLoad(t))},setError:function(t){t.hasError=!0,t.$slide.trigger("onReset").removeClass("fancybox-slide--"+t.contentType).addClass("fancybox-slide--error"),t.contentType="html",this.setContent(t,this.translate(t,t.opts.errorTpl)),t.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(t){var e=this;t=t||e.current,t&&!t.$spinner&&(t.$spinner=n(e.translate(e,e.opts.spinnerTpl)).appendTo(t.$slide))},hideLoading:function(t){var e=this;t=t||e.current,t&&t.$spinner&&(t.$spinner.remove(),delete t.$spinner)},afterLoad:function(t){var e=this;e.isClosing||(t.isLoading=!1,t.isLoaded=!0,e.trigger("afterLoad",t),e.hideLoading(t),t.pos===e.currPos&&e.updateCursor(),!t.opts.smallBtn||t.$smallBtn&&t.$smallBtn.length||(t.$smallBtn=n(e.translate(t,t.opts.btnTpl.smallBtn)).prependTo(t.$content)),t.opts.protect&&t.$content&&!t.hasError&&(t.$content.on("contextmenu.fb",function(t){return 2==t.button&&t.preventDefault(),!0}),"image"===t.type&&n('<div class="fancybox-spaceball"></div>').appendTo(t.$content)),e.revealContent(t))},revealContent:function(t){var e,i,a,s,r=this,c=t.$slide,l=!1,d=!1;return e=t.opts[r.firstRun?"animationEffect":"transitionEffect"],a=t.opts[r.firstRun?"animationDuration":"transitionDuration"],a=parseInt(t.forcedDuration===o?a:t.forcedDuration,10),t.pos===r.currPos&&(t.isComplete?e=!1:r.isAnimating=!0),!t.isMoved&&t.pos===r.currPos&&a||(e=!1),"zoom"===e&&(t.pos===r.currPos&&a&&"image"===t.type&&!t.hasError&&(d=r.getThumbPos(t))?l=r.getFitPos(t):e="fade"),"zoom"===e?(l.scaleX=l.width/d.width,l.scaleY=l.height/d.height,s=t.opts.zoomOpacity,"auto"==s&&(s=Math.abs(t.width/t.height-d.width/d.height)>.1),s&&(d.opacity=.1,l.opacity=1),n.fancybox.setTranslate(t.$content.removeClass("fancybox-is-hidden"),d),f(t.$content),void n.fancybox.animate(t.$content,l,a,function(){r.isAnimating=!1,r.complete()})):(r.updateSlide(t),e?(n.fancybox.stop(c),i="fancybox-animated fancybox-slide--"+(t.pos>=r.prevPos?"next":"previous")+" fancybox-fx-"+e,c.removeAttr("style").removeClass("fancybox-slide--current fancybox-slide--next fancybox-slide--previous").addClass(i),t.$content.removeClass("fancybox-is-hidden"),f(c),void n.fancybox.animate(c,"fancybox-slide--current",a,function(e){c.removeClass(i).removeAttr("style"),t.pos===r.currPos&&r.complete()},!0)):(f(c),t.$content.removeClass("fancybox-is-hidden"),void(t.pos===r.currPos&&r.complete())))},getThumbPos:function(o){var i,a=this,s=!1,r=o.opts.$thumb,c=r&&r.length&&r[0].ownerDocument===e?r.offset():0,l=function(e){for(var o,i=e[0],a=i.getBoundingClientRect(),s=[];null!==i.parentElement;)"hidden"!==n(i.parentElement).css("overflow")&&"auto"!==n(i.parentElement).css("overflow")||s.push(i.parentElement.getBoundingClientRect()),i=i.parentElement;return o=s.every(function(t){var e=Math.min(a.right,t.right)-Math.max(a.left,t.left),n=Math.min(a.bottom,t.bottom)-Math.max(a.top,t.top);return e>0&&n>0}),o&&a.bottom>0&&a.right>0&&a.left<n(t).width()&&a.top<n(t).height()};return c&&l(r)&&(i=a.$refs.stage.offset(),s={top:c.top-i.top+parseFloat(r.css("border-top-width")||0),left:c.left-i.left+parseFloat(r.css("border-left-width")||0),width:r.width(),height:r.height(),scaleX:1,scaleY:1}),s},complete:function(){var t=this,o=t.current,i={};!o.isMoved&&o.isLoaded&&(o.isComplete||(o.isComplete=!0,o.$slide.siblings().trigger("onReset"),t.preload("inline"),f(o.$slide),o.$slide.addClass("fancybox-slide--complete"),n.each(t.slides,function(e,o){o.pos>=t.currPos-1&&o.pos<=t.currPos+1?i[o.pos]=o:o&&(n.fancybox.stop(o.$slide),o.$slide.off().remove())}),t.slides=i),t.isAnimating=!1,t.updateCursor(),t.trigger("afterShow"),o.$slide.find("video,audio").filter(":visible:first").trigger("play"),(n(e.activeElement).is("[disabled]")||o.opts.autoFocus&&"image"!=o.type&&"iframe"!==o.type)&&t.focus())},preload:function(t){var e=this,n=e.slides[e.currPos+1],o=e.slides[e.currPos-1];n&&n.type===t&&e.loadSlide(n),o&&o.type===t&&e.loadSlide(o)},focus:function(){var t,e=this.current;this.isClosing||e&&e.isComplete&&e.$content&&(t=e.$content.find("input[autofocus]:enabled:visible:first"),t.length||(t=e.$content.find("button,:input,[tabindex],a").filter(":enabled:visible:first")),t=t&&t.length?t:e.$content,t.trigger("focus"))},activate:function(){var t=this;n(".fancybox-container").each(function(){var e=n(this).data("FancyBox");e&&e.id!==t.id&&!e.isClosing&&(e.trigger("onDeactivate"),e.removeEvents(),e.isVisible=!1)}),t.isVisible=!0,(t.current||t.isIdle)&&(t.update(),t.updateControls()),t.trigger("onActivate"),t.addEvents()},close:function(t,e){var o,i,a,s,r,c,l,p=this,h=p.current,g=function(){p.cleanUp(t)};return!(p.isClosing||(p.isClosing=!0,p.trigger("beforeClose",t)===!1?(p.isClosing=!1,d(function(){p.update()}),1):(p.removeEvents(),h.timouts&&clearTimeout(h.timouts),a=h.$content,o=h.opts.animationEffect,i=n.isNumeric(e)?e:o?h.opts.animationDuration:0,h.$slide.off(u).removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),h.$slide.siblings().trigger("onReset").remove(),i&&p.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing"),p.hideLoading(h),p.hideControls(),p.updateCursor(),"zoom"!==o||t!==!0&&a&&i&&"image"===h.type&&!h.hasError&&(l=p.getThumbPos(h))||(o="fade"),"zoom"===o?(n.fancybox.stop(a),s=n.fancybox.getTranslate(a),c={top:s.top,left:s.left,scaleX:s.width/l.width,scaleY:s.height/l.height,width:l.width,height:l.height},r=h.opts.zoomOpacity,"auto"==r&&(r=Math.abs(h.width/h.height-l.width/l.height)>.1),r&&(l.opacity=0),n.fancybox.setTranslate(a,c),f(a),n.fancybox.animate(a,l,i,g),0):(o&&i?t===!0?setTimeout(g,i):n.fancybox.animate(h.$slide.removeClass("fancybox-slide--current"),"fancybox-animated fancybox-slide--previous fancybox-fx-"+o,i,g):g(),0))))},cleanUp:function(t){var e,o=this,i=n("body");o.current.$slide.trigger("onReset"),o.$refs.container.empty().remove(),o.trigger("afterClose",t),o.$lastFocus&&o.current.opts.backFocus&&o.$lastFocus.trigger("focus"),o.current=null,e=n.fancybox.getInstance(),e?e.activate():(i.removeClass("fancybox-active compensate-for-scrollbar"),n("#fancybox-style-noscroll").remove())},trigger:function(t,e){var o,i=Array.prototype.slice.call(arguments,1),a=this,s=e&&e.opts?e:a.current;return s?i.unshift(s):s=a,i.unshift(a),n.isFunction(s.opts[t])&&(o=s.opts[t].apply(s,i)),o===!1?o:void("afterClose"!==t&&a.$refs?a.$refs.container.trigger(t+".fb",i):r.trigger(t+".fb",i))},updateControls:function(t){var e=this,n=e.current,o=n.index,i=n.opts.caption,a=e.$refs.container,s=e.$refs.caption;n.$slide.trigger("refresh"),e.$caption=i&&i.length?s.html(i):null,e.isHiddenControls||e.isIdle||e.showControls(),a.find("[data-fancybox-count]").html(e.group.length),a.find("[data-fancybox-index]").html(o+1),a.find("[data-fancybox-prev]").toggleClass("disabled",!n.opts.loop&&0>=o),a.find("[data-fancybox-next]").toggleClass("disabled",!n.opts.loop&&o>=e.group.length-1),"image"===n.type?a.find("[data-fancybox-zoom]").show().end().find("[data-fancybox-download]").attr("href",n.opts.image.src||n.src).show():n.opts.toolbar&&a.find("[data-fancybox-download],[data-fancybox-zoom]").hide()},hideControls:function(){this.isHiddenControls=!0,this.$refs.container.removeClass("fancybox-show-infobar fancybox-show-toolbar fancybox-show-caption fancybox-show-nav")},showControls:function(){var t=this,e=t.current?t.current.opts:t.opts,n=t.$refs.container;t.isHiddenControls=!1,t.idleSecondsCounter=0,n.toggleClass("fancybox-show-toolbar",!(!e.toolbar||!e.buttons)).toggleClass("fancybox-show-infobar",!!(e.infobar&&t.group.length>1)).toggleClass("fancybox-show-nav",!!(e.arrows&&t.group.length>1)).toggleClass("fancybox-is-modal",!!e.modal),t.$caption?n.addClass("fancybox-show-caption "):n.removeClass("fancybox-show-caption")},toggleControls:function(){this.isHiddenControls?this.showControls():this.hideControls()}}),n.fancybox={version:"3.3.5",defaults:a,getInstance:function(t){var e=n('.fancybox-container:not(".fancybox-is-closing"):last').data("FancyBox"),o=Array.prototype.slice.call(arguments,1);return e instanceof h&&("string"===n.type(t)?e[t].apply(e,o):"function"===n.type(t)&&t.apply(e,o),e)},open:function(t,e,n){return new h(t,e,n)},close:function(t){var e=this.getInstance();e&&(e.close(),t===!0&&this.close())},destroy:function(){this.close(!0),r.add("body").off("click.fb-start","**")},isMobile:e.createTouch!==o&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:function(){var n=e.createElement("div");return t.getComputedStyle&&t.getComputedStyle(n)&&t.getComputedStyle(n).getPropertyValue("transform")&&!(e.documentMode&&e.documentMode<11)}(),getTranslate:function(t){var e;return!(!t||!t.length)&&(e=t[0].getBoundingClientRect(),{top:e.top||0,left:e.left||0,width:e.width,height:e.height,opacity:parseFloat(t.css("opacity"))})},setTranslate:function(t,e){var n="",i={};return t&&e?(e.left===o&&e.top===o||(n=(e.left===o?t.position().left:e.left)+"px, "+(e.top===o?t.position().top:e.top)+"px",n=this.use3d?"translate3d("+n+", 0px)":"translate("+n+")"),e.scaleX!==o&&e.scaleY!==o&&(n=(n.length?n+" ":"")+"scale("+e.scaleX+", "+e.scaleY+")"),n.length&&(i.transform=n),e.opacity!==o&&(i.opacity=e.opacity),e.width!==o&&(i.width=e.width),e.height!==o&&(i.height=e.height),t.css(i)):void 0},animate:function(t,e,i,a,s){var r=!1;n.isFunction(i)&&(a=i,i=null),n.isPlainObject(e)||t.removeAttr("style"),n.fancybox.stop(t),t.on(u,function(o){(!o||!o.originalEvent||t.is(o.originalEvent.target)&&"z-index"!=o.originalEvent.propertyName)&&(n.fancybox.stop(t),r&&n.fancybox.setTranslate(t,r),n.isPlainObject(e)?s===!1&&t.removeAttr("style"):s!==!0&&t.removeClass(e),n.isFunction(a)&&a(o))}),n.isNumeric(i)&&t.css("transition-duration",i+"ms"),n.isPlainObject(e)?(e.scaleX!==o&&e.scaleY!==o&&(r=n.extend({},e,{width:t.width()*e.scaleX,height:t.height()*e.scaleY,scaleX:1,scaleY:1}),delete e.width,delete e.height,t.parent().hasClass("fancybox-slide--image")&&t.parent().addClass("fancybox-is-scaling")),n.fancybox.setTranslate(t,e)):t.addClass(e),t.data("timer",setTimeout(function(){t.trigger("transitionend")},i+16))},stop:function(t){t&&t.length&&(clearTimeout(t.data("timer")),t.off("transitionend").css("transition-duration",""),t.parent().removeClass("fancybox-is-scaling"))}},n.fn.fancybox=function(t){var e;return t=t||{},e=t.selector||!1,e?n("body").off("click.fb-start",e).on("click.fb-start",e,{options:t},i):this.off("click.fb-start").on("click.fb-start",{items:this,options:t},i),this},r.on("click.fb-start","[data-fancybox]",i),r.on("click.fb-start","[data-trigger]",function(t){i(t,{$target:n('[data-fancybox="'+n(t.currentTarget).attr("data-trigger")+'"]').eq(n(t.currentTarget).attr("data-index")||0),$trigger:n(this)})})}}(window,document,window.jQuery||jQuery),function(t){"use strict";var e=function(e,n,o){return e?(o=o||"","object"===t.type(o)&&(o=t.param(o,!0)),t.each(n,function(t,n){e=e.replace("$"+t,n||"")}),o.length&&(e+=(e.indexOf("?")>0?"&":"?")+o),e):void 0},n={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/$4",thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1,api:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/?ll="+(t[9]?t[9]+"&z="+Math.floor(t[10])+(t[12]?t[12].replace(/^\//,"&"):""):t[12]+"").replace(/\?/,"&")+"&output="+(t[12]&&t[12].indexOf("layer=c")>0?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/maps?q="+t[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}};t(document).on("objectNeedsType.fb",function(o,i,a){var s,r,c,l,d,u,f,p=a.src||"",h=!1;s=t.extend(!0,{},n,a.opts.media),t.each(s,function(n,o){if(c=p.match(o.matcher)){if(h=o.type,f=n,u={},o.paramPlace&&c[o.paramPlace]){d=c[o.paramPlace],"?"==d[0]&&(d=d.substring(1)),d=d.split("&");for(var i=0;i<d.length;++i){var s=d[i].split("=",2);2==s.length&&(u[s[0]]=decodeURIComponent(s[1].replace(/\+/g," ")))}}return l=t.extend(!0,{},o.params,a.opts[n],u),p="function"===t.type(o.url)?o.url.call(this,c,l,a):e(o.url,c,l),r="function"===t.type(o.thumb)?o.thumb.call(this,c,l,a):e(o.thumb,c),"youtube"===n?p=p.replace(/&t=((\d+)m)?(\d+)s/,function(t,e,n,o){return"&start="+((n?60*parseInt(n,10):0)+parseInt(o,10))}):"vimeo"===n&&(p=p.replace("&%23","#")),!1}}),h?(a.opts.thumb||a.opts.$thumb&&a.opts.$thumb.length||(a.opts.thumb=r),"iframe"===h&&(a.opts=t.extend(!0,a.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})),t.extend(a,{type:h,src:p,origSrc:a.src,contentSource:f,contentType:"image"===h?"image":"gmap_place"==f||"gmap_search"==f?"map":"video"})):p&&(a.type=a.opts.defaultType)})}(window.jQuery||jQuery),function(t,e,n){"use strict";var o=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)}}(),i=function(){return t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||function(e){t.clearTimeout(e)}}(),a=function(e){var n=[];e=e.originalEvent||e||t.e,e=e.touches&&e.touches.length?e.touches:e.changedTouches&&e.changedTouches.length?e.changedTouches:[e];for(var o in e)e[o].pageX?n.push({x:e[o].pageX,y:e[o].pageY}):e[o].clientX&&n.push({x:e[o].clientX,y:e[o].clientY});return n},s=function(t,e,n){return e&&t?"x"===n?t.x-e.x:"y"===n?t.y-e.y:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0},r=function(t){if(t.is('a,area,button,[role="button"],input,label,select,summary,textarea,video,audio')||n.isFunction(t.get(0).onclick)||t.data("selectable"))return!0;for(var e=0,o=t[0].attributes,i=o.length;i>e;e++)if("data-fancybox-"===o[e].nodeName.substr(0,14))return!0;return!1},c=function(e){var n=t.getComputedStyle(e)["overflow-y"],o=t.getComputedStyle(e)["overflow-x"],i=("scroll"===n||"auto"===n)&&e.scrollHeight>e.clientHeight,a=("scroll"===o||"auto"===o)&&e.scrollWidth>e.clientWidth;return i||a},l=function(t){for(var e=!1;!(e=c(t.get(0)))&&(t=t.parent(),t.length&&!t.hasClass("fancybox-stage")&&!t.is("body")););return e},d=function(t){var e=this;e.instance=t,e.$bg=t.$refs.bg,e.$stage=t.$refs.stage,e.$container=t.$refs.container,e.destroy(),e.$container.on("touchstart.fb.touch mousedown.fb.touch",n.proxy(e,"ontouchstart"))};d.prototype.destroy=function(){this.$container.off(".fb.touch")},d.prototype.ontouchstart=function(o){var i=this,c=n(o.target),d=i.instance,u=d.current,f=u.$content,p="touchstart"==o.type;if(p&&i.$container.off("mousedown.fb.touch"),(!o.originalEvent||2!=o.originalEvent.button)&&c.length&&!r(c)&&!r(c.parent())&&(c.is("img")||!(o.originalEvent.clientX>c[0].clientWidth+c.offset().left))){if(!u||d.isAnimating||d.isClosing)return o.stopPropagation(),void o.preventDefault();if(i.realPoints=i.startPoints=a(o),i.startPoints.length){if(o.stopPropagation(),i.startEvent=o,i.canTap=!0,i.$target=c,i.$content=f,i.opts=u.opts.touch,i.isPanning=!1,i.isSwiping=!1,i.isZooming=!1,i.isScrolling=!1,i.startTime=(new Date).getTime(),i.distanceX=i.distanceY=i.distance=0,i.canvasWidth=Math.round(u.$slide[0].clientWidth),i.canvasHeight=Math.round(u.$slide[0].clientHeight),i.contentLastPos=null,i.contentStartPos=n.fancybox.getTranslate(i.$content)||{top:0,left:0},i.sliderStartPos=i.sliderLastPos||n.fancybox.getTranslate(u.$slide),i.stagePos=n.fancybox.getTranslate(d.$refs.stage),i.sliderStartPos.top-=i.stagePos.top,i.sliderStartPos.left-=i.stagePos.left,i.contentStartPos.top-=i.stagePos.top,i.contentStartPos.left-=i.stagePos.left,n(e).off(".fb.touch").on(p?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",n.proxy(i,"ontouchend")).on(p?"touchmove.fb.touch":"mousemove.fb.touch",n.proxy(i,"ontouchmove")),n.fancybox.isMobile&&e.addEventListener("scroll",i.onscroll,!0),!i.opts&&!d.canPan()||!c.is(i.$stage)&&!i.$stage.find(c).length)return void(c.is(".fancybox-image")&&o.preventDefault());n.fancybox.isMobile&&(l(c)||l(c.parent()))||o.preventDefault(),(1===i.startPoints.length||u.hasError)&&(i.instance.canPan()?(n.fancybox.stop(i.$content),i.$content.css("transition-duration",""),i.isPanning=!0):i.isSwiping=!0,i.$container.addClass("fancybox-controls--isGrabbing")),2===i.startPoints.length&&"image"===u.type&&(u.isLoaded||u.$ghost)&&(i.canTap=!1,i.isSwiping=!1,i.isPanning=!1,i.isZooming=!0,n.fancybox.stop(i.$content),i.$content.css("transition-duration",""),i.centerPointStartX=.5*(i.startPoints[0].x+i.startPoints[1].x)-n(t).scrollLeft(),i.centerPointStartY=.5*(i.startPoints[0].y+i.startPoints[1].y)-n(t).scrollTop(),i.percentageOfImageAtPinchPointX=(i.centerPointStartX-i.contentStartPos.left)/i.contentStartPos.width,i.percentageOfImageAtPinchPointY=(i.centerPointStartY-i.contentStartPos.top)/i.contentStartPos.height,i.startDistanceBetweenFingers=s(i.startPoints[0],i.startPoints[1]))}}},d.prototype.onscroll=function(t){var n=this;n.isScrolling=!0,e.removeEventListener("scroll",n.onscroll,!0)},d.prototype.ontouchmove=function(t){var e=this,o=n(t.target);return void 0!==t.originalEvent.buttons&&0===t.originalEvent.buttons?void e.ontouchend(t):e.isScrolling||!o.is(e.$stage)&&!e.$stage.find(o).length?void(e.canTap=!1):(e.newPoints=a(t),void((e.opts||e.instance.canPan())&&e.newPoints.length&&e.newPoints.length&&(e.isSwiping&&e.isSwiping===!0||t.preventDefault(),e.distanceX=s(e.newPoints[0],e.startPoints[0],"x"),e.distanceY=s(e.newPoints[0],e.startPoints[0],"y"),e.distance=s(e.newPoints[0],e.startPoints[0]),e.distance>0&&(e.isSwiping?e.onSwipe(t):e.isPanning?e.onPan():e.isZooming&&e.onZoom()))))},d.prototype.onSwipe=function(e){var a,s=this,r=s.isSwiping,c=s.sliderStartPos.left||0;if(r!==!0)"x"==r&&(s.distanceX>0&&(s.instance.group.length<2||0===s.instance.current.index&&!s.instance.current.opts.loop)?c+=Math.pow(s.distanceX,.8):s.distanceX<0&&(s.instance.group.length<2||s.instance.current.index===s.instance.group.length-1&&!s.instance.current.opts.loop)?c-=Math.pow(-s.distanceX,.8):c+=s.distanceX),s.sliderLastPos={top:"x"==r?0:s.sliderStartPos.top+s.distanceY,left:c},s.requestId&&(i(s.requestId),s.requestId=null),s.requestId=o(function(){s.sliderLastPos&&(n.each(s.instance.slides,function(t,e){var o=e.pos-s.instance.currPos;n.fancybox.setTranslate(e.$slide,{top:s.sliderLastPos.top,left:s.sliderLastPos.left+o*s.canvasWidth+o*e.opts.gutter})}),s.$container.addClass("fancybox-is-sliding"))});else if(Math.abs(s.distance)>10){if(s.canTap=!1,s.instance.group.length<2&&s.opts.vertical?s.isSwiping="y":s.instance.isDragging||s.opts.vertical===!1||"auto"===s.opts.vertical&&n(t).width()>800?s.isSwiping="x":(a=Math.abs(180*Math.atan2(s.distanceY,s.distanceX)/Math.PI),s.isSwiping=a>45&&135>a?"y":"x"),s.canTap=!1,"y"===s.isSwiping&&n.fancybox.isMobile&&(l(s.$target)||l(s.$target.parent())))return void(s.isScrolling=!0);s.instance.isDragging=s.isSwiping,s.startPoints=s.newPoints,n.each(s.instance.slides,function(t,e){n.fancybox.stop(e.$slide),e.$slide.css("transition-duration",""),e.inTransition=!1,e.pos===s.instance.current.pos&&(s.sliderStartPos.left=n.fancybox.getTranslate(e.$slide).left-n.fancybox.getTranslate(s.instance.$refs.stage).left)}),s.instance.SlideShow&&s.instance.SlideShow.isActive&&s.instance.SlideShow.stop()}},d.prototype.onPan=function(){var t=this;return s(t.newPoints[0],t.realPoints[0])<(n.fancybox.isMobile?10:5)?void(t.startPoints=t.newPoints):(t.canTap=!1,t.contentLastPos=t.limitMovement(),t.requestId&&(i(t.requestId),t.requestId=null),void(t.requestId=o(function(){n.fancybox.setTranslate(t.$content,t.contentLastPos)})))},d.prototype.limitMovement=function(){var t,e,n,o,i,a,s=this,r=s.canvasWidth,c=s.canvasHeight,l=s.distanceX,d=s.distanceY,u=s.contentStartPos,f=u.left,p=u.top,h=u.width,g=u.height;return i=h>r?f+l:f,a=p+d,t=Math.max(0,.5*r-.5*h),e=Math.max(0,.5*c-.5*g),n=Math.min(r-h,.5*r-.5*h),o=Math.min(c-g,.5*c-.5*g),l>0&&i>t&&(i=t-1+Math.pow(-t+f+l,.8)||0),0>l&&n>i&&(i=n+1-Math.pow(n-f-l,.8)||0),d>0&&a>e&&(a=e-1+Math.pow(-e+p+d,.8)||0),0>d&&o>a&&(a=o+1-Math.pow(o-p-d,.8)||0),{top:a,left:i}},d.prototype.limitPosition=function(t,e,n,o){var i=this,a=i.canvasWidth,s=i.canvasHeight;return n>a?(t=t>0?0:t,t=a-n>t?a-n:t):t=Math.max(0,a/2-n/2),o>s?(e=e>0?0:e,e=s-o>e?s-o:e):e=Math.max(0,s/2-o/2),{top:e,left:t}},d.prototype.onZoom=function(){var e=this,a=e.contentStartPos,r=a.width,c=a.height,l=a.left,d=a.top,u=s(e.newPoints[0],e.newPoints[1]),f=u/e.startDistanceBetweenFingers,p=Math.floor(r*f),h=Math.floor(c*f),g=(r-p)*e.percentageOfImageAtPinchPointX,b=(c-h)*e.percentageOfImageAtPinchPointY,m=(e.newPoints[0].x+e.newPoints[1].x)/2-n(t).scrollLeft(),y=(e.newPoints[0].y+e.newPoints[1].y)/2-n(t).scrollTop(),v=m-e.centerPointStartX,x=y-e.centerPointStartY,w=l+(g+v),$=d+(b+x),S={top:$,left:w,scaleX:f,scaleY:f};e.canTap=!1,e.newWidth=p,e.newHeight=h,e.contentLastPos=S,e.requestId&&(i(e.requestId),e.requestId=null),e.requestId=o(function(){n.fancybox.setTranslate(e.$content,e.contentLastPos)})},d.prototype.ontouchend=function(t){var o=this,s=Math.max((new Date).getTime()-o.startTime,1),r=o.isSwiping,c=o.isPanning,l=o.isZooming,d=o.isScrolling;return o.endPoints=a(t),o.$container.removeClass("fancybox-controls--isGrabbing"),n(e).off(".fb.touch"),e.removeEventListener("scroll",o.onscroll,!0),o.requestId&&(i(o.requestId),o.requestId=null),o.isSwiping=!1,o.isPanning=!1,o.isZooming=!1,o.isScrolling=!1,o.instance.isDragging=!1,o.canTap?o.onTap(t):(o.speed=366,o.velocityX=o.distanceX/s*.5,o.velocityY=o.distanceY/s*.5,o.speedX=Math.max(.5*o.speed,Math.min(1.5*o.speed,1/Math.abs(o.velocityX)*o.speed)),void(c?o.endPanning():l?o.endZooming():o.endSwiping(r,d)))},d.prototype.endSwiping=function(t,e){var o=this,i=!1,a=o.instance.group.length;o.sliderLastPos=null,"y"==t&&!e&&Math.abs(o.distanceY)>50?(n.fancybox.animate(o.instance.current.$slide,{top:o.sliderStartPos.top+o.distanceY+150*o.velocityY,opacity:0},200),i=o.instance.close(!0,200)):"x"==t&&o.distanceX>50&&a>1?i=o.instance.previous(o.speedX):"x"==t&&o.distanceX<-50&&a>1&&(i=o.instance.next(o.speedX)),i!==!1||"x"!=t&&"y"!=t||(e||2>a?o.instance.centerSlide(o.instance.current,150):o.instance.jumpTo(o.instance.current.index)),o.$container.removeClass("fancybox-is-sliding")},d.prototype.endPanning=function(){var t,e,o,i=this;i.contentLastPos&&(i.opts.momentum===!1?(t=i.contentLastPos.left,e=i.contentLastPos.top):(t=i.contentLastPos.left+i.velocityX*i.speed,e=i.contentLastPos.top+i.velocityY*i.speed),o=i.limitPosition(t,e,i.contentStartPos.width,i.contentStartPos.height),o.width=i.contentStartPos.width,o.height=i.contentStartPos.height,n.fancybox.animate(i.$content,o,330))},d.prototype.endZooming=function(){var t,e,o,i,a=this,s=a.instance.current,r=a.newWidth,c=a.newHeight;a.contentLastPos&&(t=a.contentLastPos.left,e=a.contentLastPos.top,i={top:e,left:t,width:r,height:c,scaleX:1,scaleY:1},n.fancybox.setTranslate(a.$content,i),r<a.canvasWidth&&c<a.canvasHeight?a.instance.scaleToFit(150):r>s.width||c>s.height?a.instance.scaleToActual(a.centerPointStartX,a.centerPointStartY,150):(o=a.limitPosition(t,e,r,c),n.fancybox.setTranslate(a.$content,n.fancybox.getTranslate(a.$content)),n.fancybox.animate(a.$content,o,150)))},d.prototype.onTap=function(e){var o,i=this,s=n(e.target),r=i.instance,c=r.current,l=e&&a(e)||i.startPoints,d=l[0]?l[0].x-n(t).scrollLeft()-i.stagePos.left:0,u=l[0]?l[0].y-n(t).scrollTop()-i.stagePos.top:0,f=function(t){var o=c.opts[t];if(n.isFunction(o)&&(o=o.apply(r,[c,e])),o)switch(o){case"close":r.close(i.startEvent);break;case"toggleControls":r.toggleControls(!0);break;case"next":r.next();break;case"nextOrClose":r.group.length>1?r.next():r.close(i.startEvent);break;case"zoom":"image"==c.type&&(c.isLoaded||c.$ghost)&&(r.canPan()?r.scaleToFit():r.isScaledDown()?r.scaleToActual(d,u):r.group.length<2&&r.close(i.startEvent))}};if((!e.originalEvent||2!=e.originalEvent.button)&&(s.is("img")||!(d>s[0].clientWidth+s.offset().left))){if(s.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))o="Outside";else if(s.is(".fancybox-slide"))o="Slide";else{if(!r.current.$content||!r.current.$content.find(s).addBack().filter(s).length)return;o="Content"}if(i.tapped){if(clearTimeout(i.tapped),i.tapped=null,Math.abs(d-i.tapX)>50||Math.abs(u-i.tapY)>50)return this;f("dblclick"+o)}else i.tapX=d,i.tapY=u,c.opts["dblclick"+o]&&c.opts["dblclick"+o]!==c.opts["click"+o]?i.tapped=setTimeout(function(){i.tapped=null,f("click"+o)},500):f("click"+o);return this}},n(e).on("onActivate.fb",function(t,e){e&&!e.Guestures&&(e.Guestures=new d(e))})}(window,document,window.jQuery||jQuery),function(t,e){"use strict";e.extend(!0,e.fancybox.defaults,{btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"><svg viewBox="0 0 40 40"><path d="M13,12 L27,20 L13,27 Z" /><path d="M15,10 v19 M23,10 v19" /></svg></button>'},slideShow:{autoStart:!1,speed:3e3}});var n=function(t){this.instance=t,this.init()};e.extend(n.prototype,{timer:null,isActive:!1,$button:null,init:function(){var t=this;t.$button=t.instance.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){t.toggle()}),(t.instance.group.length<2||!t.instance.group[t.instance.currIndex].opts.slideShow)&&t.$button.hide()},set:function(t){var e=this;e.instance&&e.instance.current&&(t===!0||e.instance.current.opts.loop||e.instance.currIndex<e.instance.group.length-1)?e.timer=setTimeout(function(){e.isActive&&e.instance.jumpTo((e.instance.currIndex+1)%e.instance.group.length)},e.instance.current.opts.slideShow.speed):(e.stop(),e.instance.idleSecondsCounter=0,e.instance.showControls())},clear:function(){var t=this;clearTimeout(t.timer),t.timer=null},start:function(){var t=this,e=t.instance.current;e&&(t.isActive=!0,t.$button.attr("title",e.opts.i18n[e.opts.lang].PLAY_STOP).removeClass("fancybox-button--play").addClass("fancybox-button--pause"),t.set(!0))},stop:function(){var t=this,e=t.instance.current;t.clear(),t.$button.attr("title",e.opts.i18n[e.opts.lang].PLAY_START).removeClass("fancybox-button--pause").addClass("fancybox-button--play"),t.isActive=!1},toggle:function(){var t=this;t.isActive?t.stop():t.start()}}),e(t).on({"onInit.fb":function(t,e){e&&!e.SlideShow&&(e.SlideShow=new n(e))},"beforeShow.fb":function(t,e,n,o){var i=e&&e.SlideShow;o?i&&n.opts.slideShow.autoStart&&i.start():i&&i.isActive&&i.clear()},"afterShow.fb":function(t,e,n){var o=e&&e.SlideShow;o&&o.isActive&&o.set()},"afterKeydown.fb":function(n,o,i,a,s){var r=o&&o.SlideShow;!r||!i.opts.slideShow||80!==s&&32!==s||e(t.activeElement).is("button,a,input")||(a.preventDefault(),r.toggle())},"beforeClose.fb onDeactivate.fb":function(t,e){var n=e&&e.SlideShow;n&&n.stop()}}),e(t).on("visibilitychange",function(){var n=e.fancybox.getInstance(),o=n&&n.SlideShow;o&&o.isActive&&(t.hidden?o.clear():o.set())})}(document,window.jQuery||jQuery),function(t,e){"use strict";var n=function(){for(var e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n={},o=0;o<e.length;o++){var i=e[o];if(i&&i[1]in t){for(var a=0;a<i.length;a++)n[e[0][a]]=i[a];return n}}return!1}();if(!n)return void(e&&e.fancybox&&(e.fancybox.defaults.btnTpl.fullScreen=!1));var o={request:function(e){e=e||t.documentElement,e[n.requestFullscreen](e.ALLOW_KEYBOARD_INPUT)},exit:function(){t[n.exitFullscreen]()},toggle:function(e){e=e||t.documentElement,this.isFullscreen()?this.exit():this.request(e)},isFullscreen:function(){return Boolean(t[n.fullscreenElement])},enabled:function(){
return Boolean(t[n.fullscreenEnabled])}};e.extend(!0,e.fancybox.defaults,{btnTpl:{fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fullscreen" title="{{FULL_SCREEN}}"><svg viewBox="0 0 40 40"><path d="M9,12 v16 h22 v-16 h-22 v8" /></svg></button>'},fullScreen:{autoStart:!1}}),e(t).on({"onInit.fb":function(t,e){var n;e&&e.group[e.currIndex].opts.fullScreen?(n=e.$refs.container,n.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(t){t.stopPropagation(),t.preventDefault(),o.toggle()}),e.opts.fullScreen&&e.opts.fullScreen.autoStart===!0&&o.request(),e.FullScreen=o):e&&e.$refs.toolbar.find("[data-fancybox-fullscreen]").hide()},"afterKeydown.fb":function(t,e,n,o,i){e&&e.FullScreen&&70===i&&(o.preventDefault(),e.FullScreen.toggle())},"beforeClose.fb":function(t,e){e&&e.FullScreen&&e.$refs.container.hasClass("fancybox-is-fullscreen")&&o.exit()}}),e(t).on(n.fullscreenchange,function(){var t=o.isFullscreen(),n=e.fancybox.getInstance();n&&(n.current&&"image"===n.current.type&&n.isAnimating&&(n.current.$content.css("transition","none"),n.isAnimating=!1,n.update(!0,!0,0)),n.trigger("onFullscreenChange",t),n.$refs.container.toggleClass("fancybox-is-fullscreen",t))})}(document,window.jQuery||jQuery),function(t,e){"use strict";var n="fancybox-thumbs",o=n+"-active",i=n+"-loading";e.fancybox.defaults=e.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"><svg viewBox="0 0 120 120"><path d="M30,30 h14 v14 h-14 Z M50,30 h14 v14 h-14 Z M70,30 h14 v14 h-14 Z M30,50 h14 v14 h-14 Z M50,50 h14 v14 h-14 Z M70,50 h14 v14 h-14 Z M30,70 h14 v14 h-14 Z M50,70 h14 v14 h-14 Z M70,70 h14 v14 h-14 Z" /></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"}},e.fancybox.defaults);var a=function(t){this.init(t)};e.extend(a.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(t){var e,n,o=this;o.instance=t,t.Thumbs=o,o.opts=t.group[t.currIndex].opts.thumbs,e=t.group[0],e=e.opts.thumb||!(!e.opts.$thumb||!e.opts.$thumb.length)&&e.opts.$thumb.attr("src"),t.group.length>1&&(n=t.group[1],n=n.opts.thumb||!(!n.opts.$thumb||!n.opts.$thumb.length)&&n.opts.$thumb.attr("src")),o.$button=t.$refs.toolbar.find("[data-fancybox-thumbs]"),o.opts&&e&&n&&e&&n?(o.$button.show().on("click",function(){o.toggle()}),o.isActive=!0):o.$button.hide()},create:function(){var t,o=this,a=o.instance,s=o.opts.parentEl,r=[];o.$grid||(o.$grid=e('<div class="'+n+" "+n+"-"+o.opts.axis+'"></div>').appendTo(a.$refs.container.find(s).addBack().filter(s)),o.$grid.on("click","li",function(){a.jumpTo(e(this).attr("data-index"))})),o.$list||(o.$list=e("<ul>").appendTo(o.$grid)),e.each(a.group,function(e,n){t=n.opts.thumb||(n.opts.$thumb?n.opts.$thumb.attr("src"):null),t||"image"!==n.type||(t=n.src),r.push('<li data-index="'+e+'" tabindex="0" class="'+i+'"'+(t&&t.length?' style="background-image:url('+t+')" />':"")+"></li>")}),o.$list[0].innerHTML=r.join(""),"x"===o.opts.axis&&o.$list.width(parseInt(o.$grid.css("padding-right"),10)+a.group.length*o.$list.children().eq(0).outerWidth(!0))},focus:function(t){var e,n,i=this,a=i.$list,s=i.$grid;i.instance.current&&(e=a.children().removeClass(o).filter('[data-index="'+i.instance.current.index+'"]').addClass(o),n=e.position(),"y"===i.opts.axis&&(n.top<0||n.top>a.height()-e.outerHeight())?a.stop().animate({scrollTop:a.scrollTop()+n.top},t):"x"===i.opts.axis&&(n.left<s.scrollLeft()||n.left>s.scrollLeft()+(s.width()-e.outerWidth()))&&a.parent().stop().animate({scrollLeft:n.left},t))},update:function(){var t=this;t.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),t.isVisible?(t.$grid||t.create(),t.instance.trigger("onThumbsShow"),t.focus(0)):t.$grid&&t.instance.trigger("onThumbsHide"),t.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),e(t).on({"onInit.fb":function(t,e){var n;e&&!e.Thumbs&&(n=new a(e),n.isActive&&n.opts.autoStart===!0&&n.show())},"beforeShow.fb":function(t,e,n,o){var i=e&&e.Thumbs;i&&i.isVisible&&i.focus(o?0:250)},"afterKeydown.fb":function(t,e,n,o,i){var a=e&&e.Thumbs;a&&a.isActive&&71===i&&(o.preventDefault(),a.toggle())},"beforeClose.fb":function(t,e){var n=e&&e.Thumbs;n&&n.isVisible&&n.opts.hideOnClose!==!1&&n.$grid.hide()}})}(document,window.jQuery||jQuery),function(t,e){"use strict";function n(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(t).replace(/[&<>"'`=\/]/g,function(t){return e[t]})}e.extend(!0,e.fancybox.defaults,{btnTpl:{share:'<button data-fancybox-share class="fancybox-button fancybox-button--share" title="{{SHARE}}"><svg viewBox="0 0 40 40"><path d="M6,30 C8,18 19,16 23,16 L23,16 L23,10 L33,20 L23,29 L23,24 C19,24 8,27 6,30 Z"></svg></button>'},share:{url:function(t,e){return!t.currentHash&&"inline"!==e.type&&"html"!==e.type&&(e.origSrc||e.src)||window.location},tpl:'<div class="fancybox-share"><h1>{{SHARE}}</h1><p><a class="fancybox-share__button fancybox-share__button--fb" href="https://www.facebook.com/sharer/sharer.php?u={{url}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /></svg><span>Facebook</span></a><a class="fancybox-share__button fancybox-share__button--tw" href="https://twitter.com/intent/tweet?url={{url}}&text={{descr}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /></svg><span>Twitter</span></a><a class="fancybox-share__button fancybox-share__button--pt" href="https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill="#fff"/></svg><span>Pinterest</span></a></p><p><input class="fancybox-share__input" type="text" value="{{url_raw}}" /></p></div>'}}),e(t).on("click","[data-fancybox-share]",function(){var t,o,i=e.fancybox.getInstance(),a=i.current||null;a&&("function"===e.type(a.opts.share.url)&&(t=a.opts.share.url.apply(a,[i,a])),o=a.opts.share.tpl.replace(/\{\{media\}\}/g,"image"===a.type?encodeURIComponent(a.src):"").replace(/\{\{url\}\}/g,encodeURIComponent(t)).replace(/\{\{url_raw\}\}/g,n(t)).replace(/\{\{descr\}\}/g,i.$caption?encodeURIComponent(i.$caption.text()):""),e.fancybox.open({src:i.translate(i,o),type:"html",opts:{animationEffect:!1,afterLoad:function(t,e){i.$refs.container.one("beforeClose.fb",function(){t.close(null,0)}),e.$content.find(".fancybox-share__links a").click(function(){return window.open(this.href,"Share","width=550, height=450"),!1})}}}))})}(document,window.jQuery||jQuery),function(t,e,n){"use strict";function o(){var t=e.location.hash.substr(1),n=t.split("-"),o=n.length>1&&/^\+?\d+$/.test(n[n.length-1])?parseInt(n.pop(-1),10)||1:1,i=n.join("-");return{hash:t,index:1>o?1:o,gallery:i}}function i(t){var e;""!==t.gallery&&(e=n("[data-fancybox='"+n.escapeSelector(t.gallery)+"']").eq(t.index-1).trigger("click.fb-start"))}function a(t){var e,n;return!!t&&(e=t.current?t.current.opts:t.opts,n=e.hash||(e.$orig?e.$orig.data("fancybox"):""),""!==n&&n)}n.escapeSelector||(n.escapeSelector=function(t){var e=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,n=function(t,e){return e?"\x00"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t};return(t+"").replace(e,n)}),n(function(){n.fancybox.defaults.hash!==!1&&(n(t).on({"onInit.fb":function(t,e){var n,i;e.group[e.currIndex].opts.hash!==!1&&(n=o(),i=a(e),i&&n.gallery&&i==n.gallery&&(e.currIndex=n.index-1))},"beforeShow.fb":function(n,o,i,s){var r;i&&i.opts.hash!==!1&&(r=a(o),r&&(o.currentHash=r+(o.group.length>1?"-"+(i.index+1):""),e.location.hash!=="#"+o.currentHash&&(o.origHash||(o.origHash=e.location.hash),o.hashTimer&&clearTimeout(o.hashTimer),o.hashTimer=setTimeout(function(){"replaceState"in e.history?(e.history[s?"pushState":"replaceState"]({},t.title,e.location.pathname+e.location.search+"#"+o.currentHash),s&&(o.hasCreatedHistory=!0)):e.location.hash=o.currentHash,o.hashTimer=null},300))))},"beforeClose.fb":function(n,o,i){var s;i.opts.hash!==!1&&(s=a(o),o.currentHash&&o.hasCreatedHistory?e.history.back():o.currentHash&&("replaceState"in e.history?e.history.replaceState({},t.title,e.location.pathname+e.location.search+(o.origHash||"")):e.location.hash=o.origHash),o.currentHash=null,clearTimeout(o.hashTimer))}}),n(e).on("hashchange.fb",function(){var t,e=o();n.each(n(".fancybox-container").get().reverse(),function(e,o){var i=n(o).data("FancyBox");return i.currentHash?(t=i,!1):void 0}),t?!t.currentHash||t.currentHash===e.gallery+"-"+e.index||1===e.index&&t.currentHash==e.gallery||(t.currentHash=null,t.close()):""!==e.gallery&&i(e)}),setTimeout(function(){n.fancybox.getInstance()||i(o())},50))})}(document,window,window.jQuery||jQuery),function(t,e){"use strict";var n=(new Date).getTime();e(t).on({"onInit.fb":function(t,e,o){e.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(t){var o=e.current,i=(new Date).getTime();e.group.length<2||o.opts.wheel===!1||"auto"===o.opts.wheel&&"image"!==o.type||(t.preventDefault(),t.stopPropagation(),o.$slide.hasClass("fancybox-animated")||(t=t.originalEvent||t,250>i-n||(n=i,e[(-t.deltaY||-t.deltaX||t.wheelDelta||-t.detail)<0?"next":"previous"]())))})}})}(document,window.jQuery||jQuery),function(){function t(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}function n(t,n){for(var e=-1,r=null==t?0:t.length;++e<r&&!1!==n(t[e],e,t););return t}function e(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(!n(t[e],e,t))return!1;return!0}function r(t,n){for(var e=-1,r=null==t?0:t.length,o=0,u=[];++e<r;){var i=t[e];n(i,e,t)&&(u[o++]=i)}return u}function o(t,n){return!(null==t||!t.length)&&-1<(n===n?w(t,n,0):f(t,l,0))}function u(t,n){for(var e=-1,r=null==t?0:t.length,o=Array(r);++e<r;)o[e]=n(t[e],e,t);return o}function i(t,n){for(var e=-1,r=n.length,o=t.length;++e<r;)t[o+e]=n[e];return t}function c(t,n,e,r){var o=-1,u=null==t?0:t.length;for(r&&u&&(e=t[++o]);++o<u;)e=n(e,t[o],o,t);return e}function a(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}function f(t,n,e,r){var o=t.length;for(e+=r?1:-1;r?e--:++e<o;)if(n(t[e],e,t))return e;return-1}function l(t){return t!==t}function s(t){return function(n){return null==n?Fn:n[t]}}function h(t,n,e,r,o){return o(t,function(t,o,u){e=r?(r=!1,t):n(e,t,o,u)}),e}function b(t,n){var e=t.length;for(t.sort(n);e--;)t[e]=t[e].c;return t}function p(t){return function(n){return t(n)}}function v(t,n){return u(n,function(n){return t[n]})}function y(t,n){return t.has(n)}function g(t){var n=-1,e=Array(t.size);return t.forEach(function(t,r){e[++n]=[r,t]}),e}function _(t){var n=Object;return function(e){return t(n(e))}}function j(t,n){for(var e=-1,r=t.length,o=0,u=[];++e<r;){var i=t[e];i!==n&&"__lodash_placeholder__"!==i||(t[e]="__lodash_placeholder__",u[o++]=e)}return u}function d(t){var n=-1,e=Array(t.size);return t.forEach(function(t){e[++n]=t}),e}function w(t,n,e){--e;for(var r=t.length;++e<r;)if(t[e]===n)return e;return-1}function A(){}function m(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function O(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function S(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function k(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function x(t){var n=-1,e=null==t?0:t.length;for(this.__data__=new k;++n<e;)this.add(t[n])}function z(t){this.size=(this.__data__=new S(t)).size}function E(t,n){var e=gr(t),r=!e&&yr(t),o=!e&&!r&&_r(t),u=!e&&!r&&!o&&wr(t);if(e=e||r||o||u){for(var r=t.length,i=String,c=-1,a=Array(r);++c<r;)a[c]=i(c);r=a}else r=[];var f,i=r.length;for(f in t)!n&&!be.call(t,f)||e&&("length"==f||o&&("offset"==f||"parent"==f)||u&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||Rt(f,i))||r.push(f);return r}function I(t,n,e){var r=t[n];be.call(t,n)&&on(r,e)&&(e!==Fn||n in t)||U(t,n,e)}function F(t,n){for(var e=t.length;e--;)if(on(t[e][0],n))return e;return-1}function M(t,n){return t&&gt(n,wn(n),t)}function B(t,n){return t&&gt(n,An(n),t)}function U(t,n,e){"__proto__"==n&&ze?ze(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}function $(t,e,r,o,u,i){var c,a=1&e,f=2&e,l=4&e;if(r&&(c=u?r(t,o,u,i):r(t)),c!==Fn)return c;if(!ln(t))return t;if(o=gr(t)){if(c=Nt(t),!a)return yt(t,c)}else{var s=ir(t),h="[object Function]"==s||"[object GeneratorFunction]"==s;if(_r(t))return ht(t,a);if("[object Object]"==s||"[object Arguments]"==s||h&&!u){if(c=f||h?{}:"function"!=typeof t.constructor||Wt(t)?{}:Xe(Ae(t)),!a)return f?jt(t,B(c,t)):_t(t,M(c,t))}else{if(!Qn[s])return u?t:{};c=Pt(t,s,a)}}if(i||(i=new z),u=i.get(t))return u;if(i.set(t,c),dr(t))return t.forEach(function(n){c.add($(n,e,r,n,t,i))}),c;if(jr(t))return t.forEach(function(n,o){c.set(o,$(n,e,r,o,t,i))}),c;var f=l?f?Mt:Ft:f?An:wn,b=o?Fn:f(t);return n(b||t,function(n,o){b&&(o=n,n=t[o]),I(c,o,$(n,e,r,o,t,i))}),c}function D(t,n){var e=!0;return Ye(t,function(t,r,o){return e=!!n(t,r,o)}),e}function L(t,n,e){for(var r=-1,o=t.length;++r<o;){var u=t[r],i=n(u);if(null!=i&&(c===Fn?i===i&&!pn(i):e(i,c)))var c=i,a=u}return a}function N(t,n){var e=[];return Ye(t,function(t,r,o){n(t,r,o)&&e.push(t)}),e}function P(t,n,e,r,o){var u=-1,c=t.length;for(e||(e=Ct),o||(o=[]);++u<c;){var a=t[u];n>0&&e(a)?n>1?P(a,n-1,e,r,o):i(o,a):r||(o[o.length]=a)}return o}function C(t,n){n=st(n,t);for(var e=0,r=n.length;null!=t&&r>e;)t=t[Jt(n[e++])];return e&&e==r?t:Fn}function R(t,n,e){return n=n(t),gr(t)?n:i(n,e(t))}function T(t){if(null==t)t=t===Fn?"[object Undefined]":"[object Null]";else if(xe&&xe in Object(t)){var n=be.call(t,xe),e=t[xe];try{t[xe]=Fn;var r=!0}catch(t){}var o=ve.call(t);r&&(n?t[xe]=e:delete t[xe]),t=o}else t=ve.call(t);return t}function V(t,n){return t>n}function W(t){return sn(t)&&"[object Arguments]"==T(t)}function q(t,n,e,r,o){if(t===n)n=!0;else if(null==t||null==n||!sn(t)&&!sn(n))n=t!==t&&n!==n;else t:{var u=gr(t),i=gr(n),c=u?"[object Array]":ir(t),a=i?"[object Array]":ir(n),c="[object Arguments]"==c?"[object Object]":c,a="[object Arguments]"==a?"[object Object]":a,f="[object Object]"==c,i="[object Object]"==a;if((a=c==a)&&_r(t)){if(!_r(n)){n=!1;break t}u=!0,f=!1}if(a&&!f)o||(o=new z),n=u||wr(t)?zt(t,n,e,r,q,o):Et(t,n,c,e,r,q,o);else{if(!(1&e)&&(u=f&&be.call(t,"__wrapped__"),c=i&&be.call(n,"__wrapped__"),u||c)){t=u?t.value():t,n=c?n.value():n,o||(o=new z),n=q(t,n,e,r,o);break t}if(a)n:if(o||(o=new z),u=1&e,c=Ft(t),i=c.length,a=Ft(n).length,i==a||u){for(f=i;f--;){var l=c[f];if(!(u?l in n:be.call(n,l))){n=!1;break n}}if((a=o.get(t))&&o.get(n))n=a==n;else{a=!0,o.set(t,n),o.set(n,t);for(var s=u;++f<i;){var l=c[f],h=t[l],b=n[l];if(r)var p=u?r(b,h,l,n,t,o):r(h,b,l,t,n,o);if(p===Fn?h!==b&&!q(h,b,e,r,o):!p){a=!1;break}s||(s="constructor"==l)}a&&!s&&(e=t.constructor,r=n.constructor,e!=r&&"constructor"in t&&"constructor"in n&&!("function"==typeof e&&e instanceof e&&"function"==typeof r&&r instanceof r)&&(a=!1)),o["delete"](t),o["delete"](n),n=a}}else n=!1;else n=!1}}return n}function G(t){return sn(t)&&"[object Map]"==ir(t)}function K(t,n){var e=n.length,r=e;if(null==t)return!r;for(t=Object(t);e--;){var o=n[e];if(o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++e<r;){var o=n[e],u=o[0],i=t[u],c=o[1];if(o[2]){if(i===Fn&&!(u in t))return!1}else if(o=new z,void 0===Fn?!q(c,i,3,void 0,o):1)return!1}return!0}function H(t){return sn(t)&&"[object Set]"==ir(t)}function J(t){return sn(t)&&fn(t.length)&&!!Jn[T(t)]}function Q(t){return"function"==typeof t?t:null==t?Sn:"object"==typeof t?gr(t)?nt(t[0],t[1]):tt(t):zn(t)}function X(t){if(!Wt(t))return Fe(t);var n,e=[];for(n in Object(t))be.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Y(t,n){return n>t}function Z(t,n){var e=-1,r=un(t)?Array(t.length):[];return Ye(t,function(t,o,u){r[++e]=n(t,o,u)}),r}function tt(t){var n=Dt(t);return 1==n.length&&n[0][2]?qt(n[0][0],n[0][1]):function(e){return e===t||K(e,n)}}function nt(t,n){return Vt(t)&&n===n&&!ln(n)?qt(Jt(t),n):function(e){var r=jn(e,t);return r===Fn&&r===n?dn(e,t):q(n,r,3)}}function et(t,n,e){var r=-1;return n=u(n.length?n:[Sn],p(Ut())),t=Z(t,function(t){return{a:u(n,function(n){return n(t)}),b:++r,c:t}}),b(t,function(t,n){var r;t:{r=-1;for(var o=t.a,u=n.a,i=o.length,c=e.length;++r<i;){var a;n:{a=o[r];var f=u[r];if(a!==f){var l=a!==Fn,s=null===a,h=a===a,b=pn(a),p=f!==Fn,v=null===f,y=f===f,g=pn(f);if(!v&&!g&&!b&&a>f||b&&p&&y&&!v&&!g||s&&p&&y||!l&&y||!h){a=1;break n}if(!s&&!b&&!g&&f>a||g&&l&&h&&!s&&!b||v&&l&&h||!p&&h||!y){a=-1;break n}}a=0}if(a){r=r>=c?a:a*("desc"==e[r]?-1:1);break t}}r=t.b-n.b}return r})}function rt(t,n){return ot(t,n,function(n,e){return dn(t,e)})}function ot(t,n,e){for(var r=-1,o=n.length,u={};++r<o;){var i=n[r],c=C(t,i);if(e(c,i)){var a=u,i=st(i,t);if(ln(a))for(var i=st(i,a),f=-1,l=i.length,s=l-1;null!=a&&++f<l;){var h=Jt(i[f]),b=c;if(f!=s){var p=a[h],b=Fn;b===Fn&&(b=ln(p)?p:Rt(i[f+1])?[]:{})}I(a,h,b),a=a[h]}}}return u}function ut(t){return function(n){return C(n,t)}}function it(t){return ar(Gt(t,void 0,Sn),t+"")}function ct(t){var n=0,e=-1,r=-1,o=t.length;for(0>n&&(n=-n>o?0:o+n),e=e>o?o:e,0>e&&(e+=o),o=n>e?0:e-n>>>0,n>>>=0,e=Array(o);++r<o;)e[r]=t[r+n];return e}function at(t){if("string"==typeof t)return t;if(gr(t))return u(t,at)+"";if(pn(t))return Qe?Qe.call(t):"";var n=t+"";return"0"==n&&1/t==-Mn?"-0":n}function ft(t,n){var e=-1,r=o,u=t.length,i=!0,c=[],a=c;if(u>=200){if(r=n?null:er(t))return d(r);i=!1,r=y,a=new x}else a=n?[]:c;t:for(;++e<u;){var f=t[e],l=n?n(f):f,f=0!==f?f:0;if(i&&l===l){for(var s=a.length;s--;)if(a[s]===l)continue t;n&&a.push(l),c.push(f)}else r(a,l,void 0)||(a!==c&&a.push(l),c.push(f))}return c}function lt(t,n){n=st(n,t),t=2>n.length?t:C(t,ct(n)),null==t||delete t[Jt(nn(n))]}function st(t,n){return gr(t)?t:Vt(t,n)?[t]:fr(_n(t))}function ht(t,n){if(n)return t.slice();var e=t.length,e=we?we(e):new t.constructor(e);return t.copy(e),e}function bt(t){var n=new t.constructor(t.byteLength);return new de(n).set(new de(t)),n}function pt(t,n,e,r){var o=-1,u=t.length,i=e.length,c=-1,a=n.length,f=Me(u-i,0),l=Array(a+f);for(r=!r;++c<a;)l[c]=n[c];for(;++o<i;)(r||u>o)&&(l[e[o]]=t[o]);for(;f--;)l[c++]=t[o++];return l}function vt(t,n,e,r){var o=-1,u=t.length,i=-1,c=e.length,a=-1,f=n.length,l=Me(u-c,0),s=Array(l+f);for(r=!r;++o<l;)s[o]=t[o];for(l=o;++a<f;)s[l+a]=n[a];for(;++i<c;)(r||u>o)&&(s[l+e[i]]=t[o++]);return s}function yt(t,n){var e=-1,r=t.length;for(n||(n=Array(r));++e<r;)n[e]=t[e];return n}function gt(t,n,e){var r=!e;e||(e={});for(var o=-1,u=n.length;++o<u;){var i=n[o],c=Fn;c===Fn&&(c=t[i]),r?U(e,i,c):I(e,i,c)}return e}function _t(t,n){return gt(t,or(t),n)}function jt(t,n){return gt(t,ur(t),n)}function dt(t,n,e){function r(){return(this&&this!==ne&&this instanceof r?u:t).apply(o?e:this,arguments)}var o=1&n,u=wt(t);return r}function wt(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var e=Xe(t.prototype),n=t.apply(e,n);return ln(n)?n:e}}function At(n,e,r){function o(){for(var i=arguments.length,c=Array(i),a=i,f=Bt(o);a--;)c[a]=arguments[a];return a=3>i&&c[0]!==f&&c[i-1]!==f?[]:j(c,f),i-=a.length,r>i?kt(n,e,Ot,o.placeholder,Fn,c,a,Fn,Fn,r-i):t(this&&this!==ne&&this instanceof o?u:n,this,c)}var u=wt(n);return o}function mt(t){return function(n,e,r){var o=Object(n);if(!un(n)){var u=Ut(e,3);n=wn(n),e=function(t){return u(o[t],t,o)}}return e=t(n,e,r),e>-1?o[u?n[e]:e]:Fn}}function Ot(t,n,e,r,o,u,i,c,a,f){function l(){for(var g=arguments.length,_=Array(g),d=g;d--;)_[d]=arguments[d];if(p){var w,A=Bt(l),d=_.length;for(w=0;d--;)_[d]===A&&++w}if(r&&(_=pt(_,r,o,p)),u&&(_=vt(_,u,i,p)),g-=w,p&&f>g)return A=j(_,A),kt(t,n,Ot,l.placeholder,e,_,A,c,a,f-g);if(A=h?e:this,d=b?A[t]:t,g=_.length,c){w=_.length;for(var m=Be(c.length,w),O=yt(_);m--;){var S=c[m];_[m]=Rt(S,w)?O[S]:Fn}}else v&&g>1&&_.reverse();return s&&g>a&&(_.length=a),this&&this!==ne&&this instanceof l&&(d=y||wt(d)),d.apply(A,_)}var s=128&n,h=1&n,b=2&n,p=24&n,v=512&n,y=b?Fn:wt(t);return l}function St(n,e,r,o){function u(){for(var e=-1,a=arguments.length,f=-1,l=o.length,s=Array(l+a),h=this&&this!==ne&&this instanceof u?c:n;++f<l;)s[f]=o[f];for(;a--;)s[f++]=arguments[++e];return t(h,i?r:this,s)}var i=1&e,c=wt(n);return u}function kt(t,n,e,r,o,u,i,c,a,f){var l=8&n,s=l?i:Fn;i=l?Fn:i;var h=l?u:Fn;u=l?Fn:u,n=(n|(l?32:64))&~(l?64:32),4&n||(n&=-4),o=[t,n,o,h,s,u,i,c,a,f],e=e.apply(Fn,o);t:for(c=t.name+"",a=Te[c],f=be.call(Te,c)?a.length:0;f--;)if(l=a[f],s=l.func,null==s||s==t){c=l.name;break t}return a=A[c],"function"==typeof a&&c in m.prototype?t===a?c=!0:(c=rr(a),c=!!c&&t===c[0]):c=!1,c&&cr(e,o),e.placeholder=r,Kt(e,t,n)}function xt(t){return hn(t)?Fn:t}function zt(t,n,e,r,o,u){var i=1&e,c=t.length,f=n.length;if(c!=f&&!(i&&f>c))return!1;if((f=u.get(t))&&u.get(n))return f==n;var f=-1,l=!0,s=2&e?new x:Fn;for(u.set(t,n),u.set(n,t);++f<c;){var h=t[f],b=n[f];if(r)var p=i?r(b,h,f,n,t,u):r(h,b,f,t,n,u);if(p!==Fn){if(p)continue;l=!1;break}if(s){if(!a(n,function(t,n){return y(s,n)||h!==t&&!o(h,t,e,r,u)?void 0:s.push(n)})){l=!1;break}}else if(h!==b&&!o(h,b,e,r,u)){l=!1;break}}return u["delete"](t),u["delete"](n),l}function Et(t,n,e,r,o,u,i){switch(e){case"[object DataView]":if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)break;t=t.buffer,n=n.buffer;case"[object ArrayBuffer]":if(t.byteLength!=n.byteLength||!u(new de(t),new de(n)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return on(+t,+n);case"[object Error]":return t.name==n.name&&t.message==n.message;case"[object RegExp]":case"[object String]":return t==n+"";case"[object Map]":var c=g;case"[object Set]":if(c||(c=d),t.size!=n.size&&!(1&r))break;return(e=i.get(t))?e==n:(r|=2,i.set(t,n),n=zt(c(t),c(n),r,o,u,i),i["delete"](t),n);case"[object Symbol]":if(Je)return Je.call(t)==Je.call(n)}return!1}function It(t){return ar(Gt(t,Fn,tn),t+"")}function Ft(t){return R(t,wn,or)}function Mt(t){return R(t,An,ur)}function Bt(t){return(be.call(A,"placeholder")?A:t).placeholder}function Ut(){var t=A.iteratee||kn,t=t===kn?Q:t;return arguments.length?t(arguments[0],arguments[1]):t}function $t(t,n){var e=t.__data__,r=typeof n;return("string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?e["string"==typeof n?"string":"hash"]:e.map}function Dt(t){for(var n=wn(t),e=n.length;e--;){var r=n[e],o=t[r];n[e]=[r,o,o===o&&!ln(o)]}return n}function Lt(t,n){var e=null==t?Fn:t[n];return(!ln(e)||pe&&pe in e?0:(an(e)?ge:Gn).test(Qt(e)))?e:Fn}function Nt(t){var n=t.length,e=new t.constructor(n);return n&&"string"==typeof t[0]&&be.call(t,"index")&&(e.index=t.index,e.input=t.input),e}function Pt(t,n,e){var r=t.constructor;switch(n){case"[object ArrayBuffer]":return bt(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return n=e?bt(t.buffer):t.buffer,new t.constructor(n,t.byteOffset,t.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return n=e?bt(t.buffer):t.buffer,new t.constructor(n,t.byteOffset,t.length);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return n=new t.constructor(t.source,Vn.exec(t)),n.lastIndex=t.lastIndex,n;case"[object Set]":return new r;case"[object Symbol]":return Je?Object(Je.call(t)):{}}}function Ct(t){return gr(t)||yr(t)||!!(ke&&t&&t[ke])}function Rt(t,n){var e=typeof t;return n=null==n?9007199254740991:n,!!n&&("number"==e||"symbol"!=e&&Hn.test(t))&&t>-1&&0==t%1&&n>t}function Tt(t,n,e){if(!ln(e))return!1;var r=typeof n;return!!("number"==r?un(e)&&Rt(n,e.length):"string"==r&&n in e)&&on(e[n],t)}function Vt(t,n){if(gr(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!pn(t))||Dn.test(t)||!$n.test(t)||null!=n&&t in Object(n)}function Wt(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||le)}function qt(t,n){return function(e){return null!=e&&e[t]===n&&(n!==Fn||t in Object(e))}}function Gt(n,e,r){return e=Me(e===Fn?n.length-1:e,0),function(){for(var o=arguments,u=-1,i=Me(o.length-e,0),c=Array(i);++u<i;)c[u]=o[e+u];for(u=-1,i=Array(e+1);++u<e;)i[u]=o[u];return i[e]=r(c),t(n,this,i)}}function Kt(t,n,e){var r=n+"";n=ar;var o,u=Xt;return o=(o=r.match(Cn))?o[1].split(Rn):[],e=u(o,e),(u=e.length)&&(o=u-1,e[o]=(u>1?"& ":"")+e[o],e=e.join(u>2?", ":" "),r=r.replace(Pn,"{\n/* [wrapped with "+e+"] */\n")),n(t,r)}function Ht(t){var n=0,e=0;return function(){var r=Ue(),o=16-(r-e);if(e=r,o>0){if(800<=++n)return arguments[0]}else n=0;return t.apply(Fn,arguments)}}function Jt(t){if("string"==typeof t||pn(t))return t;var n=t+"";return"0"==n&&1/t==-Mn?"-0":n}function Qt(t){if(null!=t){try{return he.call(t)}catch(t){}return t+""}return""}function Xt(t,e){return n(Un,function(n){var r="_."+n[0];e&n[1]&&!o(t,r)&&t.push(r)}),t.sort()}function Yt(t,n,e){var r=null==t?0:t.length;return r?(e=null==e?0:yn(e),0>e&&(e=Me(r+e,0)),f(t,Ut(n,3),e)):-1}function Zt(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return e!==Fn&&(o=yn(e),o=0>e?Me(r+o,0):Be(o,r-1)),f(t,Ut(n,3),o,!0)}function tn(t){return(null==t?0:t.length)?P(t,1):[]}function nn(t){var n=null==t?0:t.length;return n?t[n-1]:Fn}function en(t,e){return(gr(t)?n:Ye)(t,Ut(e,3))}function rn(t,n){function e(){var r=arguments,o=n?n.apply(this,r):r[0],u=e.cache;return u.has(o)?u.get(o):(r=t.apply(this,r),e.cache=u.set(o,r)||u,r)}if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");return e.cache=new(rn.Cache||k),e}function on(t,n){return t===n||t!==t&&n!==n}function un(t){return null!=t&&fn(t.length)&&!an(t)}function cn(t){return sn(t)&&un(t)}function an(t){return!!ln(t)&&(t=T(t),"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t)}function fn(t){return"number"==typeof t&&t>-1&&0==t%1&&9007199254740991>=t}function ln(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}function sn(t){return null!=t&&"object"==typeof t}function hn(t){return!(!sn(t)||"[object Object]"!=T(t))&&(t=Ae(t),null===t||(t=be.call(t,"constructor")&&t.constructor,"function"==typeof t&&t instanceof t&&he.call(t)==ye))}function bn(t){return"string"==typeof t||!gr(t)&&sn(t)&&"[object String]"==T(t)}function pn(t){return"symbol"==typeof t||sn(t)&&"[object Symbol]"==T(t)}function vn(t){return t?(t=gn(t),t===Mn||t===-Mn?1.7976931348623157e308*(0>t?-1:1):t===t?t:0):0===t?t:0}function yn(t){t=vn(t);var n=t%1;return t===t?n?t-n:t:0}function gn(t){if("number"==typeof t)return t;if(pn(t))return Bn;if(ln(t)&&(t="function"==typeof t.valueOf?t.valueOf():t,t=ln(t)?t+"":t),"string"!=typeof t)return 0===t?t:+t;t=t.replace(Nn,"");var n=qn.test(t);return n||Kn.test(t)?Yn(t.slice(2),n?2:8):Wn.test(t)?Bn:+t}function _n(t){return null==t?"":at(t)}function jn(t,n,e){return t=null==t?Fn:C(t,n),t===Fn?e:t}function dn(t,n){var e;if(e=null!=t){e=t;var r;r=st(n,e);for(var o=-1,u=r.length,i=!1;++o<u;){var c=Jt(r[o]);if(!(i=null!=e&&null!=e&&c in Object(e)))break;e=e[c]}i||++o!=u?e=i:(u=null==e?0:e.length,e=!!u&&fn(u)&&Rt(c,u)&&(gr(e)||yr(e)))}return e}function wn(t){return un(t)?E(t):X(t)}function An(t){if(un(t))t=E(t,!0);else if(ln(t)){var n,e=Wt(t),r=[];for(n in t)("constructor"!=n||!e&&be.call(t,n))&&r.push(n);t=r}else{if(n=[],null!=t)for(e in Object(t))n.push(e);t=n}return t}function mn(t){return null==t?[]:v(t,wn(t))}function On(t){return function(){return t}}function Sn(t){return t}function kn(t){return Q("function"==typeof t?t:$(t,1))}function xn(){}function zn(t){return Vt(t)?s(Jt(t)):ut(t)}function En(){return[]}function In(){return!1}var Fn,Mn=1/0,Bn=NaN,Un=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],$n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dn=/^\w*$/,Ln=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Nn=/^\s+|\s+$/g,Pn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Cn=/\{\n\/\* \[wrapped with (.+)\] \*/,Rn=/,? & /,Tn=/\\(\\)?/g,Vn=/\w*$/,Wn=/^[-+]0x[0-9a-f]+$/i,qn=/^0b[01]+$/i,Gn=/^\[object .+?Constructor\]$/,Kn=/^0o[0-7]+$/i,Hn=/^(?:0|[1-9]\d*)$/,Jn={};Jn["[object Float32Array]"]=Jn["[object Float64Array]"]=Jn["[object Int8Array]"]=Jn["[object Int16Array]"]=Jn["[object Int32Array]"]=Jn["[object Uint8Array]"]=Jn["[object Uint8ClampedArray]"]=Jn["[object Uint16Array]"]=Jn["[object Uint32Array]"]=!0,Jn["[object Arguments]"]=Jn["[object Array]"]=Jn["[object ArrayBuffer]"]=Jn["[object Boolean]"]=Jn["[object DataView]"]=Jn["[object Date]"]=Jn["[object Error]"]=Jn["[object Function]"]=Jn["[object Map]"]=Jn["[object Number]"]=Jn["[object Object]"]=Jn["[object RegExp]"]=Jn["[object Set]"]=Jn["[object String]"]=Jn["[object WeakMap]"]=!1;var Qn={};Qn["[object Arguments]"]=Qn["[object Array]"]=Qn["[object ArrayBuffer]"]=Qn["[object DataView]"]=Qn["[object Boolean]"]=Qn["[object Date]"]=Qn["[object Float32Array]"]=Qn["[object Float64Array]"]=Qn["[object Int8Array]"]=Qn["[object Int16Array]"]=Qn["[object Int32Array]"]=Qn["[object Map]"]=Qn["[object Number]"]=Qn["[object Object]"]=Qn["[object RegExp]"]=Qn["[object Set]"]=Qn["[object String]"]=Qn["[object Symbol]"]=Qn["[object Uint8Array]"]=Qn["[object Uint8ClampedArray]"]=Qn["[object Uint16Array]"]=Qn["[object Uint32Array]"]=!0,Qn["[object Error]"]=Qn["[object Function]"]=Qn["[object WeakMap]"]=!1;var Xn,Yn=parseInt,Zn="object"==typeof global&&global&&global.Object===Object&&global,te="object"==typeof self&&self&&self.Object===Object&&self,ne=Zn||te||Function("return this")(),ee="object"==typeof exports&&exports&&!exports.nodeType&&exports,re=ee&&"object"==typeof module&&module&&!module.nodeType&&module,oe=re&&re.exports===ee,ue=oe&&Zn.process;t:{try{Xn=ue&&ue.binding&&ue.binding("util");break t}catch(t){}Xn=void 0}var ie=Xn&&Xn.isMap,ce=Xn&&Xn.isSet,ae=Xn&&Xn.isTypedArray,fe=Array.prototype,le=Object.prototype,se=ne["__core-js_shared__"],he=Function.prototype.toString,be=le.hasOwnProperty,pe=function(){var t=/[^.]+$/.exec(se&&se.keys&&se.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ve=le.toString,ye=he.call(Object),ge=RegExp("^"+he.call(be).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_e=oe?ne.Buffer:Fn,je=ne.Symbol,de=ne.Uint8Array,we=_e?_e.f:Fn,Ae=_(Object.getPrototypeOf),me=Object.create,Oe=le.propertyIsEnumerable,Se=fe.splice,ke=je?je.isConcatSpreadable:Fn,xe=je?je.toStringTag:Fn,ze=function(){try{var t=Lt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),Ee=Object.getOwnPropertySymbols,Ie=_e?_e.isBuffer:Fn,Fe=_(Object.keys),Me=Math.max,Be=Math.min,Ue=Date.now,$e=Lt(ne,"DataView"),De=Lt(ne,"Map"),Le=Lt(ne,"Promise"),Ne=Lt(ne,"Set"),Pe=Lt(ne,"WeakMap"),Ce=Lt(Object,"create"),Re=Pe&&new Pe,Te={},Ve=Qt($e),We=Qt(De),qe=Qt(Le),Ge=Qt(Ne),Ke=Qt(Pe),He=je?je.prototype:Fn,Je=He?He.valueOf:Fn,Qe=He?He.toString:Fn,Xe=function(){function t(){}return function(n){return ln(n)?me?me(n):(t.prototype=n,n=new t,t.prototype=Fn,n):{}}}();m.prototype=Xe(function(){}.prototype),m.prototype.constructor=m,O.prototype.clear=function(){this.__data__=Ce?Ce(null):{},this.size=0},O.prototype["delete"]=function(t){return t=this.has(t)&&delete this.__data__[t],this.size-=t?1:0,t},O.prototype.get=function(t){var n=this.__data__;return Ce?(t=n[t],"__lodash_hash_undefined__"===t?Fn:t):be.call(n,t)?n[t]:Fn;
},O.prototype.has=function(t){var n=this.__data__;return Ce?n[t]!==Fn:be.call(n,t)},O.prototype.set=function(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=Ce&&n===Fn?"__lodash_hash_undefined__":n,this},S.prototype.clear=function(){this.__data__=[],this.size=0},S.prototype["delete"]=function(t){var n=this.__data__;return t=F(n,t),!(0>t||(t==n.length-1?n.pop():Se.call(n,t,1),--this.size,0))},S.prototype.get=function(t){var n=this.__data__;return t=F(n,t),0>t?Fn:n[t][1]},S.prototype.has=function(t){return-1<F(this.__data__,t)},S.prototype.set=function(t,n){var e=this.__data__,r=F(e,t);return 0>r?(++this.size,e.push([t,n])):e[r][1]=n,this},k.prototype.clear=function(){this.size=0,this.__data__={hash:new O,map:new(De||S),string:new O}},k.prototype["delete"]=function(t){return t=$t(this,t)["delete"](t),this.size-=t?1:0,t},k.prototype.get=function(t){return $t(this,t).get(t)},k.prototype.has=function(t){return $t(this,t).has(t)},k.prototype.set=function(t,n){var e=$t(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this},x.prototype.add=x.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},x.prototype.has=function(t){return this.__data__.has(t)},z.prototype.clear=function(){this.__data__=new S,this.size=0},z.prototype["delete"]=function(t){var n=this.__data__;return t=n["delete"](t),this.size=n.size,t},z.prototype.get=function(t){return this.__data__.get(t)},z.prototype.has=function(t){return this.__data__.has(t)},z.prototype.set=function(t,n){var e=this.__data__;if(e instanceof S){var r=e.__data__;if(!De||199>r.length)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new k(r)}return e.set(t,n),this.size=e.size,this};var Ye=function(t,n){return function(e,r){if(null==e)return e;if(!un(e))return t(e,r);for(var o=e.length,u=n?o:-1,i=Object(e);(n?u--:++u<o)&&!1!==r(i[u],u,i););return e}}(function(t,n){return t&&Ze(t,n,wn)}),Ze=function(t){return function(n,e,r){var o=-1,u=Object(n);r=r(n);for(var i=r.length;i--;){var c=r[t?i:++o];if(!1===e(u[c],c,u))break}return n}}(),tr=Re?function(t,n){return Re.set(t,n),t}:Sn,nr=ze?function(t,n){return ze(t,"toString",{configurable:!0,enumerable:!1,value:On(n),writable:!0})}:Sn,er=Ne&&1/d(new Ne([,-0]))[1]==Mn?function(t){return new Ne(t)}:xn,rr=Re?function(t){return Re.get(t)}:xn,or=Ee?function(t){return null==t?[]:(t=Object(t),r(Ee(t),function(n){return Oe.call(t,n)}))}:En,ur=Ee?function(t){for(var n=[];t;)i(n,or(t)),t=Ae(t);return n}:En,ir=T;($e&&"[object DataView]"!=ir(new $e(new ArrayBuffer(1)))||De&&"[object Map]"!=ir(new De)||Le&&"[object Promise]"!=ir(Le.resolve())||Ne&&"[object Set]"!=ir(new Ne)||Pe&&"[object WeakMap]"!=ir(new Pe))&&(ir=function(t){var n=T(t);if(t=(t="[object Object]"==n?t.constructor:Fn)?Qt(t):"")switch(t){case Ve:return"[object DataView]";case We:return"[object Map]";case qe:return"[object Promise]";case Ge:return"[object Set]";case Ke:return"[object WeakMap]"}return n});var cr=Ht(tr),ar=Ht(nr),fr=function(t){t=rn(t,function(t){return 500===n.size&&n.clear(),t});var n=t.cache;return t}(function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(Ln,function(t,e,r,o){n.push(r?o.replace(Tn,"$1"):e||t)}),n}),lr=it(function(t){return ft(P(t,1,cn,!0))}),sr=it(function(t,n){var e;if(cn(t)){e=n;var r=-1,u=o,i=!0,c=t.length,a=[],f=e.length;if(c)t:for(200<=e.length&&(u=y,i=!1,e=new x(e));++r<c;){var l=t[r],s=l,l=0!==l?l:0;if(i&&s===s){for(var h=f;h--;)if(e[h]===s)continue t;a.push(l)}else u(e,s,void 0)||a.push(l)}e=a}else e=[];return e}),hr=mt(Yt),br=mt(Zt),pr=it(function(t,n){if(null==t)return[];var e=n.length;return e>1&&Tt(t,n[0],n[1])?n=[]:e>2&&Tt(n[0],n[1],n[2])&&(n=[n[0]]),et(t,P(n,1),[])}),vr=it(function(t,n,e){var r=1;if(e.length)var o=j(e,Bt(vr)),r=32|r;var u,i,c=n,a=e,f=o,o=2&r;if(!o&&"function"!=typeof t)throw new TypeError("Expected a function");if(e=a?a.length:0,e||(r&=-97,a=f=Fn),u=u===Fn?u:Me(yn(u),0),i=i===Fn?i:yn(i),e-=f?f.length:0,64&r)var l=a,s=f,a=f=Fn;return n=o?Fn:rr(t),u=[t,r,c,a,f,l,s,void 0,u,i],n&&(l=u[1],i=n[1],t=l|i,s=128==i&&8==l||128==i&&256==l&&u[7].length<=n[8]||384==i&&n[7].length<=n[8]&&8==l,131>t||s)&&(1&i&&(u[2]=n[2],t|=1&l?0:4),(l=n[3])&&(s=u[3],u[3]=s?pt(s,l,n[4]):l,u[4]=s?j(u[3],"__lodash_placeholder__"):n[4]),(l=n[5])&&(s=u[5],u[5]=s?vt(s,l,n[6]):l,u[6]=s?j(u[5],"__lodash_placeholder__"):n[6]),(l=n[7])&&(u[7]=l),128&i&&(u[8]=null==u[8]?n[8]:Be(u[8],n[8])),null==u[9]&&(u[9]=n[9]),u[0]=n[0],u[1]=t),t=u[0],r=u[1],c=u[2],a=u[3],f=u[4],i=u[9]=u[9]===Fn?o?0:t.length:Me(u[9]-e,0),!i&&24&r&&(r&=-25),Kt((n?tr:cr)(r&&1!=r?8==r||16==r?At(t,r,i):32!=r&&33!=r||f.length?Ot.apply(Fn,u):St(t,r,c,a):dt(t,r,c),u),t,r)});rn.Cache=k;var yr=W(function(){return arguments}())?W:function(t){return sn(t)&&be.call(t,"callee")&&!Oe.call(t,"callee")},gr=Array.isArray,_r=Ie||In,jr=ie?p(ie):G,dr=ce?p(ce):H,wr=ae?p(ae):J,Ar=function(t){return it(function(n,e){var r=-1,o=e.length,u=o>1?e[o-1]:Fn,i=o>2?e[2]:Fn,u=3<t.length&&"function"==typeof u?(o--,u):Fn;for(i&&Tt(e[0],e[1],i)&&(u=3>o?Fn:u,o=1),n=Object(n);++r<o;)(i=e[r])&&t(n,i,r,u);return n})}(function(t,n){gt(n,An(n),t)}),mr=it(function(t,n){t=Object(t);var e=-1,r=n.length,o=r>2?n[2]:Fn;for(o&&Tt(n[0],n[1],o)&&(r=1);++e<r;)for(var o=n[e],u=An(o),i=-1,c=u.length;++i<c;){var a=u[i],f=t[a];(f===Fn||on(f,le[a])&&!be.call(t,a))&&(t[a]=o[a])}return t}),Or=It(function(t,n){var e={};if(null==t)return e;var r=!1;n=u(n,function(n){return n=st(n,t),r||(r=1<n.length),n}),gt(t,Mt(t),e),r&&(e=$(e,7,xt));for(var o=n.length;o--;)lt(e,n[o]);return e}),Sr=It(function(t,n){return null==t?{}:rt(t,n)});A.assignIn=Ar,A.bind=vr,A.compact=function(t){for(var n=-1,e=null==t?0:t.length,r=0,o=[];++n<e;){var u=t[n];u&&(o[r++]=u)}return o},A.concat=function(){var t=arguments.length;if(!t)return[];for(var n=Array(t-1),e=arguments[0];t--;)n[t-1]=arguments[t];return i(gr(e)?yt(e):[e],P(n,1))},A.constant=On,A.defaults=mr,A.filter=function(t,n){return(gr(t)?r:N)(t,Ut(n,3))},A.flatten=tn,A.initial=function(t){return(null==t?0:t.length)?ct(t):[]},A.iteratee=kn,A.keys=wn,A.keysIn=An,A.map=function(t,n){return(gr(t)?u:Z)(t,Ut(n,3))},A.memoize=rn,A.omit=Or,A.orderBy=function(t,n,e,r){return null==t?[]:(gr(n)||(n=null==n?[]:[n]),e=r?Fn:e,gr(e)||(e=null==e?[]:[e]),et(t,n,e))},A.pick=Sr,A.property=zn,A.sortBy=pr,A.sortedUniq=function(t){if(t&&t.length){for(var n=-1,e=t.length,r=0,o=[];++n<e;){var u=t[n],i=u;if(!n||!on(i,c)){var c=i;o[r++]=0===u?0:u}}t=o}else t=[];return t},A.union=lr,A.uniq=function(t){return t&&t.length?ft(t):[]},A.uniqBy=function(t,n){return t&&t.length?ft(t,Ut(n,2)):[]},A.values=mn,A.without=sr,A.extend=Ar,A.clone=function(t){return $(t,4)},A.cloneDeep=function(t){return $(t,5)},A.eq=on,A.every=function(t,n,r){var o=gr(t)?e:D;return r&&Tt(t,n,r)&&(n=Fn),o(t,Ut(n,3))},A.find=hr,A.findIndex=Yt,A.findLast=br,A.findLastIndex=Zt,A.forEach=en,A.get=jn,A.hasIn=dn,A.identity=Sn,A.includes=function(t,n,e,r){return t=un(t)?t:mn(t),e=e&&!r?yn(e):0,r=t.length,0>e&&(e=Me(r+e,0)),bn(t)?r>=e&&-1<t.indexOf(n,e):!!r&&-1<(n===n?w(t,n,e):f(t,l,e))},A.isArguments=yr,A.isArray=gr,A.isArrayLike=un,A.isArrayLikeObject=cn,A.isBuffer=_r,A.isEmpty=function(t){if(null==t)return!0;if(un(t)&&(gr(t)||"string"==typeof t||"function"==typeof t.splice||_r(t)||wr(t)||yr(t)))return!t.length;var n=ir(t);if("[object Map]"==n||"[object Set]"==n)return!t.size;if(Wt(t))return!X(t).length;for(var e in t)if(be.call(t,e))return!1;return!0},A.isFunction=an,A.isLength=fn,A.isMap=jr,A.isNull=function(t){return null===t},A.isNumber=function(t){return"number"==typeof t||sn(t)&&"[object Number]"==T(t)},A.isObject=ln,A.isObjectLike=sn,A.isPlainObject=hn,A.isSet=dr,A.isString=bn,A.isSymbol=pn,A.isTypedArray=wr,A.isUndefined=function(t){return t===Fn},A.last=nn,A.max=function(t){return t&&t.length?L(t,Sn,V):Fn},A.maxBy=function(t,n){return t&&t.length?L(t,Ut(n,2),V):Fn},A.min=function(t){return t&&t.length?L(t,Sn,Y):Fn},A.stubArray=En,A.stubFalse=In,A.noop=xn,A.reduce=function(t,n,e){var r=gr(t)?c:h,o=3>arguments.length;return r(t,Ut(n,4),e,o,Ye)},A.toFinite=vn,A.toInteger=yn,A.toNumber=gn,A.toString=_n,A.each=en,A.VERSION="4.17.5",vr.placeholder=A,"function"==typeof define&&"object"==typeof define.amd&&define.amd?(ne._=A,define(function(){return A})):re?((re.exports=A)._=A,ee._=A):ne._=A}.call(this),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="angular-md5"),!function(a){a.module("angular-md5",["gdi2290.md5"]),a.module("ngMd5",["gdi2290.md5"]),a.module("gdi2290.md5",["gdi2290.gravatar-filter","gdi2290.md5-service","gdi2290.md5-filter"]),a.module("gdi2290.gravatar-filter",[]).filter("gravatar",["md5",function(a){var b={};return function(c,d){return b[c]||(d=d?a.createHash(d.toString().toLowerCase()):"",b[c]=c?a.createHash(c.toString().toLowerCase()):d),b[c]}}]),a.module("gdi2290.md5-filter",[]).filter("md5",["md5",function(a){return function(b){return b?a.createHash(b.toString().toLowerCase()):b}}]),a.module("gdi2290.md5-service",[]).factory("md5",[function(){var a={createHash:function(a){if(null===a)return null;var b,c,d,e,f,g,h,i,j,k,l=function(a,b){return a<<b|a>>>32-b},m=function(a,b){var c,d,e,f,g;return e=2147483648&a,f=2147483648&b,c=1073741824&a,d=1073741824&b,g=(1073741823&a)+(1073741823&b),c&d?2147483648^g^e^f:c|d?1073741824&g?3221225472^g^e^f:1073741824^g^e^f:g^e^f},n=function(a,b,c){return a&b|~a&c},o=function(a,b,c){return a&c|b&~c},p=function(a,b,c){return a^b^c},q=function(a,b,c){return b^(a|~c)},r=function(a,b,c,d,e,f,g){return a=m(a,m(m(n(b,c,d),e),g)),m(l(a,f),b)},s=function(a,b,c,d,e,f,g){return a=m(a,m(m(o(b,c,d),e),g)),m(l(a,f),b)},t=function(a,b,c,d,e,f,g){return a=m(a,m(m(p(b,c,d),e),g)),m(l(a,f),b)},u=function(a,b,c,d,e,f,g){return a=m(a,m(m(q(b,c,d),e),g)),m(l(a,f),b)},v=function(a){for(var b,c=a.length,d=c+8,e=(d-d%64)/64,f=16*(e+1),g=new Array(f-1),h=0,i=0;c>i;)b=(i-i%4)/4,h=i%4*8,g[b]=g[b]|a.charCodeAt(i)<<h,i++;return b=(i-i%4)/4,h=i%4*8,g[b]=g[b]|128<<h,g[f-2]=c<<3,g[f-1]=c>>>29,g},w=function(a){var b,c,d="",e="";for(c=0;3>=c;c++)b=a>>>8*c&255,e="0"+b.toString(16),d+=e.substr(e.length-2,2);return d},x=[],y=7,z=12,A=17,B=22,C=5,D=9,E=14,F=20,G=4,H=11,I=16,J=23,K=6,L=10,M=15,N=21;for(x=v(a),h=1732584193,i=4023233417,j=2562383102,k=271733878,b=x.length,c=0;b>c;c+=16)d=h,e=i,f=j,g=k,h=r(h,i,j,k,x[c+0],y,3614090360),k=r(k,h,i,j,x[c+1],z,3905402710),j=r(j,k,h,i,x[c+2],A,606105819),i=r(i,j,k,h,x[c+3],B,3250441966),h=r(h,i,j,k,x[c+4],y,4118548399),k=r(k,h,i,j,x[c+5],z,1200080426),j=r(j,k,h,i,x[c+6],A,2821735955),i=r(i,j,k,h,x[c+7],B,4249261313),h=r(h,i,j,k,x[c+8],y,1770035416),k=r(k,h,i,j,x[c+9],z,2336552879),j=r(j,k,h,i,x[c+10],A,4294925233),i=r(i,j,k,h,x[c+11],B,2304563134),h=r(h,i,j,k,x[c+12],y,1804603682),k=r(k,h,i,j,x[c+13],z,4254626195),j=r(j,k,h,i,x[c+14],A,2792965006),i=r(i,j,k,h,x[c+15],B,1236535329),h=s(h,i,j,k,x[c+1],C,4129170786),k=s(k,h,i,j,x[c+6],D,3225465664),j=s(j,k,h,i,x[c+11],E,643717713),i=s(i,j,k,h,x[c+0],F,3921069994),h=s(h,i,j,k,x[c+5],C,3593408605),k=s(k,h,i,j,x[c+10],D,38016083),j=s(j,k,h,i,x[c+15],E,3634488961),i=s(i,j,k,h,x[c+4],F,3889429448),h=s(h,i,j,k,x[c+9],C,568446438),k=s(k,h,i,j,x[c+14],D,3275163606),j=s(j,k,h,i,x[c+3],E,4107603335),i=s(i,j,k,h,x[c+8],F,1163531501),h=s(h,i,j,k,x[c+13],C,2850285829),k=s(k,h,i,j,x[c+2],D,4243563512),j=s(j,k,h,i,x[c+7],E,1735328473),i=s(i,j,k,h,x[c+12],F,2368359562),h=t(h,i,j,k,x[c+5],G,4294588738),k=t(k,h,i,j,x[c+8],H,2272392833),j=t(j,k,h,i,x[c+11],I,1839030562),i=t(i,j,k,h,x[c+14],J,4259657740),h=t(h,i,j,k,x[c+1],G,2763975236),k=t(k,h,i,j,x[c+4],H,1272893353),j=t(j,k,h,i,x[c+7],I,4139469664),i=t(i,j,k,h,x[c+10],J,3200236656),h=t(h,i,j,k,x[c+13],G,681279174),k=t(k,h,i,j,x[c+0],H,3936430074),j=t(j,k,h,i,x[c+3],I,3572445317),i=t(i,j,k,h,x[c+6],J,76029189),h=t(h,i,j,k,x[c+9],G,3654602809),k=t(k,h,i,j,x[c+12],H,3873151461),j=t(j,k,h,i,x[c+15],I,530742520),i=t(i,j,k,h,x[c+2],J,3299628645),h=u(h,i,j,k,x[c+0],K,4096336452),k=u(k,h,i,j,x[c+7],L,1126891415),j=u(j,k,h,i,x[c+14],M,2878612391),i=u(i,j,k,h,x[c+5],N,4237533241),h=u(h,i,j,k,x[c+12],K,1700485571),k=u(k,h,i,j,x[c+3],L,2399980690),j=u(j,k,h,i,x[c+10],M,4293915773),i=u(i,j,k,h,x[c+1],N,2240044497),h=u(h,i,j,k,x[c+8],K,1873313359),k=u(k,h,i,j,x[c+15],L,4264355552),j=u(j,k,h,i,x[c+6],M,2734768916),i=u(i,j,k,h,x[c+13],N,1309151649),h=u(h,i,j,k,x[c+4],K,4149444226),k=u(k,h,i,j,x[c+11],L,3174756917),j=u(j,k,h,i,x[c+2],M,718787259),i=u(i,j,k,h,x[c+9],N,3951481745),h=m(h,d),i=m(i,e),j=m(j,f),k=m(k,g);var O=w(h)+w(i)+w(j)+w(k);return O.toLowerCase()}};return a}])}(angular),!function(){var a=angular.module("restangular",[]);a.provider("Restangular",function(){var a={};a.init=function(a,b){function c(a,b,c,d){var e={};return _.each(_.keys(d),function(f){var g=d[f];g.params=_.extend({},g.params,a.defaultRequestParams[g.method.toLowerCase()]),_.isEmpty(g.params)&&delete g.params,a.isSafe(g.method)?e[f]=function(){return b(_.extend(g,{url:c}))}:e[f]=function(a){return b(_.extend(g,{url:c,data:a}))}}),e}a.configuration=b;var d=["get","head","options","trace","getlist"];b.isSafe=function(a){return _.includes(d,a.toLowerCase())};var e=/^https?:\/\//i;b.isAbsoluteUrl=function(a){return _.isUndefined(b.absoluteUrl)||_.isNull(b.absoluteUrl)?a&&e.test(a):b.absoluteUrl},b.absoluteUrl=_.isUndefined(b.absoluteUrl)?!0:b.absoluteUrl,a.setSelfLinkAbsoluteUrl=function(a){b.absoluteUrl=a},b.baseUrl=_.isUndefined(b.baseUrl)?"":b.baseUrl,a.setBaseUrl=function(a){return b.baseUrl=/\/$/.test(a)?a.substring(0,a.length-1):a,this},b.extraFields=b.extraFields||[],a.setExtraFields=function(a){return b.extraFields=a,this},b.defaultHttpFields=b.defaultHttpFields||{},a.setDefaultHttpFields=function(a){return b.defaultHttpFields=a,this},b.withHttpValues=function(a,c){return _.defaults(c,a,b.defaultHttpFields)},b.encodeIds=_.isUndefined(b.encodeIds)?!0:b.encodeIds,a.setEncodeIds=function(a){b.encodeIds=a},b.defaultRequestParams=b.defaultRequestParams||{get:{},post:{},put:{},remove:{},common:{}},a.setDefaultRequestParams=function(a,c){var d=[],e=c||a;return _.isUndefined(c)?d.push("common"):_.isArray(a)?d=a:d.push(a),_.each(d,function(a){b.defaultRequestParams[a]=e}),this},a.requestParams=b.defaultRequestParams,b.defaultHeaders=b.defaultHeaders||{},a.setDefaultHeaders=function(c){return b.defaultHeaders=c,a.defaultHeaders=b.defaultHeaders,this},a.defaultHeaders=b.defaultHeaders,b.methodOverriders=b.methodOverriders||[],a.setMethodOverriders=function(a){var c=_.extend([],a);return b.isOverridenMethod("delete",c)&&c.push("remove"),b.methodOverriders=c,this},b.jsonp=_.isUndefined(b.jsonp)?!1:b.jsonp,a.setJsonp=function(a){b.jsonp=a},b.isOverridenMethod=function(a,c){var d=c||b.methodOverriders;return!_.isUndefined(_.find(d,function(b){return b.toLowerCase()===a.toLowerCase()}))},b.urlCreator=b.urlCreator||"path",a.setUrlCreator=function(a){if(!_.has(b.urlCreatorFactory,a))throw new Error("URL Path selected isn't valid");return b.urlCreator=a,this},b.restangularFields=b.restangularFields||{id:"id",route:"route",parentResource:"parentResource",restangularCollection:"restangularCollection",cannonicalId:"__cannonicalId",etag:"restangularEtag",selfLink:"href",get:"get",getList:"getList",put:"put",post:"post",remove:"remove",head:"head",trace:"trace",options:"options",patch:"patch",getRestangularUrl:"getRestangularUrl",getRequestedUrl:"getRequestedUrl",putElement:"putElement",addRestangularMethod:"addRestangularMethod",getParentList:"getParentList",clone:"clone",ids:"ids",httpConfig:"_$httpConfig",reqParams:"reqParams",one:"one",all:"all",several:"several",oneUrl:"oneUrl",allUrl:"allUrl",customPUT:"customPUT",customPOST:"customPOST",customDELETE:"customDELETE",customGET:"customGET",customGETLIST:"customGETLIST",customOperation:"customOperation",doPUT:"doPUT",doPOST:"doPOST",doDELETE:"doDELETE",doGET:"doGET",doGETLIST:"doGETLIST",fromServer:"fromServer",withConfig:"withConfig",withHttpConfig:"withHttpConfig",singleOne:"singleOne",plain:"plain",save:"save",restangularized:"restangularized"},a.setRestangularFields=function(a){return b.restangularFields=_.extend(b.restangularFields,a),this},b.isRestangularized=function(a){return!!a[b.restangularFields.restangularized]},b.setFieldToElem=function(a,b,c){var d=a.split("."),e=b;return _.each(_.initial(d),function(a){e[a]={},e=e[a]}),e[_.last(d)]=c,this},b.getFieldFromElem=function(a,b){var c=a.split("."),d=b;return _.each(c,function(a){d&&(d=d[a])}),angular.copy(d)},b.setIdToElem=function(a,c){return b.setFieldToElem(b.restangularFields.id,a,c),this},b.getIdFromElem=function(a){return b.getFieldFromElem(b.restangularFields.id,a)},b.isValidId=function(a){return""!==a&&!_.isUndefined(a)&&!_.isNull(a)},b.setUrlToElem=function(a,c){return b.setFieldToElem(b.restangularFields.selfLink,a,c),this},b.getUrlFromElem=function(a){return b.getFieldFromElem(b.restangularFields.selfLink,a)},b.useCannonicalId=_.isUndefined(b.useCannonicalId)?!1:b.useCannonicalId,a.setUseCannonicalId=function(a){return b.useCannonicalId=a,this},b.getCannonicalIdFromElem=function(a){var c=a[b.restangularFields.cannonicalId],d=b.isValidId(c)?c:b.getIdFromElem(a);return d},b.responseInterceptors=b.responseInterceptors||[],b.defaultResponseInterceptor=function(a){return a},b.responseExtractor=function(a,c,d,e,f,g){var h=angular.copy(b.responseInterceptors);h.push(b.defaultResponseInterceptor);var i=a;return _.each(h,function(a){i=a(i,c,d,e,f,g)}),i},a.addResponseInterceptor=function(a){return b.responseInterceptors.push(a),this},b.errorInterceptors=b.errorInterceptors||[],a.addErrorInterceptor=function(a){return b.errorInterceptors.push(a),this},a.setResponseInterceptor=a.addResponseInterceptor,a.setResponseExtractor=a.addResponseInterceptor,a.setErrorInterceptor=a.addErrorInterceptor,b.requestInterceptors=b.requestInterceptors||[],b.defaultInterceptor=function(a,b,c,d,e,f,g){return{element:a,headers:e,params:f,httpConfig:g}},b.fullRequestInterceptor=function(a,c,d,e,f,g,h){var i=angular.copy(b.requestInterceptors),j=b.defaultInterceptor(a,c,d,e,f,g,h);return _.reduce(i,function(a,b){return _.extend(a,b(a.element,c,d,e,a.headers,a.params,a.httpConfig))},j)},a.addRequestInterceptor=function(a){return b.requestInterceptors.push(function(b,c,d,e,f,g,h){return{headers:f,params:g,element:a(b,c,d,e),httpConfig:h}}),this},a.setRequestInterceptor=a.addRequestInterceptor,a.addFullRequestInterceptor=function(a){return b.requestInterceptors.push(a),this},a.setFullRequestInterceptor=a.addFullRequestInterceptor,b.onBeforeElemRestangularized=b.onBeforeElemRestangularized||function(a){return a},a.setOnBeforeElemRestangularized=function(a){return b.onBeforeElemRestangularized=a,this},a.setRestangularizePromiseInterceptor=function(a){return b.restangularizePromiseInterceptor=a,this},b.onElemRestangularized=b.onElemRestangularized||function(a){return a},a.setOnElemRestangularized=function(a){return b.onElemRestangularized=a,this},b.shouldSaveParent=b.shouldSaveParent||function(){return!0},a.setParentless=function(a){return _.isArray(a)?b.shouldSaveParent=function(b){return!_.includes(a,b)}:_.isBoolean(a)&&(b.shouldSaveParent=function(){return!a}),this},b.suffix=_.isUndefined(b.suffix)?null:b.suffix,a.setRequestSuffix=function(a){return b.suffix=a,this},b.transformers=b.transformers||{},a.addElementTransformer=function(c,d,e){var f=null,g=null;2===arguments.length?g=d:(g=e,f=d);var h=b.transformers[c];return h||(h=b.transformers[c]=[]),h.push(function(a,b){return _.isNull(f)||a===f?g(b):b}),a},a.extendCollection=function(b,c){return a.addElementTransformer(b,!0,c)},a.extendModel=function(b,c){return a.addElementTransformer(b,!1,c)},b.transformElem=function(a,c,d,e,f){if(!f&&!b.transformLocalElements&&!a[b.restangularFields.fromServer])return a;var g=b.transformers[d],h=a;return g&&_.each(g,function(a){h=a(c,h)}),b.onElemRestangularized(h,c,d,e)},b.transformLocalElements=_.isUndefined(b.transformLocalElements)?!1:b.transformLocalElements,a.setTransformOnlyServerElements=function(a){b.transformLocalElements=!a},b.fullResponse=_.isUndefined(b.fullResponse)?!1:b.fullResponse,a.setFullResponse=function(a){return b.fullResponse=a,this},b.urlCreatorFactory={};var f=function(){};f.prototype.setConfig=function(a){return this.config=a,this},f.prototype.parentsArray=function(a){for(var b=[];a;)b.push(a),a=a[this.config.restangularFields.parentResource];return b.reverse()},f.prototype.resource=function(a,d,e,f,g,h,i,j){var k=_.defaults(g||{},this.config.defaultRequestParams.common),l=_.defaults(f||{},this.config.defaultHeaders);i&&(b.isSafe(j)?l["If-None-Match"]=i:l["If-Match"]=i);var m=this.base(a);if(h){var n="";/\/$/.test(m)||(n+="/"),n+=h,m+=n}return this.config.suffix&&-1===m.indexOf(this.config.suffix,m.length-this.config.suffix.length)&&!this.config.getUrlFromElem(a)&&(m+=this.config.suffix),a[this.config.restangularFields.httpConfig]=void 0,c(this.config,d,m,{getList:this.config.withHttpValues(e,{method:"GET",params:k,headers:l}),get:this.config.withHttpValues(e,{method:"GET",params:k,headers:l}),jsonp:this.config.withHttpValues(e,{method:"jsonp",params:k,headers:l}),put:this.config.withHttpValues(e,{method:"PUT",params:k,headers:l}),post:this.config.withHttpValues(e,{method:"POST",params:k,headers:l}),remove:this.config.withHttpValues(e,{method:"DELETE",params:k,headers:l}),head:this.config.withHttpValues(e,{method:"HEAD",params:k,headers:l}),trace:this.config.withHttpValues(e,{method:"TRACE",params:k,headers:l}),options:this.config.withHttpValues(e,{method:"OPTIONS",params:k,headers:l}),patch:this.config.withHttpValues(e,{method:"PATCH",params:k,headers:l})})};var g=function(){};g.prototype=new f,g.prototype.normalizeUrl=function(a){var b=/(http[s]?:\/\/)?(.*)?/.exec(a);return b[2]=b[2].replace(/[\\\/]+/g,"/"),"undefined"!=typeof b[1]?b[1]+b[2]:b[2]},g.prototype.base=function(a){var c=this;return _.reduce(this.parentsArray(a),function(a,d){var e,f=c.config.getUrlFromElem(d);if(f){if(c.config.isAbsoluteUrl(f))return f;e=f}else if(e=d[c.config.restangularFields.route],d[c.config.restangularFields.restangularCollection]){var g=d[c.config.restangularFields.ids];g&&(e+="/"+g.join(","))}else{var h;h=c.config.useCannonicalId?c.config.getCannonicalIdFromElem(d):c.config.getIdFromElem(d),b.isValidId(h)&&!d.singleOne&&(e+="/"+(c.config.encodeIds?encodeURIComponent(h):h))}return a=a.replace(/\/$/,"")+"/"+e,c.normalizeUrl(a)},this.config.baseUrl)},g.prototype.fetchUrl=function(a,b){var c=this.base(a);return b&&(c+="/"+b),c},g.prototype.fetchRequestedUrl=function(a,c){function d(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b.sort()}function e(a,b,c){for(var e=d(a),f=0;f<e.length;f++)b.call(c,a[e[f]],e[f]);return e}function f(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}var g=this.fetchUrl(a,c),h=a[b.restangularFields.reqParams];if(!h)return g+(this.config.suffix||"");var i=[];return e(h,function(a,b){null!==a&&void 0!==a&&(angular.isArray(a)||(a=[a]),angular.forEach(a,function(a){angular.isObject(a)&&(a=angular.toJson(a)),i.push(f(b)+"="+f(a))}))}),g+(this.config.suffix||"")+(-1===g.indexOf("?")?"?":"&")+i.join("&")},b.urlCreatorFactory.path=g};var b={};a.init(this,b),this.$get=["$http","$q",function(c,d){function e(b){function f(a,c,d,e,f){if(c[b.restangularFields.route]=d,c[b.restangularFields.getRestangularUrl]=_.bind(P.fetchUrl,P,c),c[b.restangularFields.getRequestedUrl]=_.bind(P.fetchRequestedUrl,P,c),c[b.restangularFields.addRestangularMethod]=_.bind(L,c),c[b.restangularFields.clone]=_.bind(r,c,c),c[b.restangularFields.reqParams]=_.isEmpty(e)?null:e,c[b.restangularFields.withHttpConfig]=_.bind(z,c),c[b.restangularFields.plain]=_.bind(p,c,c),c[b.restangularFields.restangularized]=!0,c[b.restangularFields.one]=_.bind(g,c,c),c[b.restangularFields.all]=_.bind(h,c,c),c[b.restangularFields.several]=_.bind(i,c,c),c[b.restangularFields.oneUrl]=_.bind(j,c,c),c[b.restangularFields.allUrl]=_.bind(k,c,c),c[b.restangularFields.fromServer]=!!f,a&&b.shouldSaveParent(d)){var l=b.getIdFromElem(a),m=b.getUrlFromElem(a),n=_.union(_.values(_.pick(b.restangularFields,["route","singleOne","parentResource"])),b.extraFields),o=_.pick(a,n);b.isValidId(l)&&b.setIdToElem(o,l,d),b.isValidId(m)&&b.setUrlToElem(o,m,d),c[b.restangularFields.parentResource]=o}else c[b.restangularFields.parentResource]=null;return c}function g(a,c,d,e){var f;if(_.isNumber(c)||_.isNumber(a))throw f="You're creating a Restangular entity with the number ",f+="instead of the route or the parent. For example, you can't call .one(12).",new Error(f);if(_.isUndefined(c))throw f="You're creating a Restangular entity either without the path. ",f+="For example you can't call .one(). Please check if your arguments are valid.",new Error(f);var g={};return b.setIdToElem(g,d,c),b.setFieldToElem(b.restangularFields.singleOne,g,e),s(a,g,c,!1)}function h(a,b){return t(a,[],b,!1)}function i(a,c){var d=[];return d[b.restangularFields.ids]=Array.prototype.splice.call(arguments,2),t(a,d,c,!1)}function j(a,c,d){if(!c)throw new Error("Route is mandatory when creating new Restangular objects.");var e={};return b.setUrlToElem(e,d,c),s(a,e,c,!1)}function k(a,c,d){if(!c)throw new Error("Route is mandatory when creating new Restangular objects.");var e={};return b.setUrlToElem(e,d,c),t(a,e,c,!1)}function l(a,c,d){return a.call=_.bind(m,a),a.get=_.bind(n,a),a[b.restangularFields.restangularCollection]=c,c&&(a.push=_.bind(m,a,"push")),a.$object=d,b.restangularizePromiseInterceptor&&b.restangularizePromiseInterceptor(a),a}function m(a){var c=d.defer(),e=arguments,f={};return this.then(function(b){var d=Array.prototype.slice.call(e,1),g=b[a];g.apply(b,d),f=b,c.resolve(b)}),l(c.promise,this[b.restangularFields.restangularCollection],f)}function n(a){var c=d.defer(),e={};return this.then(function(b){e=b[a],c.resolve(e)}),l(c.promise,this[b.restangularFields.restangularCollection],e)}function o(a,c,d,e){return _.extend(e,d),b.fullResponse?a.resolve(_.extend(c,{data:d})):void a.resolve(d)}function p(a){if(_.isArray(a)){var c=[];return _.each(a,function(a){c.push(b.isRestangularized(a)?p(a):a)}),c}return _.omit(a,_.values(_.omit(b.restangularFields,"id")))}function q(a){a[b.restangularFields.customOperation]=_.bind(K,a),_.each(["put","post","get","delete"],function(b){_.each(["do","custom"],function(c){var d,e="delete"===b?"remove":b,f=c+b.toUpperCase();d="put"!==e&&"post"!==e?K:function(a,b,c,d,e){return _.bind(K,this)(a,c,d,e,b)},a[f]=_.bind(d,a,e)})}),a[b.restangularFields.customGETLIST]=_.bind(y,a),a[b.restangularFields.doGETLIST]=a[b.restangularFields.customGETLIST]}function r(a,c){var d=angular.copy(a,c);return s(d[b.restangularFields.parentResource],d,d[b.restangularFields.route],!0)}function s(a,c,d,e,g,h){var i=b.onBeforeElemRestangularized(c,!1,d),j=f(a,i,d,h,e);return b.useCannonicalId&&(j[b.restangularFields.cannonicalId]=b.getIdFromElem(j)),g&&(j[b.restangularFields.getParentList]=function(){return g}),j[b.restangularFields.restangularCollection]=!1,j[b.restangularFields.get]=_.bind(C,j),j[b.restangularFields.getList]=_.bind(y,j),j[b.restangularFields.put]=_.bind(E,j),j[b.restangularFields.post]=_.bind(F,j),j[b.restangularFields.remove]=_.bind(D,j),j[b.restangularFields.head]=_.bind(G,j),j[b.restangularFields.trace]=_.bind(H,j),j[b.restangularFields.options]=_.bind(I,j),j[b.restangularFields.patch]=_.bind(J,j),j[b.restangularFields.save]=_.bind(A,j),q(j),b.transformElem(j,!1,d,O,!0)}function t(a,c,d,e,g){var h=b.onBeforeElemRestangularized(c,!0,d),i=f(a,h,d,g,e);return i[b.restangularFields.restangularCollection]=!0,i[b.restangularFields.post]=_.bind(F,i,null),i[b.restangularFields.remove]=_.bind(D,i),i[b.restangularFields.head]=_.bind(G,i),i[b.restangularFields.trace]=_.bind(H,i),i[b.restangularFields.putElement]=_.bind(w,i),i[b.restangularFields.options]=_.bind(I,i),i[b.restangularFields.patch]=_.bind(J,i),i[b.restangularFields.get]=_.bind(v,i),i[b.restangularFields.getList]=_.bind(y,i,null),q(i),b.transformElem(i,!0,d,O,!0)}function u(a,b,c){var d=t(a,b,c,!1);return _.each(d,function(b){s(a,b,c,!1)}),d}function v(a,b,c){return this.customGET(a.toString(),b,c)}function w(a,c,e){var f=this,g=this[a],h=d.defer(),i=[];return i=b.transformElem(i,!0,g[b.restangularFields.route],O),g.put(c,e).then(function(b){var c=r(f);c[a]=b,i=c,h.resolve(c)},function(a){h.reject(a)}),l(h.promise,!0,i)}function x(a,c,d,e,f,g){var h=b.responseExtractor(a,c,d,e,f,g),i=f.headers("ETag");return h&&i&&(h[b.restangularFields.etag]=i),h}function y(a,e,f){var g=this,h=d.defer(),i="getList",j=P.fetchUrl(this,a),k=a||g[b.restangularFields.route],m=b.fullRequestInterceptor(null,i,k,j,f||{},e||{},this[b.restangularFields.httpConfig]||{}),n=[];n=b.transformElem(n,!0,k,O);var p="getList";b.jsonp&&(p="jsonp");var q=function(c){var d=c.data,e=c.config.params,f=x(d,i,k,j,c,h);if((_.isUndefined(f)||""===f)&&(f=[]),!_.isArray(f))throw new Error("Response for getList SHOULD be an array and not an object or something else");var l=_.map(f,function(c){return g[b.restangularFields.restangularCollection]?s(g[b.restangularFields.parentResource],c,g[b.restangularFields.route],!0,f):s(g,c,a,!0,f)});l=_.extend(f,l),g[b.restangularFields.restangularCollection]?o(h,c,t(g[b.restangularFields.parentResource],l,g[b.restangularFields.route],!0,e),n):o(h,c,t(g,l,a,!0,e),n)};return P.resource(this,c,m.httpConfig,m.headers,m.params,a,this[b.restangularFields.etag],i)[p]().then(q,function(a){304===a.status&&g[b.restangularFields.restangularCollection]?o(h,a,g,n):_.every(b.errorInterceptors,function(b){return b(a,h,q)!==!1})&&h.reject(a)}),l(h.promise,!0,n)}function z(a){return this[b.restangularFields.httpConfig]=a,this}function A(a,c){return this[b.restangularFields.fromServer]?this[b.restangularFields.put](a,c):_.bind(B,this)("post",void 0,a,void 0,c)}function B(a,e,f,g,h){var i=this,j=d.defer(),k=f||{},m=e||this[b.restangularFields.route],n=P.fetchUrl(this,e),q=g||this,r=q[b.restangularFields.etag]||("post"!==a?this[b.restangularFields.etag]:null);_.isObject(q)&&b.isRestangularized(q)&&(q=p(q));var t=b.fullRequestInterceptor(q,a,m,n,h||{},k||{},this[b.restangularFields.httpConfig]||{}),u={};u=b.transformElem(u,!1,m,O);var v=function(c){var d=c.data,e=c.config.params,f=x(d,a,m,n,c,j);if(f){var g;"post"!==a||i[b.restangularFields.restangularCollection]?(g=s(i[b.restangularFields.parentResource],f,i[b.restangularFields.route],!0,null,e),g[b.restangularFields.singleOne]=i[b.restangularFields.singleOne],o(j,c,g,u)):(g=s(i[b.restangularFields.parentResource],f,m,!0,null,e),o(j,c,g,u))}else o(j,c,void 0,u)},w=function(c){304===c.status&&b.isSafe(a)?o(j,c,i,u):_.every(b.errorInterceptors,function(a){return a(c,j,v)!==!1})&&j.reject(c)},y=a,z=_.extend({},t.headers),A=b.isOverridenMethod(a);return A?(y="post",z=_.extend(z,{"X-HTTP-Method-Override":"remove"===a?"DELETE":a.toUpperCase()})):b.jsonp&&"get"===y&&(y="jsonp"),b.isSafe(a)?A?P.resource(this,c,t.httpConfig,z,t.params,e,r,y)[y]({}).then(v,w):P.resource(this,c,t.httpConfig,z,t.params,e,r,y)[y]().then(v,w):P.resource(this,c,t.httpConfig,z,t.params,e,r,y)[y](t.element).then(v,w),l(j.promise,!1,u)}function C(a,b){return _.bind(B,this)("get",void 0,a,void 0,b)}function D(a,b){return _.bind(B,this)("remove",void 0,a,void 0,b)}function E(a,b){return _.bind(B,this)("put",void 0,a,void 0,b)}function F(a,b,c,d){return _.bind(B,this)("post",a,c,b,d)}function G(a,b){return _.bind(B,this)("head",void 0,a,void 0,b)}function H(a,b){return _.bind(B,this)("trace",void 0,a,void 0,b)}function I(a,b){return _.bind(B,this)("options",void 0,a,void 0,b)}function J(a,b,c){return _.bind(B,this)("patch",void 0,b,a,c)}function K(a,b,c,d,e){return _.bind(B,this)(a,b,c,e,d)}function L(a,c,d,e,f,g){var h;h="getList"===c?_.bind(y,this,d):_.bind(K,this,c,d);var i=function(a,b,c){var d=_.defaults({params:a,headers:b,elem:c},{params:e,headers:f,elem:g});return h(d.params,d.headers,d.elem)};b.isSafe(c)?this[a]=i:this[a]=function(a,b,c){return i(b,c,a)}}function M(c){var d=angular.copy(_.omit(b,"configuration"));return a.init(d,d),c(d),e(d)}function N(a,c){var d=_.values(b.restangularFields),e={},f=(c||O).all(a);e.one=_.bind(g,c||O,c,a),e.post=_.bind(f.post,f),e.getList=_.bind(f.getList,f);for(var h in f)f.hasOwnProperty(h)&&_.isFunction(f[h])&&!_.includes(d,h)&&(e[h]=_.bind(f[h],f));return e}var O={},P=new b.urlCreatorFactory[b.urlCreator];return P.setConfig(b),a.init(O,b),O.copy=_.bind(r,O),O.service=_.bind(N,O),O.withConfig=_.bind(M,O),O.one=_.bind(g,O,null),O.all=_.bind(h,O,null),O.several=_.bind(i,O,null),O.oneUrl=_.bind(j,O,null),O.allUrl=_.bind(k,O,null),O.stripRestangular=_.bind(p,O),O.restangularizeElement=_.bind(s,O),O.restangularizeCollection=_.bind(u,O),O}return e(b)}]})}(),function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);
if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){function Paul(walkFn){if(!(this instanceof Paul))return new Paul(walkFn);var walker=this.walker=Paul.walker(walkFn);this.map=Paul.map(walker),this.filter=Paul.filter(walker),this.where=Paul.where(walker);for(var depthIter=this.depthIterator=Paul.depthIterator(walker),breadthIter=this.breadthIterator=Paul.breadthIterator(walker),methods=["forEach","find","findWhere","reduce","parent"],i=0;i<methods.length;i++){var method=methods[i],Method=cap(method);this["depth"+Method]=Paul[method](depthIter),this["breadth"+Method]=Paul[method](breadthIter)}this.depthSiblings=Paul.siblings(walker,depthIter),this.breadthSiblings=Paul.siblings(walker,breadthIter)}function getChildren(walker,node){for(var children=[],steps=walker(node),i=0;i<steps.length;i++)children=children.concat(steps[i][1]);return children}function cap(str){return str.charAt(0).toUpperCase()+str.slice(1)}function deepCopy(obj,notKeys){var ret={};for(var key in obj)if(obj.hasOwnProperty(key)&&!~notKeys.indexOf(key)){var val=obj[key];if("object"==typeof val){var head=key+".";ret[key]=deepCopy(val,notKeys.reduce(function(s,c){return c.indexOf(head)||s.push(c.slice(head.length)),s},[]))}else ret[key]=val}return ret}function deepHas(obj,prop){for(var levels=prop.split("."),i=0;i<levels.length;i++)if(obj=obj[levels[i]],!obj)return!1;return!0}function deepGet(obj,prop){for(var levels=prop.split("."),i=0;i<levels.length;i++)obj=obj[levels[i]];return obj}function deepSet(obj,prop,value){for(var levels=prop.split("."),end=levels.length-1,i=0;end>i;i++)obj=obj[levels[i]];obj[levels[end]]=value}function whereFilter(obj){return function(node){for(var key in obj)if(obj.hasOwnProperty(key)&&obj[key]!==node[key])return!1;return!0}}Paul.walker=function walker(walkFn){var walker=Array.isArray(walkFn)?function(node,walk){for(var i=0;i<walkFn.length;i++){var key=walkFn[i];deepHas(node,key)&&walk(key)}}:walkFn;return function(tree){var steps=[];return walker(tree,function(prop,node){void 0===node?steps.push([prop,deepGet(tree,prop)]):steps.push([prop,node])}),steps}},Paul.map=function(walker){return function(node,func){for(var steps=walker(node),notKeys=[],i=0;i<steps.length;i++)notKeys.push(steps[i][0]);for(var ret=func(deepCopy(node,notKeys)),i=0;i<steps.length;i++){var kid,prop=steps[i][0],child=steps[i][1];if(Array.isArray(child)){kid=[];for(var j=0;j<child.length;j++)kid.push(this.map(child[j],func))}else kid=this.map(child,func);deepSet(ret,prop,kid)}return ret}},Paul.filter=function(walker){return function _filter(node,func){if(!func(node))return void 0;for(var steps=walker(node),notKeys=[],i=0;i<steps.length;i++)notKeys.push(steps[i][0]);for(var ret=deepCopy(node,notKeys),i=0;i<steps.length;i++){var kid=null,prop=steps[i][0],child=steps[i][1];if(Array.isArray(child)){kid=[];for(var j=0;j<child.length;j++){var son=child[j];_filter(son,func)&&kid.push(son)}}else _filter(child,func)&&(kid=child);deepSet(ret,prop,kid)}return ret}},Paul.where=function(walker){return function(node,obj){return Paul.filter(walker)(node,whereFilter(obj))}},Paul.depthIterator=function(walker){return function(tree){function fromEnd(arr,i){return arr[arr.length-1-i]}var levels=[[tree]],sweeps=[0];return{next:function next(){if(!sweeps.length)return{done:!0};var nodes=fromEnd(levels,0),index=fromEnd(sweeps,0);if(index<nodes.length){sweeps[sweeps.length-1]++;var adults=fromEnd(levels,1),parent=adults?adults[fromEnd(sweeps,1)-1]:void 0,children=getChildren(walker,nodes[index]);return children.length&&(levels.push(children),sweeps.push(0)),{done:!1,value:nodes[index],parent:parent}}return levels.pop(),sweeps.pop(),next()}}}},Paul.breadthIterator=function(walker){return function(tree){var elder=void 0,nodes=[],index=0,subnodes=[tree],subindex=0,level=[tree];return{next:function next(){return subindex<subnodes.length?{done:!1,value:subnodes[subindex++],parent:elder}:index<nodes.length?(elder=nodes[index++],subnodes=getChildren(walker,elder),subindex=0,level=level.concat(subnodes),next()):level.length?(nodes=level,index=0,level=[],next()):{done:!0}}}}},Paul.forEach=function(iterator){return function(tree,func){for(var res,iter=iterator(tree);!(res=iter.next()).done;)func(res.value,res.parent,tree)}},Paul.find=function(iterator){return function(tree,func){for(var res,iter=iterator(tree);!(res=iter.next()).done;)if(func(res.value,res.parent,tree))return res.value;return void 0}},Paul.findWhere=function(iterator){return function(tree,obj){return Paul.find(iterator)(tree,whereFilter(obj))}},Paul.reduce=function(iterator){return function(tree,func,memo){for(var res,iter=iterator(tree);!(res=iter.next()).done;)memo=void 0===memo?res.value:func(memo,res.value,res.parent,tree);return memo}},Paul.parent=function(iterator){return function(tree,node){if(node!==tree)for(var res,iter=iterator(tree);!(res=iter.next()).done;)if(res.value===node)return res.parent;return void 0}},Paul.siblings=function(walker,iterator){return function(tree,node){var parent=Paul.parent(iterator)(tree,node);if(parent)for(var steps=walker(parent),i=0;i<steps.length;i++){var nodes=steps[i][1];if(Array.isArray(nodes)){var index=nodes.indexOf(node);if(~index)return{left:nodes.slice(0,index),right:nodes.slice(index+1)}}}return void 0}},Paul.walk=function(node,func){function _walk(node){var rest=Array.prototype.slice.call(arguments,1);if(Array.isArray(node)){for(var nodes=[],i=0;i<node.length;i++)nodes.push(func.apply(null,[node[i],_walk].concat(rest)));return nodes}return func.apply(null,[node,_walk].concat(rest))}if(void 0===func)return func=node,_walk;var rest=Array.prototype.slice.call(arguments,2);return _walk.apply(null,[node].concat(rest))},module.exports=Paul},{}]},{},[1]);var duScrollDefaultEasing=function(e){"use strict";return.5>e?Math.pow(2*e,2)/2:1-Math.pow(2*(1-e),2)/2},duScroll=angular.module("duScroll",["duScroll.scrollspy","duScroll.smoothScroll","duScroll.scrollContainer","duScroll.spyContext","duScroll.scrollHelpers"]).value("duScrollDuration",350).value("duScrollSpyWait",100).value("duScrollSpyRefreshInterval",0).value("duScrollGreedy",!1).value("duScrollOffset",0).value("duScrollEasing",duScrollDefaultEasing).value("duScrollCancelOnEvents","scroll mousedown mousewheel touchmove keydown").value("duScrollBottomSpy",!1).value("duScrollActiveClass","active");"undefined"!=typeof module&&module&&module.exports&&(module.exports=duScroll),angular.module("duScroll.scrollHelpers",["duScroll.requestAnimation"]).run(["$window","$q","cancelAnimation","requestAnimation","duScrollEasing","duScrollDuration","duScrollOffset","duScrollCancelOnEvents",function(e,t,n,r,o,l,u,i){"use strict";var c={},a=function(e){return"undefined"!=typeof HTMLDocument&&e instanceof HTMLDocument||e.nodeType&&e.nodeType===e.DOCUMENT_NODE},s=function(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement||e.nodeType&&e.nodeType===e.ELEMENT_NODE},d=function(e){return s(e)||a(e)?e:e[0]};c.duScrollTo=function(t,n,r,o){var l;if(angular.isElement(t)?l=this.duScrollToElement:angular.isDefined(r)&&(l=this.duScrollToAnimated),l)return l.apply(this,arguments);var u=d(this);return a(u)?e.scrollTo(t,n):(u.scrollLeft=t,void(u.scrollTop=n))};var f,m;c.duScrollToAnimated=function(e,l,u,c){u&&!c&&(c=o);var a=this.duScrollLeft(),s=this.duScrollTop(),d=Math.round(e-a),p=Math.round(l-s),S=null,g=0,v=this,h=function(e){(!e||g&&e.which>0)&&(i&&v.unbind(i,h),n(f),m.reject(),f=null)};if(f&&h(),m=t.defer(),0===u||!d&&!p)return 0===u&&v.duScrollTo(e,l),m.resolve(),m.promise;var y=function(e){null===S&&(S=e),g=e-S;var t=g>=u?1:c(g/u);v.scrollTo(a+Math.ceil(d*t),s+Math.ceil(p*t)),1>t?f=r(y):(i&&v.unbind(i,h),f=null,m.resolve())};return v.duScrollTo(a,s),i&&v.bind(i,h),f=r(y),m.promise},c.duScrollToElement=function(e,t,n,r){var o=d(this);angular.isNumber(t)&&!isNaN(t)||(t=u);var l=this.duScrollTop()+d(e).getBoundingClientRect().top-t;return s(o)&&(l-=o.getBoundingClientRect().top),this.duScrollTo(0,l,n,r)},c.duScrollLeft=function(t,n,r){if(angular.isNumber(t))return this.duScrollTo(t,this.duScrollTop(),n,r);var o=d(this);return a(o)?e.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft:o.scrollLeft},c.duScrollTop=function(t,n,r){if(angular.isNumber(t))return this.duScrollTo(this.duScrollLeft(),t,n,r);var o=d(this);return a(o)?e.scrollY||document.documentElement.scrollTop||document.body.scrollTop:o.scrollTop},c.duScrollToElementAnimated=function(e,t,n,r){return this.duScrollToElement(e,t,n||l,r)},c.duScrollTopAnimated=function(e,t,n){return this.duScrollTop(e,t||l,n)},c.duScrollLeftAnimated=function(e,t,n){return this.duScrollLeft(e,t||l,n)},angular.forEach(c,function(e,t){angular.element.prototype[t]=e;var n=t.replace(/^duScroll/,"scroll");angular.isUndefined(angular.element.prototype[n])&&(angular.element.prototype[n]=e)})}]),angular.module("duScroll.polyfill",[]).factory("polyfill",["$window",function(e){"use strict";var t=["webkit","moz","o","ms"];return function(n,r){if(e[n])return e[n];for(var o,l=n.substr(0,1).toUpperCase()+n.substr(1),u=0;u<t.length;u++)if(o=t[u]+l,e[o])return e[o];return r}}]),angular.module("duScroll.requestAnimation",["duScroll.polyfill"]).factory("requestAnimation",["polyfill","$timeout",function(e,t){"use strict";var n=0,r=function(e,r){var o=(new Date).getTime(),l=Math.max(0,16-(o-n)),u=t(function(){e(o+l)},l);return n=o+l,u};return e("requestAnimationFrame",r)}]).factory("cancelAnimation",["polyfill","$timeout",function(e,t){"use strict";var n=function(e){t.cancel(e)};return e("cancelAnimationFrame",n)}]),angular.module("duScroll.spyAPI",["duScroll.scrollContainerAPI"]).factory("spyAPI",["$rootScope","$timeout","$interval","$window","$document","scrollContainerAPI","duScrollGreedy","duScrollSpyWait","duScrollSpyRefreshInterval","duScrollBottomSpy","duScrollActiveClass",function(e,t,n,r,o,l,u,i,c,a,s){"use strict";var d=function(n){var l=!1,c=!1,d=function(){c=!1;var t,l=n.container,i=l[0],d=0;if("undefined"!=typeof HTMLElement&&i instanceof HTMLElement||i.nodeType&&i.nodeType===i.ELEMENT_NODE)d=i.getBoundingClientRect().top,t=Math.round(i.scrollTop+i.clientHeight)>=i.scrollHeight;else{var f=o[0].body.scrollHeight||o[0].documentElement.scrollHeight;t=Math.round(r.pageYOffset+r.innerHeight)>=f}var m,p,S,g,v,h,y=a&&t?"bottom":"top";for(g=n.spies,p=n.currentlyActive,S=void 0,m=0;m<g.length;m++)v=g[m],h=v.getTargetPosition(),h&&v.$element&&(a&&t||h.top+v.offset-d<20&&(u||-1*h.top+d)<h.height)&&(!S||S[y]<h[y])&&(S={spy:v},S[y]=h[y]);S&&(S=S.spy),p===S||u&&!S||(p&&p.$element&&(p.$element.removeClass(s),e.$broadcast("duScrollspy:becameInactive",p.$element,angular.element(p.getTargetElement()))),S&&(S.$element.addClass(s),e.$broadcast("duScrollspy:becameActive",S.$element,angular.element(S.getTargetElement()))),n.currentlyActive=S)};return i?function(){l?c=!0:(d(),l=t(function(){l=!1,c&&d()},i,!1))}:d},f={},m=function(e){var t=e.$id,n={spies:[]};return n.handler=d(n),f[t]=n,e.$on("$destroy",function(){p(e)}),t},p=function(e){var t=e.$id,r=f[t],o=r.container;r.intervalPromise&&n.cancel(r.intervalPromise),o&&o.off("scroll",r.handler),delete f[t]},S=m(e),g=function(e){return f[e.$id]?f[e.$id]:e.$parent?g(e.$parent):f[S]},v=function(e){var t,n,r=e.$scope;if(r)return g(r);for(n in f)if(t=f[n],-1!==t.spies.indexOf(e))return t},h=function(e){for(;e.parentNode;)if(e=e.parentNode,e===document)return!0;return!1},y=function(e){var t=v(e);t&&(t.spies.push(e),t.container&&h(t.container)||(t.container&&t.container.off("scroll",t.handler),t.container=l.getContainer(e.$scope),c&&!t.intervalPromise&&(t.intervalPromise=n(t.handler,c,0,!1)),t.container.on("scroll",t.handler).triggerHandler("scroll")))},$=function(t){var n=v(t);t===n.currentlyActive&&(e.$broadcast("duScrollspy:becameInactive",n.currentlyActive.$element),n.currentlyActive=null);var r=n.spies.indexOf(t);-1!==r&&n.spies.splice(r,1),t.$element=null};return{addSpy:y,removeSpy:$,createContext:m,destroyContext:p,getContextForScope:g}}]),angular.module("duScroll.scrollContainerAPI",[]).factory("scrollContainerAPI",["$document",function(e){"use strict";var t={},n=function(e,n){var r=e.$id;return t[r]=n,r},r=function(e){return t[e.$id]?e.$id:e.$parent?r(e.$parent):void 0},o=function(n){var o=r(n);return o?t[o]:e},l=function(e){var n=r(e);n&&delete t[n]};return{getContainerId:r,getContainer:o,setContainer:n,removeContainer:l}}]),angular.module("duScroll.smoothScroll",["duScroll.scrollHelpers","duScroll.scrollContainerAPI"]).directive("duSmoothScroll",["duScrollDuration","duScrollOffset","scrollContainerAPI",function(e,t,n){"use strict";return{link:function(r,o,l){o.on("click",function(o){if(l.href&&-1!==l.href.indexOf("#")||""!==l.duSmoothScroll){var u=l.href?l.href.replace(/.*(?=#[^\s]+$)/,"").substring(1):l.duSmoothScroll,i=document.getElementById(u)||document.getElementsByName(u)[0];if(i&&i.getBoundingClientRect){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault();var c=l.offset?parseInt(l.offset,10):t,a=l.duration?parseInt(l.duration,10):e,s=n.getContainer(r);s.duScrollToElement(angular.element(i),isNaN(c)?0:c,isNaN(a)?0:a)}}})}}}]),angular.module("duScroll.spyContext",["duScroll.spyAPI"]).directive("duSpyContext",["spyAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(t,n,r){return{pre:function(t,n,r,o){e.createContext(t)}}}}}]),angular.module("duScroll.scrollContainer",["duScroll.scrollContainerAPI"]).directive("duScrollContainer",["scrollContainerAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(t,n,r){return{pre:function(t,n,r,o){r.$observe("duScrollContainer",function(r){angular.isString(r)&&(r=document.getElementById(r)),r=angular.isElement(r)?angular.element(r):n,e.setContainer(t,r),t.$on("$destroy",function(){e.removeContainer(t)})})}}}}}]),angular.module("duScroll.scrollspy",["duScroll.spyAPI"]).directive("duScrollspy",["spyAPI","duScrollOffset","$timeout","$rootScope",function(e,t,n,r){"use strict";var o=function(e,t,n,r){angular.isElement(e)?this.target=e:angular.isString(e)&&(this.targetId=e),this.$scope=t,this.$element=n,this.offset=r};return o.prototype.getTargetElement=function(){return!this.target&&this.targetId&&(this.target=document.getElementById(this.targetId)||document.getElementsByName(this.targetId)[0]),this.target},o.prototype.getTargetPosition=function(){var e=this.getTargetElement();return e?e.getBoundingClientRect():void 0},o.prototype.flushTargetCache=function(){this.targetId&&(this.target=void 0)},{link:function(l,u,i){var c,a=i.ngHref||i.href;if(a&&-1!==a.indexOf("#")?c=a.replace(/.*(?=#[^\s]+$)/,"").substring(1):i.duScrollspy?c=i.duScrollspy:i.duSmoothScroll&&(c=i.duSmoothScroll),c){var s=n(function(){var n=new o(c,l,u,-(i.offset?parseInt(i.offset,10):t));e.addSpy(n),l.$on("$locationChangeSuccess",n.flushTargetCache.bind(n));var a=r.$on("$stateChangeSuccess",n.flushTargetCache.bind(n));l.$on("$destroy",function(){e.removeSpy(n),a()})},0,!1);l.$on("$destroy",function(){n.cancel(s)})}}}}]),angular.module("ngLocale",[],["$provide",function($provide){function getDecimals(n){n+="";var i=n.indexOf(".");return-1==i?0:n.length-i-1}function getVF(n,opt_precision){var v=opt_precision;void 0===v&&(v=Math.min(getDecimals(n),3));var base=Math.pow(10,v),f=(n*base|0)%base;return{v:v,f:f}}var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["\u0414\u041f","\u041f\u041f"],DAY:["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043e\u0442\u0430"],ERANAMES:["\u0434\u043e \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430","\u043e\u0442 \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430"],ERAS:["\u0434\u043e \u043d. \u044d.","\u043d. \u044d."],FIRSTDAYOFWEEK:0,MONTH:["\u044f\u043d\u0432\u0430\u0440\u044f","\u0444\u0435\u0432\u0440\u0430\u043b\u044f","\u043c\u0430\u0440\u0442\u0430","\u0430\u043f\u0440\u0435\u043b\u044f","\u043c\u0430\u044f","\u0438\u044e\u043d\u044f","\u0438\u044e\u043b\u044f","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u043e\u043a\u0442\u044f\u0431\u0440\u044f","\u043d\u043e\u044f\u0431\u0440\u044f","\u0434\u0435\u043a\u0430\u0431\u0440\u044f"],SHORTDAY:["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],SHORTMONTH:["\u044f\u043d\u0432.","\u0444\u0435\u0432\u0440.","\u043c\u0430\u0440.","\u0430\u043f\u0440.","\u043c\u0430\u044f","\u0438\u044e\u043d.","\u0438\u044e\u043b.","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],STANDALONEMONTH:["\u044f\u043d\u0432\u0430\u0440\u044c","\u0444\u0435\u0432\u0440\u0430\u043b\u044c","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0435\u043b\u044c","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u043e\u043a\u0442\u044f\u0431\u0440\u044c","\u043d\u043e\u044f\u0431\u0440\u044c","\u0434\u0435\u043a\u0430\u0431\u0440\u044c"],WEEKENDRANGE:[5,6],fullDate:"EEEE, d MMMM y '\u0433'.",longDate:"d MMMM y '\u0433'.",medium:"d MMM y '\u0433'. H:mm:ss",mediumDate:"d MMM y '\u0433'.",mediumTime:"H:mm:ss","short":"dd.MM.y H:mm",shortDate:"dd.MM.y",shortTime:"H:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"\u20bd",DECIMAL_SEP:",",GROUP_SEP:"\xa0",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"\xa0\xa4",posPre:"",posSuf:"\xa0\xa4"}]},id:"ru",localeID:"ru",pluralCat:function(n,opt_precision){var i=0|n,vf=getVF(n,opt_precision);return 0==vf.v&&i%10==1&&i%100!=11?PLURAL_CATEGORY.ONE:0==vf.v&&i%10>=2&&4>=i%10&&(12>i%100||i%100>14)?PLURAL_CATEGORY.FEW:0==vf.v&&i%10==0||0==vf.v&&i%10>=5&&9>=i%10||0==vf.v&&i%100>=11&&14>=i%100?PLURAL_CATEGORY.MANY:PLURAL_CATEGORY.OTHER}})}]),!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["angular"],b):a.hasOwnProperty("angular")?b(a.angular):"object"==typeof exports&&(module.exports=b(require("angular")))}(this,function(a){"use strict";function b(b){return function(){var c="ngStorage-";this.setKeyPrefix=function(a){if("string"!=typeof a)throw new TypeError("[ngStorage] - "+b+"Provider.setKeyPrefix() expects a String.");c=a};var d=a.toJson,e=a.fromJson;this.setSerializer=function(a){if("function"!=typeof a)throw new TypeError("[ngStorage] - "+b+"Provider.setSerializer expects a function.");d=a},this.setDeserializer=function(a){if("function"!=typeof a)throw new TypeError("[ngStorage] - "+b+"Provider.setDeserializer expects a function.");e=a},this.get=function(a){return e(window[b].getItem(c+a))},this.set=function(a,e){return window[b].setItem(c+a,d(e))},this.$get=["$rootScope","$window","$log","$timeout","$document",function(f,g,h,i,j){function k(a){var b;try{b=g[a]}catch(c){b=!1}if(b&&"localStorage"===a){var d="__"+Math.round(1e7*Math.random());try{localStorage.setItem(d,d),localStorage.removeItem(d)}catch(c){b=!1}}return b}var l,m,n=c.length,o=k(b)||(h.warn("This browser does not support Web Storage!"),{setItem:a.noop,getItem:a.noop,removeItem:a.noop}),p={$default:function(b){for(var c in b)a.isDefined(p[c])||(p[c]=a.copy(b[c]));return p.$sync(),p},$reset:function(a){for(var b in p)"$"===b[0]||delete p[b]&&o.removeItem(c+b);return p.$default(a)},$sync:function(){for(var a,b=0,d=o.length;d>b;b++)(a=o.key(b))&&c===a.slice(0,n)&&(p[a.slice(n)]=e(o.getItem(a)))},$apply:function(){var b;if(m=null,!a.equals(p,l)){b=a.copy(l),a.forEach(p,function(e,f){a.isDefined(e)&&"$"!==f[0]&&(o.setItem(c+f,d(e)),delete b[f])});for(var e in b)o.removeItem(c+e);l=a.copy(p)}}};return p.$sync(),l=a.copy(p),f.$watch(function(){m||(m=i(p.$apply,100,!1))}),g.addEventListener&&g.addEventListener("storage",function(b){if(b.key){var d=j[0];d.hasFocus&&d.hasFocus()||c!==b.key.slice(0,n)||(b.newValue?p[b.key.slice(n)]=e(b.newValue):delete p[b.key.slice(n)],l=a.copy(p),f.$apply())}}),g.addEventListener&&g.addEventListener("beforeunload",function(){p.$apply()}),p}]}}return a=a&&a.module?a:window.angular,a.module("ngStorage",[]).provider("$localStorage",b("localStorage")).provider("$sessionStorage",b("sessionStorage"))}),!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(a){return b(a)}):"object"==typeof exports?module.exports=b(require("jquery")):b(jQuery)}(this,function(a){var b=function(a,b){var c,d=document.createElement("canvas");a.appendChild(d),"object"==typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(d);var e=d.getContext("2d");d.width=d.height=b.size;var f=1;window.devicePixelRatio>1&&(f=window.devicePixelRatio,d.style.width=d.style.height=[b.size,"px"].join(""),d.width=d.height=b.size*f,e.scale(f,f)),e.translate(b.size/2,b.size/2),e.rotate((-.5+b.rotate/180)*Math.PI);var g=(b.size-b.lineWidth)/2;b.scaleColor&&b.scaleLength&&(g-=b.scaleLength+2),Date.now=Date.now||function(){return+new Date};var h=function(a,b,c){c=Math.min(Math.max(-1,c||0),1);var d=0>=c?!0:!1;e.beginPath(),e.arc(0,0,g,0,2*Math.PI*c,d),e.strokeStyle=a,e.lineWidth=b,e.stroke()},i=function(){var a,c;e.lineWidth=1,e.fillStyle=b.scaleColor,e.save();for(var d=24;d>0;--d)d%6===0?(c=b.scaleLength,a=0):(c=.6*b.scaleLength,a=b.scaleLength-c),e.fillRect(-b.size/2+a,0,c,1),e.rotate(Math.PI/12);e.restore()},j=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),k=function(){b.scaleColor&&i(),b.trackColor&&h(b.trackColor,b.trackWidth||b.lineWidth,1)};this.getCanvas=function(){return d},this.getCtx=function(){return e},this.clear=function(){e.clearRect(b.size/-2,b.size/-2,b.size,b.size)},this.draw=function(a){b.scaleColor||b.trackColor?e.getImageData&&e.putImageData?c?e.putImageData(c,0,0):(k(),c=e.getImageData(0,0,b.size*f,b.size*f)):(this.clear(),k()):this.clear(),e.lineCap=b.lineCap;var d;d="function"==typeof b.barColor?b.barColor(a):b.barColor,h(d,b.lineWidth,a/100)}.bind(this),this.animate=function(a,c){var d=Date.now();b.onStart(a,c);var e=function(){var f=Math.min(Date.now()-d,b.animate.duration),g=b.easing(this,f,a,c-a,b.animate.duration);this.draw(g),b.onStep(a,c,g),f>=b.animate.duration?b.onStop(a,c):j(e)}.bind(this);j(e)}.bind(this)},c=function(a,c){var d={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,trackWidth:void 0,size:110,rotate:0,animate:{duration:1e3,enabled:!0},easing:function(a,b,c,d,e){return b/=e/2,1>b?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},onStart:function(a,b){},onStep:function(a,b,c){},onStop:function(a,b){}};if("undefined"!=typeof b)d.renderer=b;else{if("undefined"==typeof SVGRenderer)throw new Error("Please load either the SVG- or the CanvasRenderer");d.renderer=SVGRenderer}var e={},f=0,g=function(){this.el=a,this.options=e;for(var b in d)d.hasOwnProperty(b)&&(e[b]=c&&"undefined"!=typeof c[b]?c[b]:d[b],"function"==typeof e[b]&&(e[b]=e[b].bind(this)));"string"==typeof e.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[e.easing])?e.easing=jQuery.easing[e.easing]:e.easing=d.easing,"number"==typeof e.animate&&(e.animate={duration:e.animate,enabled:!0}),"boolean"!=typeof e.animate||e.animate||(e.animate={duration:1e3,enabled:e.animate}),this.renderer=new e.renderer(a,e),this.renderer.draw(f),a.dataset&&a.dataset.percent?this.update(parseFloat(a.dataset.percent)):a.getAttribute&&a.getAttribute("data-percent")&&this.update(parseFloat(a.getAttribute("data-percent")))}.bind(this);this.update=function(a){return a=parseFloat(a),e.animate.enabled?this.renderer.animate(f,a):this.renderer.draw(a),f=a,this}.bind(this),this.disableAnimation=function(){return e.animate.enabled=!1,this},this.enableAnimation=function(){return e.animate.enabled=!0,this},g()};a.fn.easyPieChart=function(b){return this.each(function(){var d;a.data(this,"easyPieChart")||(d=a.extend({},b,a(this).data()),a.data(this,"easyPieChart",new c(this,d)))})}}),!function(e){function o(e){throw new RangeError(T[e])}function n(e,o){for(var n=e.length,r=[];n--;)r[n]=o(e[n]);return r}function r(e,o){var r=e.split("@"),t="";r.length>1&&(t=r[0]+"@",e=r[1]),e=e.replace(S,".");var u=e.split("."),i=n(u,o).join(".");return t+i}function t(e){for(var o,n,r=[],t=0,u=e.length;u>t;)o=e.charCodeAt(t++),o>=55296&&56319>=o&&u>t?(n=e.charCodeAt(t++),56320==(64512&n)?r.push(((1023&o)<<10)+(1023&n)+65536):(r.push(o),t--)):r.push(o);return r}function u(e){return n(e,function(e){var o="";return e>65535&&(e-=65536,o+=P(e>>>10&1023|55296),e=56320|1023&e),o+=P(e)}).join("")}function i(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:b}function f(e,o){return e+22+75*(26>e)-((0!=o)<<5)}function c(e,o,n){var r=0;for(e=n?M(e/j):e>>1,e+=M(e/o);e>L*C>>1;r+=b)e=M(e/L);return M(r+(L+1)*e/(e+m))}function l(e){var n,r,t,f,l,s,d,a,p,h,v=[],g=e.length,w=0,m=I,j=A;for(r=e.lastIndexOf(E),0>r&&(r=0),t=0;r>t;++t)e.charCodeAt(t)>=128&&o("not-basic"),v.push(e.charCodeAt(t));for(f=r>0?r+1:0;g>f;){for(l=w,s=1,d=b;f>=g&&o("invalid-input"),a=i(e.charCodeAt(f++)),(a>=b||a>M((x-w)/s))&&o("overflow"),w+=a*s,p=j>=d?y:d>=j+C?C:d-j,!(p>a);d+=b)h=b-p,s>M(x/h)&&o("overflow"),s*=h;n=v.length+1,j=c(w-l,n,0==l),M(w/n)>x-m&&o("overflow"),m+=M(w/n),w%=n,v.splice(w++,0,m)}return u(v)}function s(e){var n,r,u,i,l,s,d,a,p,h,v,g,w,m,j,F=[];for(e=t(e),g=e.length,n=I,r=0,l=A,s=0;g>s;++s)v=e[s],128>v&&F.push(P(v));for(u=i=F.length,i&&F.push(E);g>u;){for(d=x,s=0;g>s;++s)v=e[s],v>=n&&d>v&&(d=v);for(w=u+1,d-n>M((x-r)/w)&&o("overflow"),r+=(d-n)*w,n=d,s=0;g>s;++s)if(v=e[s],n>v&&++r>x&&o("overflow"),v==n){for(a=r,p=b;h=l>=p?y:p>=l+C?C:p-l,!(h>a);p+=b)j=a-h,m=b-h,F.push(P(f(h+j%m,0))),a=M(j/m);F.push(P(f(a,0))),l=c(r,w,u==i),r=0,++u}++r,++n}return F.join("")}function d(e){return r(e,function(e){return F.test(e)?l(e.slice(4).toLowerCase()):e})}function a(e){return r(e,function(e){return O.test(e)?"xn--"+s(e):e})}var p="object"==typeof exports&&exports&&!exports.nodeType&&exports,h="object"==typeof module&&module&&!module.nodeType&&module,v="object"==typeof global&&global;v.global!==v&&v.window!==v&&v.self!==v||(e=v);var g,w,x=2147483647,b=36,y=1,C=26,m=38,j=700,A=72,I=128,E="-",F=/^xn--/,O=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=b-y,M=Math.floor,P=String.fromCharCode;if(g={version:"1.4.1",ucs2:{decode:t,encode:u},decode:l,encode:s,toASCII:a,toUnicode:d},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return g});else if(p&&h)if(module.exports==p)h.exports=g;else for(w in g)g.hasOwnProperty(w)&&(p[w]=g[w]);else e.punycode=g}(this),function(){var eluiViewElmItem,flag,i,len1,loadMembersFiles,main_site_hostnames,myApp,setLang,statedefine,uiViewElm;if(uiViewElm=document.querySelectorAll("[ui-view]"),flag=!1,uiViewElm&&uiViewElm.length>0)for(i=0,len1=uiViewElm.length;len1>i;i++)eluiViewElmItem=uiViewElm[i],eluiViewElmItem.children&&eluiViewElmItem.children.length>0&&(flag=!0);window.hashtml=flag,navigator.userAgent.indexOf("Prerender")>-1&&(window.hashtml=!1),myApp=angular.module("YepCom",["restangular","ngAnimate","ui.router","templates","ng","ngSanitize","ngDialog","oc.lazyLoad","duScroll","ngStorage","ng.deviceDetector","toaster","angular-md5"]),myApp.config(["$ocLazyLoadProvider",function($ocLazyLoadProvider){$ocLazyLoadProvider.config({events:!0})}]),setLang=function(myhost){return"mainpage.html"},myApp.config(["$compileProvider",function($compileProvider){$compileProvider.aHrefSanitizationWhitelist(/^\s*(|blob|https|http|tel|mailto|whatsapp|skype|):/)}]),myApp.config(["$sanitizeProvider",function($sanitizeProvider){return $sanitizeProvider.addValidAttrs(["style","ng-style","ng-class","class","modelid","elementid","ng-model","ngMode","ngClass","ngStyle","container-id","containerId","action","placeholder","data-toggle","dataToggle","clickaction","ng-src","ngSrc","changeimgsrc","ngClick","ng-click","hidden","value","stopscroll","data-filter","dataFilter","yelemid","yeid","required","ng-required","ngRequired","data-slide-to","dataSlideTo","data-x","dataX","data-y","dataY","ulelementid","id","assetid","blockid","content","chatid","chatname","data-inited","dataInited","clickEnter","focusid","focusId","index","src","framesrc","height","width","font","data-foru-user-modal-id","dataForuUserModalId","type","layout","ui-tinymce","uiTinymce","foru-attr-","imgtitle","imgalt","alt","title","data-options","dataOptions","template","target","widgetid","widgettype","template","data-foru-tw","data-foru-vk","data-foru-fb","data-foru-insta","data-foru-wa","data-foru-tgrm","data-foru-youtube","data-foru-od","data-foru-ok","dataForuTw","dataForuVk","dataForuFb","dataForuInsta","dataForuWa","dataDoruTgrm","dataForuYoutube","dataForuOd","dataForuOk","data-placement","data-content","dataPlacement","dataContent","data-slide","dataSlide","original-font-size","original-font-size","originalFontSize","data-content","dataContent"])}]),myApp.config(["$qProvider",function($qProvider){$qProvider.errorOnUnhandledRejections(!1)}]),myApp.config(function($sceDelegateProvider){$sceDelegateProvider.resourceUrlWhitelist(["self","*://youtube.com/**","*://www.youtube.com/**","*://player.vimeo.com/video/**","*://youtu.be/**","*://www.google.com/maps/**","*://www.google.com/maps**","*://www.google.ru/maps/**","//www.youtube.com/**","//www.youtube.com/embed/**","//maps.google.com/maps**","//localhost/**","*://localhost/**","*://localhost:**/**","*://shareholder.ru:**/**","*://shareholder.ru/**","*://www.shareholder.ru/**","*://172.16.55.24/**","*://funding.webmoney.ru/**","*://rutube.ru/play/embed/**","*://fositeframe.ru/videos/**"])}),myApp.config(["$ocLazyLoadProvider",function($ocLazyLoadProvider){$ocLazyLoadProvider.config({debug:!1})}]),main_site_hostnames=["editor.fo.ru","betaeditor.fo.ru","www.fo.ru","fo.ru","localhost","127.0.0.1","172.16.55.14","172.16.55.208","forubeta.fo.ru","beta.test.mywifi.com","172.16.55.24"],loadMembersFiles=function($ocLazyLoad){return $ocLazyLoad.load({name:"members.js.js",files:["/assets/js/members.js.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}),$ocLazyLoad.load({name:"styles-members-pages.css",files:["/assets/templates-public-styles/styles-members-pages.css?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}),$ocLazyLoad.load({name:"members",files:["/assets/js/member-favourites.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random())),"/assets/js/member-sidebar.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random())),"/assets/js/member-comments.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random())),"/assets/js/member-orders.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]})},statedefine=function($stateProvider,$urlRouterProvider){return $stateProvider.state("members-resetpw",{url:"/sitespace/resetpw",views:{"":{templateUrl:"assets/templates/membersresetpw.html?update=0",controller:"MembersCtrl"}},resolve:{data:function($ocLazyLoad){return loadMembersFiles($ocLazyLoad)}}}).state("members-forgotpasswd",{url:"/sitespace/forgotpasswd",views:{"":{templateUrl:"assets/templates/preview/membersforgotpassword.html?update=4",controller:"MembersCtrl"}},resolve:{data:function($ocLazyLoad){return loadMembersFiles($ocLazyLoad)}}}).state("members-auth",{url:"/sitespace/memberslogin",views:{"":{templateUrl:"assets/templates/preview/memberslogin.html?update=7",controller:"MembersCtrl"}},resolve:{data:function($ocLazyLoad){return loadMembersFiles($ocLazyLoad)}}}).state("members-signup",{url:"/sitespace/membersregister",views:{"":{templateUrl:"assets/templates/preview/membersregister.html?"+(window.yepbuildversion||Math.floor(1e8*Math.random())),controller:"MembersCtrl"}},resolve:{data:function($ocLazyLoad){return loadMembersFiles($ocLazyLoad)}}}).state("members-pages",{url:"/sitespace/memberspages",views:{"":{templateUrl:"assets/templates/preview/memberspages.html?"+(window.yepbuildversion||Math.floor(1e8*Math.random())),controller:"MembersCtrl"}},resolve:{data:function($ocLazyLoad){
return loadMembersFiles($ocLazyLoad)}}}).state("members-new-password",{url:"/sitespace/members-new-password",views:{"":{templateUrl:"assets/templates/newpassword.html?"+(window.yepbuildversion||Math.floor(1e8*Math.random())),controller:"MembersCtrl"}},resolve:{data:function($ocLazyLoad){return loadMembersFiles($ocLazyLoad)}}}).state("members-accessdenied",{url:"/sitespace/pageaccessdenied",views:{"":{templateUrl:"assets/templates/pageaccessdenied.html?update=3",controller:"MembersCtrl"}},resolve:{data:function($ocLazyLoad){return loadMembersFiles($ocLazyLoad)}}}).state("members-main",{url:"/sitespace/main",views:{"":{templateUrl:"assets/templates/preview/membersmain.html?"+(window.yepbuildversion||Math.floor(1e8*Math.random())),controller:"MembersCtrl"}},resolve:{data:function($ocLazyLoad){return loadMembersFiles($ocLazyLoad)}}}).state("members-favourites",{url:"/sitespace/favourites",views:{"":{templateUrl:"assets/templates/preview/membersfavourites.html?"+(window.yepbuildversion||Math.floor(1e8*Math.random())),controller:"MembersCtrl"}},resolve:{data:function($ocLazyLoad){return loadMembersFiles($ocLazyLoad)}}}).state("members-comments",{url:"/sitespace/comments",views:{"":{templateUrl:"assets/templates/preview/memberscomments.html?"+(window.yepbuildversion||Math.floor(1e8*Math.random())),controller:"MembersCtrl"}},resolve:{data:function($ocLazyLoad){return loadMembersFiles($ocLazyLoad)}}}).state("members-orders",{url:"/sitespace/orders",views:{"":{templateUrl:"assets/templates/preview/membersorders.html?"+(window.yepbuildversion||Math.floor(1e8*Math.random())),controller:"MembersCtrl"}},resolve:{data:function($ocLazyLoad){return loadMembersFiles($ocLazyLoad)}}}).state("article-all-preview",{url:"/foruposts",views:{"":{templateUrl:"preview/articlepages/articlepages.html",controller:"ArticlesCtrl"}},params:{pageid:void 0}}).state("rubrics-all-preview",{url:"/forurubrics",views:{"":{templateUrl:"preview/articlepages/articlepages.html",controller:"ArticlesCtrl"}},params:{pageid:void 0}}).state("rubrics-category-preview",{url:"/forurubrics/:transname?",views:{"":{templateUrl:"preview/articlepages/articlepages.html",controller:"ArticlesCtrl"}},params:{pageid:void 0}}).state("article-single-preview",{url:"/foruposts/:transname?",views:{"":{templateUrl:"preview/articlepages/articlepages.html",controller:"ArticlesCtrl"}},params:{pageid:void 0}}).state("category-preview",{url:"/category/:category_transname",views:{"":{templateUrl:"preview/view2/view2.html",controller:"PreviewCtrl"}},params:{pageid:void 0}}).state("product-preview",{url:"/category/:category_transname/product/:product_transname",views:{"":{templateUrl:"preview/view2/view2.html",controller:"PreviewCtrl"}},params:{pageid:void 0}}).state("forushop-product-preview",{url:"/forushop/:category_id/product/:product_id",views:{"":{templateUrl:"preview/forushop-pages/forushop-pages.html",controller:"ForushopCtrl"}},params:{pageid:void 0}}).state("forushop-category-preview",{url:"/forushop/:category_id",views:{"":{templateUrl:"preview/forushop-pages/forushop-pages.html",controller:"ForushopCtrl"}},params:{pageid:void 0}}).state("preview2",{url:"/:pageid?",views:{"":{templateUrl:"preview/view2/view2.html",controller:"PreviewCtrl"},"":{templateUrl:function(){return window.hashtml?null:"preview/view2/view2.html"},controller:"PreviewCtrl"}},params:{pageid:void 0}}).state("page404",{url:"/page404",views:{"":{templateUrl:"preview/page404/page404.html",controller:"ErrorsCtrl"}},params:{pageid:void 0}}).state("digiseller",{url:"/digisellershop/:siteid",views:{"":{templateUrl:"digisellershop.html",controller:"DigisellerCtrl"}}}).state("successshoppayment",{url:"/api/v1/shoppayments/successpayment"}).state("failhoppayment",{url:"/api/v1/shoppayments/failpayment"})},myApp.filter("replaceIframeHost",function(){return function(value,max){return value?value=value.replace("//fositeframe.ru/frames/","/useriframes/"):""}}),myApp.filter("truncate",function(){return function(value,max,dots){var lastspace;return null==dots&&(dots=!0),value?(max=parseInt(max,10))?value.length<=max?value:(value=value.substr(0,max),lastspace=value.lastIndexOf(" "),-1!==lastspace&&(("."===value.charAt(lastspace-1)||","===value.charAt(lastspace-1))&&(lastspace-=1),value=value.substr(0,lastspace)),dots?value+" \u2026":value):value:""}}),myApp.filter("truncatee",function(){return function(value,max){var lastspace;return value?(max=parseInt(max,10))?value.length<=max?value:(value=value.substr(0,max),lastspace=value.lastIndexOf(" "),value+" \u2026"):value:""}}),myApp.filter("truncatereverse",function(){return function(value,max){var lastslash,lastspace,len;return value?value.indexOf("base64")?value="image.jpg":(max=parseInt(max,10))?(lastspace=value.lastIndexOf("?"),value=value.substr(0,lastspace),lastslash=value.lastIndexOf("/")+1,value=value.slice(lastslash),value.length<=max?value:(len=value.length-max,value=value.slice(len),"\u2026 "+value)):value:""}}),myApp.filter("onlyname",function(){return function(value){var lastspace;return value?(lastspace=value.lastIndexOf("@"),value=value.substr(0,lastspace)):""}}),myApp.filter("nohashtags",function(){return function(value){var regexp;return value?(regexp=new RegExp("#([^\\s]*)","g"),value=value.replace(regexp,"")):""}}),myApp.filter("hashtagstolinks",function(){return function(value){var regexp,regexp2;return value?(regexp=new RegExp("(#[^#]*)","g"),regexp2=new RegExp("(tags/#)","g"),value=value.replace(regexp,"<a href='https://www.instagram.com/explore/tags/$1' target='_blank'>$1</a>").replace(regexp2,"tags/")):""}}),myApp.filter("htmlToPlaintext",function(){return function(text){return text?text=String(text).replace(/<[^>]+>/g,"").replace(/&nbsp;/g," "):""}}),myApp.filter("messengerfilter",function(){return function(value,type){var out;return"whatsApp"===type?out=value.replace("?phone=+","?phone="):"Telegram"===type?out=value.replace(/\/\+/gm,"/").replace(/\/@/gm,"/"):value}}),myApp.config(function($stateProvider,$urlRouterProvider,$locationProvider,$httpProvider,$logProvider,$urlMatcherFactoryProvider){$locationProvider.html5Mode({enabled:!0}),$urlMatcherFactoryProvider.caseInsensitive(!1),$urlMatcherFactoryProvider.strictMode(!1),$urlRouterProvider.otherwise("/page404"),$locationProvider.hashPrefix("!"),statedefine($stateProvider,$urlRouterProvider)}),myApp.run(function($rootScope,$state,$stateParams,Restangular,toaster,$timeout,$window,$location,forumetrika,$animate,$transitions){var host,myhost;return host=window.location.host.split(":"),myhost=host[0],main_site_hostnames.indexOf(myhost)>-1&&forumetrika.load_Metrika(),Restangular.setDefaultHeaders({Accept:"application/json"}),Restangular.setErrorInterceptor(function(response,deferred,responseHandler){if(200!==response.status){if(402===response.status)return;if("preview2"===$state.current.name&&404===response.status)return;toaster.pop({type:"error",title:"\u041e\u0448\u0438\u0431\u043a\u0430",body:response.data.error||response.data.message})}return!0}),$transitions.onStart({},function(){var mydomain;if(host=window.location.host.split(":"),myhost=host[0],/^[a-z0-9\_\-]+\.fo\.ru$/.test(myhost)||/^[a-z0-9\_\-]+\.fo\.team$/.test(myhost)||/^[a-z0-9\_\-]+\.yep\.com$/.test(myhost)||/^[a-z0-9\_\-]+\.fosite\.ru$/.test(myhost)||/^[a-z0-9\_\-]+\.fosite\.me$/.test(myhost))$rootScope.username=host[0].split(".")[0];else if(-1===main_site_hostnames.indexOf(myhost))return/^www/.test(myhost)?($rootScope.domainname=host[0].substr(4),mydomain=/[\u0430-\u044f\u0410-\u042f\u0401\u0451]+/i.test(host[0].substr(4))?punycode.toASCII(host[0].substr(4)):host[0]):mydomain=/[\u0430-\u044f\u0410-\u042f\u0401\u0451]+/i.test(host[0])?punycode.toASCII(host[0]):host[0],$rootScope.domainname=mydomain}),$rootScope.$on("$locationChangeStart",function(event){return $rootScope.redirectMainTimeout&&$timeout.cancel($rootScope.redirectMainTimeout),window.oldOrigin=window.location.href}),$rootScope.$on("$stateChangeStart",function(event,toState,toParams,fromState,fromParams){var currentPath,mydomain;if(host=window.location.host.split(":"),myhost=host[0],currentPath=fromState.url,host=window.location.host.split(":"),myhost=host[0],/^[a-z0-9\_\-]+\.fo\.ru$/.test(myhost)||/^[a-z0-9\_\-]+\.fo\.team$/.test(myhost)||/^[a-z0-9\_\-]+\.yep\.com$/.test(myhost)||/^[a-z0-9\_\-]+\.fosite\.ru$/.test(myhost)||/^[a-z0-9\_\-]+\.fosite\.me$/.test(myhost))$rootScope.username=host[0].split(".")[0];else if(-1===main_site_hostnames.indexOf(myhost))return/^www/.test(myhost)?($rootScope.domainname=host[0].substr(4),mydomain=/[\u0430-\u044f\u0410-\u042f\u0401\u0451]+/i.test(host[0].substr(4))?punycode.toASCII(host[0].substr(4)):host[0]):mydomain=/[\u0430-\u044f\u0410-\u042f\u0401\u0451]+/i.test(host[0])?punycode.toASCII(host[0]):host[0],$rootScope.domainname=mydomain}),$rootScope.$on("$stateChangeSuccess",function(event,toState,toParams,fromState,fromParams,forumetrika){return $window.scroll(0,0)})})}.call(this),function(){angular.module("YepCom").controller("PreviewCtrl",function($scope,ngDialog,$stateParams,Advertisement,$timeout,Preview,$ocLazyLoad,$rootScope,Msgservice,$state,$window,$sce,Subscriber,deviceDetector,MobileResponsive,$compile,$interval,$location,Metapreview,md5,$localStorage,$templateCache,Userdefaultdomain){var checkForuproductsDirective,redirecturl,sitedata;if($scope.pageid=$stateParams.pageid,$scope.gotsite=!1,$scope.loadedblocks=0,$scope.loadedblocksarr=[],$scope.elems2=[],$scope.htmlloaded=!0,$scope.priority=!0,$rootScope.priorityPreview=!0,$rootScope.proclamPreview=!0,$scope.videoBGURL=void 0,$rootScope.currentState="preview",$scope.shopsitepage=!1,$scope.wmpriority=!1,$scope.proclam=!0,$scope.loadprogress=0,$scope.blindmodeenabled=!1,$rootScope.showForuProcBanner=!1,$rootScope.showAdvBanner=!1,$scope.aaaaaaa=!1,$scope.foruvideocallenabled=!1,$scope.useRecaptcha=!0,$scope.currentLang=null,$scope.showSmallAuthorBtn=!1,$scope.currentAuthorHideAdsMsg=!1,$scope.currentViewType="desktop",$scope.userData=null,$scope.hasuserspacebutton=!1,$scope.redirect404="https://fosite.ru",$scope.isGlpSu=!1,$scope.statichost="",$scope.isDevMode=!1,$scope.fromAuthForm=!1,window.location.host.indexOf(":3000")>-1&&($scope.isDevMode=!0),$scope.$on("$viewContentLoaded",function(event){return $timeout(function(){return $timeout(function(){return navigator.userAgent.indexOf("Prerender")>-1?window.computeImageWidthHeight():void 0},100)},100)}),$scope.$on("userAuthSuccessEvent",function(evt){return ngDialog.closeAll(),$scope.fromAuthForm=!0,$scope.checkUser()}),$scope.extrablockCssIsLoaded=!1,window.templateCachePreview=$templateCache,$rootScope.username&&($scope.username=$rootScope.username),$rootScope.domainname&&($scope.domainname=$rootScope.domainname),$scope.loadPageFonts=function(fontdata){var font,fontarr,googlefonturl,iconfonts,j,k,len,len1,matchres,myfont,readyfonts;if(fontarr=[],fontdata&&""!==fontdata.toString()){for(j=0,len=fontdata.length;len>j;j++)font=fontdata[j],matchres=font.match(/.*(awesome|museo|flaticon|material|helvetica|roman|arial|glyphicons|verdana|forufont|courier).*/i),matchres||fontarr.push(font);for(readyfonts=[],k=0,len1=fontarr.length;len1>k;k++)myfont=fontarr[k],readyfonts.push({type:"css",path:"https://fonts.googleapis.com/css?family="+font+":100,100i,300,300i,400,400i,500,500i,700,700i,800,800i,900,900i&subset=cyrillic,cyrillic-ext&display=swap"});$ocLazyLoad.load(readyfonts)}else googlefonturl="https://fonts.googleapis.com/css?family=Alegreya+Sans:100,100i,300,300i,400,400i,500,500i,700,700i,800,800i,900,900i|Arimo:400,400i,700,700i|Comfortaa:300,400,700|EB+Garamond:400,400i,500,500i,600,600i,700,700i,800,800i|Exo+2:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i|Fira+Sans:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i|Istok+Web:400,400i,700,700i|Lora:400,400i,700,700i|Merriweather:300,300i,400,400i,700,700i,900,900i|Montserrat:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i|Noto+Serif:400,400i,700,700i|Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i|Oswald:200,300,400,500,600,700|PT+Sans+Narrow:400,700|PT+Sans:400,400i,700,700i|PT+Serif:400,400i,700,700i|Pacifico|Philosopher:400,400i,700,700i|Playfair+Display:400,400i,700,700i,900,900i|Roboto+Slab:100,300,400,700|Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Ubuntu+Condensed|Vollkorn:400,400i,600,600i,700,700i,900,900i|Lobster|Play:400,700|Poiret+One&subset=cyrillic,cyrillic-ext&display=swap",$ocLazyLoad.load([{type:"css",path:googlefonturl}]);return iconfonts="/assets/fonts-current.css",$ocLazyLoad.load({files:[iconfonts]}).then(function(){return void 0})["catch"](function(e){return void 0})},(window.location.hostname.indexOf("webmoney.ru")>-1||window.location.hostname.indexOf("web.money")>-1||window.location.hostname.indexOf("wmtransfer.com")>-1)&&($scope.wmpriority=!0),"category-preview"===$state.current.name&&($scope.pageid="category"),"product-preview"===$state.current.name&&($scope.pageid="product"),$scope.getHashFromUrl=function(){return window.location.hash?$timeout(function(){var onlymodelid;return $(window.location.hash).length>0?$("html, body").animate({scrollTop:$(window.location.hash).offset().top-100},300):(onlymodelid=window.location.hash.toString().replace("#",""),$("[modelid="+onlymodelid+"]").length>0?$("html, body").animate({scrollTop:$("[modelid="+onlymodelid+"]").offset().top-100},300):void 0)},0):void 0},$scope.$watch("percentcomplete",function(newVal,oldVal){return void 0}),$scope.$on("BlockScriptsLoading",function(event,data){return void 0}),window.addEventListener("resize",function(event){return $scope.debounceResize&&$timeout.cancel($scope.debounceResize),$scope.debounceResize=$timeout(function(){return $scope.$broadcast("drawSiteContent")},500)}),$scope.setBodyFontStyle=function(font){return $rootScope.forubodybackground||($rootScope.forubodybackground={}),$rootScope.forubodybackground["font-family"]=font},$scope.setBodyBackImage=function(imgurl){return $rootScope.forubodybackground||($rootScope.forubodybackground={}),$rootScope.forubodybackground["background-color"]="",$rootScope.forubodybackground.background="url("+imgurl+") no-repeat center center fixed",$rootScope.forubodybackground["background-size"]="cover",$rootScope.forubodybackground["-webkit-background-size"]="cover",$rootScope.forubodybackground["-moz-background-size"]="cover",$rootScope.forubodybackground["-o-background-size"]="cover"},$scope.setBodyBackColor=function(color){return $rootScope.forubodybackground||($rootScope.forubodybackground={}),$rootScope.forubodybackground.background="",$rootScope.forubodybackground["background-color"]=color,$rootScope.forubodybackground["background-image"]="none"},$scope.bootstrscroll=function(){return $timeout(function(){var findedid,idnohash;return $("nav").length>0?$("nav").attr("id")?(idnohash=$("nav").attr("id"),findedid="#"+idnohash,$("body").scrollspy({target:findedid})):($("nav").attr("id","bootstrnav"),$("body").scrollspy({target:"#bootstrnav"})):$("#navbar").length>0?$("body").scrollspy({target:"#navbar"}):$("#top-nav").length>0?$("body").scrollspy({target:"#top-nav"}):$(".navbar").length>0?($(".navbar").attr("id","bootstrnav"),$("body").scrollspy({target:"#bootstrnav"})):$(".forunavbar_nav_right").length>0?($(".forunavbar_nav_right").attr("id","bootstrnav"),$("body").scrollspy({target:"#bootstrnav"})):void 0},500)},$scope.BindClickOnA=function(){return $scope.getHashFromUrl(),$scope.aaaaaaa=!0,$timeout(function(){var a,currentImage,elem,j,k,len,len1,ref,ref1;for(ref=$(".fancybox"),j=0,len=ref.length;len>j;j++)elem=ref[j],"IMG"===$(elem).prop("tagName")&&0===$(elem).parents("a").length&&(currentImage=$(elem),currentImage.removeClass("fancybox"),currentImage.wrap("<a class='fancybox' href='"+currentImage.attr("src")+"'</a>"));for(ref1=$("a"),k=0,len1=ref1.length;len1>k;k++)a=ref1[k],$(a).hasClass("fancybox")&&void 0===$(a).attr("href")&&$(a).attr("href",$(a).children("img").attr("src"));return $(".fancybox").fancybox({buttons:["close"],arrows:!0,autoFocus:!1,backFocus:!1,hash:!1,afterLoad:function(instance,current){return $scope.$broadcast("openFancyBox",current.$image[0])}}),$("a").bind("click",function(event){var emailWindow,filterValue,hrefSplitArr,onlymodelidname,someElement;if("true"!==$(this).attr("stopscroll")&&!$(this).hasClass("fancybox")){if($(this).attr("href")&&$(this).attr("href").indexOf("mailto:")>-1)return event.preventDefault(),emailWindow=$window.open("","_blank","",!0),void(emailWindow.location.href=$(this).attr("href"));if(event.target.attributes&&event.target.attributes["data-toggle"]){if("popover"===event.target.attributes["data-toggle"].nodeValue)return event.preventDefault(),event.stopPropagation(),$(event.target).popover({html:!0}),void $(event.target).popover("toggle");if(event.target.attributes["data-filter"])return event.preventDefault(),filterValue=$(this).attr("data-filter"),void $("[foruisotope='']").isotope({filter:filterValue})}if(someElement=$(this).attr("href"),!$(this).hasClass("fancybox")&&someElement&&(someElement.indexOf("/system/useruploads/")>-1||someElement.indexOf("/galleryimages/")>-1||someElement.indexOf("/system/components/")>-1)&&(event.preventDefault(),$(this).attr("href")))return emailWindow=$window.open("","_self","",!0),void(emailWindow.location.href=$(this).attr("href").toString());if(someElement&&0===someElement.indexOf("#")){if(event.preventDefault(),$rootScope.$broadcast("hideMobileMenu"),$(event.target).attr("data-slide")||$(event.target).attr("data-toggle"))return;if($(event.target).parent()&&($(event.target).parent().attr("data-slide")||$(event.target).parent().attr("data-toggle")))return;if(someElement.length>1&&(hrefSplitArr=someElement.split("__"),hrefSplitArr.length>1&&"#showModal"===hrefSplitArr[0]?$rootScope.$broadcast("showUserModal",hrefSplitArr[1]):$(someElement).length>0?($("html, body").animate({scrollTop:$(someElement).offset().top-100},300),window.location.hash=someElement):(onlymodelidname=someElement.replace("#",""),$("[modelid="+onlymodelidname+"]").length>0&&($("html, body").animate({scrollTop:$("[modelid="+onlymodelidname+"]").offset().top-100},300),window.location.hash=someElement))),"#"===someElement)return $("html, body").animate({scrollTop:0},300),window.location.hash="#"}}})},300),deviceDetector.isMobile()?($scope.elw=$("body").width(),$scope.currentViewType="mobile",$timeout(function(){var elw;return elw=$("body").width(),elw>=768&&($scope.currentViewType="tablet"),$scope.setUserDefinedMceFontSize()},100)):$timeout(function(){return $scope.setUserDefinedMceFontSize()},400),$scope.checkUser()},$scope.removeModal=function(){return $("[data-toggle='modal']").removeAttr("data-toggle")},$scope.initRecaptcha=function(){var formItem,initFlag,j,len,ref;for(initFlag=!1,ref=$("form"),j=0,len=ref.length;len>j;j++)formItem=ref[j],$(formItem).attr("data-formconstructor")||(initFlag=!0);return initFlag?($scope.siteKey="6LcEJfcUAAAAAEV16X1M08W9rfsiLuTkABq4e3P6",$ocLazyLoad.load({serie:!0,files:["https://www.google.com/recaptcha/api.js?render="+$scope.siteKey]}).then(function(){return grecaptcha.ready(function(){return grecaptcha.execute($scope.siteKey,{action:"homepage"}).then(function(token){return $scope.recaptchaToken=token})}),$interval(function(){return grecaptcha.ready(function(){return grecaptcha.execute($scope.siteKey,{action:"homepage"}).then(function(token){return $scope.recaptchaToken=token})})},6e4)})):void 0},$scope.prevForm_=function(){return void 0},$scope.prevForm=function(){return $timeout(function(){var a_inside_form,form,j,len,ref;for($("form").off(),ref=$("form"),j=0,len=ref.length;len>j;j++)form=ref[j],a_inside_form=$("form").find("a"),1===a_inside_form.length&&($(a_inside_form[0]).off(),$(a_inside_form[0]).bind("click",function(event){var email,input,inputs,k,keyname,len1,senddata,textarea;if(event.preventDefault(),event.stopPropagation(),inputs=$(form).find("input"),inputs.length>1){for(textarea=$(form).find("textarea"),senddata={},k=0,len1=inputs.length;len1>k;k++)input=inputs[k],keyname=input.name||input.id,senddata[keyname]=input.value,"submit"!==input.type&&(input.value="");textarea.length>0&&(senddata.message=textarea[0].value,textarea[0].value=""),$scope.SendMsg(senddata,form)}return 1===inputs.length?(email=$(inputs[0]).val(),$scope.subscribeEmail(email),$(inputs[0]).val("")):void 0}));return $("form").on("submit",function(evt){var email,input,inputs,inputsLength,k,keyname,l,len1,len2,ref1,senddata,textarea;if(!$(evt.target).attr("data-formconstructor")){for(evt.preventDefault(),evt.stopPropagation(),inputs=$(evt.target).find("input"),form=null,evt.currentTarget&&(form=evt.currentTarget),inputsLength=inputs.length,k=0,len1=inputs.length;len1>k;k++)input=inputs[k],("submit"===input.type||"button"===input.type)&&(inputsLength-=1);if(inputsLength>1){for(textarea=$(evt.target).find("textarea"),senddata={},l=0,len2=inputs.length;len2>l;l++)input=inputs[l],keyname=input.name||input.id,senddata[keyname]=input.value,"submit"!==input.type&&(input.value="");textarea.length>0&&(senddata.message=textarea[0].value,textarea[0].value=""),$scope.SendMsg(senddata,form)}return 1===inputsLength&&(email=$(inputs[0]).val(),$scope.subscribeEmail(email),(null!=$scope&&null!=(ref1=$scope.userData)?ref1.email:void 0)?$(inputs[0]).val($scope.userData.email):$(inputs[0]).val("")),$scope.memberFillFields()}})},500)},$scope.insertParam=function(key,value){var search;return search=$location.search(),search.lang=value,$location.search(search),search.hasOwnProperty("lang")&&search.lang&&"rus"===search.lang?(delete search.lang,$location.search(search)):void 0},$scope.initAnimation=function(){var flag,item,j,k,key,len,len1,pageBlock,ref,ref1,ref2,ref3;for(flag=!1,ref=$scope.items1,j=0,len=ref.length;len>j;j++)for(pageBlock=ref[j],ref1=pageBlock.usercontent.data,k=0,len1=ref1.length;len1>k;k++)item=ref1[k],key=Object.keys(item)[0],(null!=(ref2=item[key])&&null!=(ref3=ref2.animations)?ref3.blockShow:void 0)&&(flag=!0);return flag?$timeout(function(){return $ocLazyLoad.load({files:["/assets/stylesheets/siteanimations-preview.css"]}).then(function(){return window.siteAnimationsloadStyles=!0})},0):void 0},$scope.initlang=function(){var search_;return search_=$location.search(),search_.hasOwnProperty("lang")&&search_.lang?($scope.currentLang=search_.lang,localStorage.setItem("lang",$scope.currentLang)):($scope.currentLang=localStorage.getItem("lang"),$scope.currentLang&&($scope.insertParam("lang",$scope.currentLang),$scope.$broadcast("setCurrentLangBtn",$scope.currentLang))),search_.hasOwnProperty("lang")&&search_.lang&&"rus"===search_.lang&&(delete search_.lang,$location.search(search_)),$scope.$on("setCurrentLang",function(evt,lang){return $scope.currentLang=lang})},$scope.clickAuthorBarBtn=function(){return $scope.showSmallAuthorBtn?($scope.showSmallAuthorBtn=!1,$("#authorBarDiv").removeClass("authorBarHide"),$("#authorBarDiv").addClass("authorBarShow"),localStorage.setItem("AuthorBar","show")):($("#authorBarDiv").removeClass("authorBarShow"),$("#authorBarDiv").addClass("authorBarHide"),localStorage.setItem("AuthorBar","hide"),$timeout(function(){return $scope.showSmallAuthorBtn=!0,$("#smallAuthorBtn").addClass("authorBarShowSmall")},500))},$scope.initAuthorBar=function(){var authorBarElm,checkABar,str;return checkABar=$("#authorBarDiv"),checkABar&&checkABar.length>0?void 0:(str='<div class="author-bar" id="authorBarDiv">',str+='<div class="author-bar-left">',str+='<div class="author-bar-item nomobile"  ng-if="currentAuthorAvatar.length>0" style="margin-right: 8px;"><a href="https://editor.fo.ru/settings" target="_blank" rel="noopener"><img ng-src="{{currentAuthorAvatar}}"></a></div>',str+='<div class="author-bar-item" ng-show="currentAuthorHideAdsMsg"><a href="https://editor.fo.ru/tariffs" target="_blank" rel="noopener">\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0440\u0435\u043a\u043b\u0430\u043c\u0443</a></div>',str+='<div class="author-bar-item"><a ng-href="https://editor.fo.ru/siteeditor/{{currentAuthorSiteId}}?pageid={{currentAuthorPageId}}" target="_blank" rel="noopener">\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443</a></div>',str+="</div>",str+='<div class="author-bar-right">',Userdefaultdomain.checkHostName(window.location.hostname)&&(str+='<div class="author-bar-item nomobile"><a href="https://editor.fo.ru/yourdomains#adddomain" target="_blank" rel="noopener">\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0434\u043e\u043c\u0435\u043d</a></div>'),str+='<div class="author-bar-item" ng-click="clickAuthorBarBtn()"><i class="fa fa-chevron-up" aria-hidden="true" title="\u0421\u043a\u0440\u044b\u0442\u044c" style="cursor:pointer"></i></div>',str+='<div class="author-bar-item-hide" ng-show="showSmallAuthorBtn"><div id="smallAuthorBtn" class="author-bar-item-hide-btn " ng-click="clickAuthorBarBtn()"><i class="fa fa-chevron-down" aria-hidden="true" title="\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c" style="cursor:pointer"></i></div></div>',str+="</div>",str+="</div>",authorBarElm=$(str),$("body").prepend($compile(authorBarElm)($scope)),"hide"===localStorage.getItem("AuthorBar")?$timeout(function(){return $scope.showSmallAuthorBtn=!0,$("#smallAuthorBtn").addClass("authorBarShowSmall")},1e3):$("#authorBarDiv").addClass("authorBarShow"))},$scope.switchLang=function(){return $scope.currentLang?("rus"===$scope.currentLang?$scope.currentLang="eng":$scope.currentLang="rus",$scope.insertParam("lang",$scope.currentLang),localStorage.setItem("lang",$scope.currentLang),$scope.$broadcast("setCurrentLangBtn",$scope.currentLang)):void 0},$scope.initlang(),$scope.$on("refreshCheckUser",function(evt,data){return $scope.checkUser()}),$scope.$on("foundedOldExtrablockPreview",function(){return $scope.extrablockCssIsLoaded?void 0:($scope.extrablockCssIsLoaded=!0,$ocLazyLoad.load({files:["/assets/stylesheets/extrablocks.css?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}))}),$scope.$on("foundedArticleBlockPreview",function(evt){return $ocLazyLoad.load({files:["/assets/templates-public-styles/styles-articles-pages.css?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]})}),$scope.$on("ocLazyLoad.fileLoaded",function(evt,file){return file.indexOf("/api/v1/combine/bundle.css?csschunk=")>-1,void 0}),$scope.$on("loadedBlock",function(){return $scope.loadedblocks=$scope.loadedblocks+1}),$scope.$on("blogSubscriptionEvent",function(evt,value,id){return $scope.$broadcast("blogSubscriptionResultEvent",value,id)}),$scope.load_components=function(res,loadCombineCSS){var blockarr,bundleurl,cmburl,combineCssUrl,combinecssarr,comp,fullurl,j,javascripts,k,l,len,len1,len2,len3,len4,len5,len6,len7,m,n,o,p,privatescripts,privatestyles,privscripts,privstylearr,q,ref,ref1,ref2,ref3,script,stylesarr,stylesheet,stylesheets,tempblocks,urlarr,wbscopy;if(loadCombineCSS&&res.combinecss&&res.combinecss.length>0,javascripts=[],stylesheets=[],privatestyles=[],privatescripts=[],blockarr=[],wbscopy=angular.copy(res.websiteblocks),tempblocks=wbscopy.filter(function(obj){return obj.content&&"Element"===obj.content.type?obj:void 0}),res.pagetemplate){for(ref=res.pagetemplate.components,j=0,len=ref.length;len>j;j++)comp=ref[j],"css"===comp.assettype&&stylesheets.push({url:comp.asset_url,position:comp.positionid});if(res.template)for(ref1=res.template.components,k=0,len1=ref1.length;len1>k;k++)comp=ref1[k],"css"===comp.assettype&&$("[href^='"+comp.asset_url+"']").remove()}if(res.template)for(ref2=res.template.components,l=0,len2=ref2.length;len2>l;l++)comp=ref2[l],"css"===comp.assettype&&stylesheets.push({url:comp.asset_url,position:comp.positionid});if(res.privatecomponents)for(ref3=res.privatecomponents,m=0,len3=ref3.length;len3>m;m++)comp=ref3[m],"css"===comp.assettype&&privatestyles.push({url:comp.asset_url,position:comp.positionid});for(javascripts.sort(function(a,b){return a.position-b.position}),stylesheets.sort(function(a,b){return a.position-b.position}),privatestyles.sort(function(a,b){return a.position-b.position}),privatescripts.sort(function(a,b){return a.position-b.position}),stylesarr=[],urlarr=[],privstylearr=[],privscripts=[],combinecssarr=[],loadCombineCSS&&res.combinecss&&res.combinecss.length>0&&(combineCssUrl="/api/v1/combine/bundle.css?csschunk="+res.combinecss.join("|")+"&"+window.yepbuildversion,cmburl="/combine/bundle.css?csschunk="+res.combinecss.join("|"),$("[href^='/api/v1/combine/bundle.css?csschunk=']").length>0&&(fullurl=$("[href^='/api/v1/combine/bundle.css?csschunk=']")[0].href.toString().split("&")[0],fullurl&&(bundleurl=fullurl.split("/api/v1")[1],bundleurl&&bundleurl.toString()!==cmburl.toString()&&$("[href^='/api/v1/combine/bundle.css?csschunk=']").remove())),combinecssarr.push(combineCssUrl)),n=0,len4=stylesheets.length;len4>n;n++)stylesheet=stylesheets[n],stylesarr.push(stylesheet.url);for(o=0,len5=javascripts.length;len5>o;o++)script=javascripts[o],urlarr.push(script.url);for(p=0,len6=privatescripts.length;len6>p;p++)script=privatescripts[p],privscripts.push(script.url);for(q=0,len7=privatestyles.length;len7>q;q++)stylesheet=privatestyles[q],privstylearr.push(stylesheet.url);return combinecssarr.length>0&&$ocLazyLoad.load({cache:!1,files:combinecssarr}),stylesarr.length>0?$ocLazyLoad.load({cache:!1,files:stylesarr}).then(function(){return $timeout(function(){return $scope.$broadcast("stylesLoaded")},0)}):$scope.$broadcast("stylesLoaded"),privstylearr.length>0&&$ocLazyLoad.load({cache:!1,files:privstylearr}),$scope.$watch("loadedblocks",function(newval,oldval){return $scope.loadprogress=$scope.loadedblocks/tempblocks.length*100,$scope.loadprogress<20&&($scope.loadprogress=$scope.loadprogress+10),newval===tempblocks.length?($timeout(function(){return $("body").find("[draggable]").removeAttr("draggable"),$scope.htmlloaded=!1},100),$timeout(function(){return 0===urlarr.length&&0===privscripts.length?$timeout(function(){return $scope.prevForm(),$scope.bootstrscroll(),$scope.removeModal(),$scope.BindClickOnA()},0):($ocLazyLoad.load({serie:!0,files:urlarr}).then(function(){return $timeout(function(){return $scope.prevForm(),$scope.bootstrscroll(),$scope.removeModal(),$scope.BindClickOnA()},0)}),$ocLazyLoad.load({serie:!0,files:privscripts}).then(function(){return $timeout(function(){return $scope.prevForm(),$scope.bootstrscroll(),$scope.removeModal(),$scope.BindClickOnA()},0)})),$timeout(function(){var androidDesktopMode,hasTimesNRFlag,isAndroid,isGoogle,webkitVer;return window.hashtml=!1,webkitVer=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.appVersion)[1],10),isGoogle=webkitVer&&0===navigator.vendor.indexOf("Google"),isAndroid=isGoogle&&navigator.userAgent.indexOf("Android")>0,androidDesktopMode=!isAndroid&&isGoogle&&0===navigator.platform.indexOf("Linux a")&&"ontouchstart"in document.documentElement,(isAndroid||androidDesktopMode)&&(hasTimesNRFlag=!1,$("*").each(function(i,item){var stl,stll;return stl=$(item).css("font-family"),stll=$(item).css("font"),stl&&/times new roman/i.test(stl)&&(hasTimesNRFlag=!0),stll&&/times new roman/i.test(stll)?hasTimesNRFlag=!0:void 0})),hasTimesNRFlag?$ocLazyLoad.load({files:["/assets/fonts/timesnewroman/times.css"]}).then(function(res){return void 0})["catch"](function(e){return void 0}):void 0},400)},0)):void 0})},checkForuproductsDirective=function(el){return el&&el.content?"foruproducts"===el.content.tagName||"foruvkgroupproducts"===el.content.tagName||"forudigiseller"===el.content.tagName:void 0},$scope.setUserDefinedMceFontSize=function(){return $("[data-foru-style-desktop], [data-foru-style-mobile], [data-foru-style-tablet]").each(function(){var elmattrs,item,j,len,results,styleItem,styleItems;if(elmattrs=$(this).attr("data-foru-style-"+$scope.currentViewType)){for($(this).attr("data-mce-style",elmattrs),styleItems=elmattrs.split(";"),results=[],j=0,len=styleItems.length;len>j;j++)item=styleItems[j],styleItem=item.split(":"),2===styleItem.length?results.push($(this).css(styleItem[0].trim(),styleItem[1].trim())):results.push(void 0);return results}return $(this).css({"font-size":""}),$(this).removeAttr("data-mce-style")})},$scope.loadSiteData=function(res,loadCombineCSS){var domain_,domoruser,host,isIframe,myorigin,pagename,prods,r,redirecturl,request_host,validhost;if(null==loadCombineCSS&&(loadCombineCSS=!1),r=/^www\..*/i,res.redirectfromtowww&&!$scope.username){if("fromwww"===res.redirectfromtowww.toString()&&r.test(window.location.hostname)&&(validhost=window.location.hostname.replace(/^www\./i,""),redirecturl=window.location.protocol+"//"+validhost+window.location.pathname,$rootScope.prerenderredirecturl=redirecturl,$rootScope.prerenderstatuscode=301,-1===window.navigator.userAgent.toLowerCase().indexOf("prerender")))return void(window.location.href=redirecturl);
if("towww"===res.redirectfromtowww.toString()&&!r.test(window.location.hostname)&&(validhost="www."+window.location.hostname.toString(),redirecturl=window.location.protocol+"//"+validhost+window.location.pathname,$rootScope.prerenderredirecturl=redirecturl,$rootScope.prerenderstatuscode=301,-1===window.navigator.userAgent.toLowerCase().indexOf("prerender")))return void(window.location.href=redirecturl)}if(res.status){if(404===res.status)return window.location.hostname.indexOf("glp.su")>-1&&($scope.redirect404="https://glp.su",$scope.isGlpSu=!0),$scope.sitenotfound=!0,$rootScope.show404=!0,$rootScope.prerenderstatuscode=404,$scope.htmlloaded=!1,$scope.priority=!1,$rootScope.priorityPreview=!1,void($rootScope.redirectMainTimeout=$timeout(function(){return window.location.href=$scope.redirect404},3e4));if(403===res.status)return void(window.location.href="/sitespace/pageaccessdenied");if(401===res.status)return void(window.location.href="/sitespace/memberslogin")}return res.statichost&&!$scope.isDevMode&&($scope.statichost=res.statichost),$scope.pageName=res.name,$scope.gaid=res.gaid,$scope.metid=res.metid,$scope.siteid=res.siteuuid,$scope.senseid=res.senseid,$scope.directid=res.directid,$scope.wmcounter=res.wmcounter,$scope.shopsitepage=res.shopsitepage,$scope.piwik_siteid=res.piwik_siteid,$scope.jivoid=res.jivoid,res.zadarmaid&&$ocLazyLoad.load({cache:!0},{name:"zadarma.js",files:["/assets/js/zadarma.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(){return $scope.zadarmaid=res.zadarmaid}),res.tinkoffid&&$ocLazyLoad.load({cache:!0},{name:"tinkoffchat.js",files:["/assets/js/tinkoffchat.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(){return $scope.tinkoffid=res.tinkoffid}),res.torrowurl&&$ocLazyLoad.load({cache:!0},{name:"torrowwidget.js",files:["/assets/js/torrowwidget.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(){return $scope.torrowurl=res.torrowurl}),res.leadbackid&&$ocLazyLoad.load({cache:!0},{name:"leadbackwidget.js",files:["/assets/js/leadbackwidget.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(){return $scope.leadbackid=res.leadbackid}),$scope.pagehided=!1,res.pagepublic===!0&&($scope.pagehided=!1),res.pagepublic===!1&&($scope.pagehided=!0,$scope.htmlloaded=!1),res.background&&("video"===res.background.type&&res.background.url&&""!==res.background.url&&$ocLazyLoad.load({cache:!0},{name:"forubgvideo.js",files:["/assets/js/forubgvideo.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(){return $scope.videoBGURL=res.background.url}),"image"===res.background.type&&$scope.setBodyBackImage(res.background.url),"color"===res.background.type&&$scope.setBodyBackColor(res.background.url),res.fontstyle&&$scope.setBodyFontStyle(res.fontstyle)),res.localvideo&&$ocLazyLoad.load({cache:!0},{name:"forubgvideolocal.js",files:["/assets/js/forubgvideolocal.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(){return $scope.localvideo=res.localvideo}),$rootScope.yandexverification=res.yandexverification,$rootScope.googleverification=res.googleverification,$rootScope.capitallerverification=res.capitallerverification,$scope.username?(domain_=Userdefaultdomain.checkHostName(window.location.origin),domain_&&(domoruser=$scope.username+"."+domain_)):domoruser=$scope.domainname,$scope.site=res,$rootScope.hasuserspace=res.hasuserspace,$scope.site.userspacebutton&&$ocLazyLoad.load({cache:!0},{name:"userspacebutton.js",files:["/assets/js/userspacebutton.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(){return $scope.hasuserspacebutton=!0}),$scope.site.blindmode&&$ocLazyLoad.load({cache:!0},{name:"blindmode.js",files:["/assets/js/blindmode.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(){return $scope.blindmodeenabled=!0}),$scope.site.videocall&&$ocLazyLoad.load({cache:!0},{name:"foruvideocall.js",files:["/assets/js/foruvideocall.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(){return $scope.foruvideocallenabled=!0}),"rootpage"===res.name?($rootScope.description=res.pagedescription||res.description||$scope.domainname,Metapreview.setDescription($rootScope.description),$rootScope.title=res.pagetitle||res.title||domoruser+" \u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",Metapreview.setTitle($rootScope.title),res.pagekeywords&&(res.pagekeywords.length>0?($rootScope.keywords=res.pagekeywords.join(","),Metapreview.setMetaByName("keywords",$rootScope.keywords)):($rootScope.keywords=res.keywords.join(","),Metapreview.setMetaByName("keywords",$rootScope.keywords)))):($rootScope.description=res.pagedescription||$scope.domainname,Metapreview.setDescription($rootScope.description),$rootScope.title=res.pagetitle||domoruser+" \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441\u0430\u0439\u0442\u0430",Metapreview.setTitle($rootScope.title),res.pagekeywords&&($rootScope.keywords=res.pagekeywords.join(","),Metapreview.setMetaByName("keywords",$rootScope.keywords)),$rootScope.favicon_url=res.favicon_url||$rootScope.favicon_url),$rootScope.favicon_url=res.favicon_url||$rootScope.favicon_url,res.preview_url?($rootScope.ogimageurl=res.preview_url,Metapreview.setImage($rootScope.ogimageurl)):res.template&&($rootScope.ogimageurl=res.template.preview_url,Metapreview.setImage($rootScope.ogimageurl)),$scope.priority=!1,$rootScope.priorityPreview=!1,res.priority===!0&&($scope.priority=!0,$rootScope.priorityPreview=!0),res.tariff_feautures&&res.tariff_feautures.indexOf("proclamation")>-1&&($scope.proclam=!1,$rootScope.proclamPreview=!1),$timeout(function(){return $scope.gotsite=!0},100),res.blocked&&($scope.siteblocked=!0,$scope.htmlloaded=!1),$scope.blockarr=res.websiteblocks,prods=res.websiteblocks.find(checkForuproductsDirective),-1===res.websiteblocks.indexOf(prods)&&($scope.shopsitepage=!1),$scope.blockarr.sort(function(a,b){return a.position-b.position}),$scope.load_components(res,loadCombineCSS),$scope.items1=$scope.blockarr,window.items=$scope.items1,isIframe=!1,$scope.priority||$scope.wmpriority||isIframe?($rootScope.showForuProcBanner=!1,$rootScope.showAdvBanner=!1):$scope.proclam===!0?($rootScope.showForuProcBanner=!0,host=window.location.host,host.indexOf(":3000")>-1&&(host=host.replace(":3000","")),$rootScope.showAdvBanner=!0):($rootScope.showForuProcBanner=!1,$rootScope.showAdvBanner=!1),request_host=window.location.hostname,myorigin=window.origin,pagename=window.location.pathname.replace("/",""),$scope.currentAuthorAvatar="",$scope.initAnimation()},$scope.username)if($scope.domain=Userdefaultdomain.checkHostName(window.location.origin),$scope.domain&&($rootScope.title=$scope.username+"."+$scope.domain,Metapreview.setTitle($rootScope.title),$scope.hostdomainname="foru"),window.foruSiteJsonData){if(sitedata=JSON.parse(window.foruSiteJsonData),window.foruSiteJsonData=null,sitedata.autoredirect&&sitedata.domainname&&(redirecturl="http://"+sitedata.domainname+":"+window.location.port,$rootScope.prerenderredirecturl=redirecturl,$rootScope.prerenderstatuscode=301,-1===window.navigator.userAgent.toLowerCase().indexOf("prerender")))return void(window.location.href=redirecturl);$scope.loadSiteData(sitedata)}else $scope.pageid?Preview.getPreview($scope.username,$scope.pageid).then(function(res){return res.autoredirect&&res.domainname&&(redirecturl="http://"+res.domainname+":"+window.location.port+"/"+$scope.pageid,$rootScope.prerenderredirecturl=redirecturl,$rootScope.prerenderstatuscode=301,-1===$window.navigator.userAgent.toLowerCase().indexOf("prerender"))?void(window.location.href=redirecturl):($scope.loadSiteData(res,!0),$scope.loadPageFonts(res.pagefonts),$timeout(function(){return navigator&&navigator.userAgent&&navigator.userAgent.toString().toLocaleLowerCase().indexOf("prerender")>-1?void 0:window.callIllicium()},500))}):Preview.getPreview($scope.username).then(function(res){return res.autoredirect&&res.domainname&&(redirecturl="http://"+res.domainname+":"+window.location.port,$rootScope.prerenderredirecturl=redirecturl,$rootScope.prerenderstatuscode=301,-1===window.navigator.userAgent.toLowerCase().indexOf("prerender"))?void(window.location.href=redirecturl):($scope.loadSiteData(res,!0),$scope.loadPageFonts(res.pagefonts),$timeout(function(){return navigator&&navigator.userAgent&&navigator.userAgent.toString().toLocaleLowerCase().indexOf("prerender")>-1?void 0:window.callIllicium()},500))});return $scope.domainname&&($rootScope.title=$scope.domainname,Metapreview.setTitle($rootScope.title),window.foruSiteJsonData?(sitedata=JSON.parse(window.foruSiteJsonData),window.foruSiteJsonData=null,$scope.loadSiteData(sitedata)):$scope.pageid?Preview.getPreviewDomain($scope.domainname,$scope.pageid).then(function(res){return $scope.loadSiteData(res,!0),$scope.loadPageFonts(res.pagefonts)}):Preview.getPreviewDomain($scope.domainname,$scope.pageid).then(function(res){return $scope.loadSiteData(res,!0),$scope.loadPageFonts(res.pagefonts)})),$scope.SendMsg=function(data,form){var confirmModal;null==form&&(form=null),confirmModal=ngDialog.open({template:"/assets/templates-public/preview/confirm-send-presonal-data-modal/confirm-send-presonal-data-modal.html",className:"t-modal t-modal--copyblocktoanotherpage",showClose:!0,closeByEscape:!0,closeByDocument:!0,scope:$scope}),confirmModal.closePromise.then(function(res){return res.hasOwnProperty("value")&&res.value===!0?Msgservice.sendmessage(data).then(function(res){return form?$scope.hideShowForm(form):alert("\u0412\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e")}):void 0})},$scope.hideShowForm=function(form){var elem,parent;return $(form).fadeOut("fast"),parent=$(form).parent(),elem=$(parent).append("<p class='notifysendtxt'>\u0412\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e</p>"),$timeout(function(){var notifyp;return notifyp=$(elem).find("p.notifysendtxt"),notifyp.remove(),$(form).fadeIn("slow")},2e3)},$scope.subscribeEmail=function(data){var confirmModal,re;return re=/\S+@\S+\.\S+/,re.test(data)?(confirmModal=ngDialog.open({template:"/assets/templates-public/preview/confirm-send-presonal-data-modal/confirm-send-presonal-data-modal.html",className:"t-modal t-modal--copyblocktoanotherpage",showClose:!0,closeByEscape:!0,closeByDocument:!0,scope:$scope}),confirmModal.closePromise.then(function(res){return res.hasOwnProperty("value")&&res.value===!0?Subscriber.subscribe(data).then(function(res){return alert("\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0430"),!0}):!1})):(alert("\u041d\u0435\u0432\u0435\u0440\u043d\u043e \u0443\u043a\u0430\u0437\u0430\u043d \u0430\u0434\u0440\u0435\u0441"),!1)},$scope.checkUser=function(){var ref,xhr;return(null!=$scope&&null!=(ref=$scope.site)?ref.hasuserspace:void 0)?(xhr=new XMLHttpRequest,xhr.open("POST","/members/sign_in",!0),xhr.withCredentials=!0,xhr.setRequestHeader("Accept","application/json"),xhr.send({}),xhr.onerror=function(){return $scope.userData=null},xhr.onload=function(){var data,ref1;return(null!=this?this.response:void 0)?(data=JSON.parse(this.response),(null!=data&&null!=(ref1=data._id)?ref1.$oid:void 0)?$ocLazyLoad.load({cache:!0},{name:"member-panel.js",files:["/assets/js/member-panel.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(){return $scope.userData=data,$scope.memberFillFields(),$scope.$broadcast("refreshUserData",!0)}):$scope.userData=null):$scope.userData=null,$scope.$broadcast("sendUserDataEvent",$scope.userData,$scope.fromAuthForm)}):void 0},$scope.checkUser(),$scope.memberFillFields=function(){var ref;return(null!=(ref=$scope.userData)?ref.email:void 0)?$("input[type='email'], input[fieldtype='email'], input[name='useremail']").each(function(ii,inpt){return $(inpt).val($scope.userData.email),$(inpt).change()}):void 0}})}.call(this),function(){angular.module("YepCom").controller("ArticlesCtrl",function($scope,$state,$rootScope,$stateParams,Article,$timeout,Preview,$window,Advertisement,$ocLazyLoad){return $scope.pageid=$stateParams.pageid,$scope.currentstate=$state.current.name,$rootScope.currentState=$state.current.name,$scope.pageid=void 0,$scope.domainname=$rootScope.domainname,$ocLazyLoad.load({cache:!0,name:["articlesfonts"],files:["/bundles/fonts/articlefonts.css","/assets/templates-public-styles/styles-articles-pages.css"]}),$rootScope.domainname?Preview.getPreviewDomain($rootScope.domainname).then(function(res){return $scope.loadSiteData(res)}):Preview.getPreview($scope.username).then(function(res){var redirecturl;return res.autoredirect&&res.domainname&&(redirecturl="http://"+res.domainname+":"+window.location.port,$rootScope.prerenderredirecturl=redirecturl,$rootScope.prerenderstatuscode=301,-1===window.navigator.userAgent.toLowerCase().indexOf("prerender"))?void(window.location.href=redirecturl):$scope.loadSiteData(res)}),$scope.loadSiteData=function(res){var host,r,redirecturl,validhost;if(r=/^www\..*/i,res.redirectfromtowww&&!$scope.username){if("fromwww"===res.redirectfromtowww.toString()&&r.test(window.location.hostname)&&(validhost=window.location.hostname.replace(/^www\./i,""),redirecturl=window.location.protocol+"//"+validhost+window.location.pathname,$rootScope.prerenderredirecturl=redirecturl,$rootScope.prerenderstatuscode=301,-1===window.navigator.userAgent.toLowerCase().indexOf("prerender")))return void(window.location.href=redirecturl);if("towww"===res.redirectfromtowww.toString()&&!r.test(window.location.hostname)&&(validhost="www."+window.location.hostname.toString(),redirecturl=window.location.protocol+"//"+validhost+window.location.pathname,$rootScope.prerenderredirecturl=redirecturl,$rootScope.prerenderstatuscode=301,-1===window.navigator.userAgent.toLowerCase().indexOf("prerender")))return void(window.location.href=redirecturl)}return res.status&&404===res.status&&($scope.sitenotfound=!0,$rootScope.show404=!0,$rootScope.prerenderstatuscode=404,$scope.htmlloaded=!1,$scope.priority=!1),$scope.gaid=res.gaid,$scope.metid=res.metid,$scope.siteid=res.siteuuid,$scope.senseid=res.senseid,$scope.directid=res.directid,$scope.wmcounter=res.wmcounter,$rootScope.yandexverification=res.yandexverification,$rootScope.googleverification=res.googleverification,$rootScope.capitallerverification=res.capitallerverification,$scope.articlesite=res,$scope.articlesite.blindmode&&$ocLazyLoad.load({cache:!0},{name:"blindmode.js",files:["/assets/js/blindmode.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(){return $scope.blindmodeenabled=!0}),$scope.articlesite.videocall&&$ocLazyLoad.load({cache:!0},{name:"foruvideocall.js",files:["/assets/js/foruvideocall.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(){return $scope.foruvideocallenabled=!0}),$rootScope.favicon_url=res.favicon_url||$rootScope.favicon_url,res.preview_url?$rootScope.ogimageurl=res.preview_url:res.template&&($rootScope.ogimageurl=res.template.preview_url),$scope.priority=!1,res.priority===!0&&($scope.priority=!0),$rootScope.showForuProcBanner=!1,$timeout(function(){return $scope.gotsite=!0},1e3),res.blocked&&($scope.siteblocked=!0,$scope.htmlloaded=!1),res.tariff_feautures&&res.tariff_feautures.indexOf("proclamation")>-1&&($scope.proclam=!1),$scope.priority||$scope.wmpriority||isIframe?($rootScope.showForuProcBanner=!1,$rootScope.showAdvBanner=!1):$scope.proclam===!0?($rootScope.showForuProcBanner=!0,host=window.location.host,host.indexOf(":3000")>-1&&(host=host.replace(":3000","")),Advertisement.getRandomAdvertisement(host).then(function(res){return res.text1?$rootScope.showAdvBanner=!0:void 0})):($rootScope.showForuProcBanner=!1,$rootScope.showAdvBanner=!1)},$scope.articleSettings={theme:"light",logoposition:"logo-hidden",breadcrumbs:"breadcrumbs-visible"},$scope.BindClickOnA=function(){return $scope.aaaaaaa=!0,$timeout(function(){var a,currentImage,elem,i,j,len,len1,ref,ref1;for(ref=$(".fancybox"),i=0,len=ref.length;len>i;i++)elem=ref[i],"IMG"===$(elem).prop("tagName")&&0===$(elem).parents("a").length&&(currentImage=$(elem),currentImage.wrap("<a class='fancybox' href='"+currentImage.attr("src")+"'</a>"));for(ref1=$("a"),j=0,len1=ref1.length;len1>j;j++)a=ref1[j],$(a).hasClass("fancybox")&&(void 0===$(a).attr("href")&&$(a).attr("href",$(a).children("img").attr("src")),$(a).fancybox({arrows:!0,hash:!1,afterLoad:function(instance,current){return $scope.$broadcast("openFancyBox",current.$image[0])}}));return $("a").bind("click",function(event){"true"!==$(this).attr("stopscroll")&&$(this).hasClass("fancybox")})},300)},$scope.getArticleSettings=function(){return $scope.domainname?Preview.getPreviewDomain($scope.domainname).then(function(res){var i,key,keys,len,results,settings;if(res.articlesettings){for(settings=res.articlesettings[0],keys=Object.keys(settings),results=[],i=0,len=keys.length;len>i;i++)key=keys[i],results.push($scope.articleSettings[key]=settings[key]);return results}}):Preview.getPreview($scope.username).then(function(res){var i,key,keys,len,results,settings;if(res.articlesettings){for(settings=res.articlesettings[0],keys=Object.keys(settings),results=[],i=0,len=keys.length;len>i;i++)key=keys[i],results.push($scope.articleSettings[key]=settings[key]);return results}})},$scope.BindClickOnA(),$scope.getArticleSettings()})}.call(this),function(){angular.module("YepCom").controller("ForushopCtrl",function($scope,$state,$stateParams,Preview,$rootScope){return $scope.currentState=$state.current.name,("forushop-product-preview"===$scope.currentState||"forushop-category-preview"===$scope.currentState)&&($rootScope.domainname?Preview.getPreviewDomain($rootScope.domainname).then(function(res){return $scope.loadSiteData(res)}):Preview.getPreview($scope.username).then(function(res){var redirecturl;return res.autoredirect&&res.domainname&&(redirecturl="http://"+res.domainname+":"+window.location.port,$rootScope.prerenderredirecturl=redirecturl,$rootScope.prerenderstatuscode=301,-1===window.navigator.userAgent.toLowerCase().indexOf("prerender"))?void(window.location.href=redirecturl):$scope.loadSiteData(res)})),$scope.loadSiteData=function(res){var host,r,redirecturl,validhost;if(r=/^www\..*/i,res.redirectfromtowww&&!$scope.username){if("fromwww"===res.redirectfromtowww.toString()&&r.test(window.location.hostname)&&(validhost=window.location.hostname.replace(/^www\./i,""),redirecturl=window.location.protocol+"//"+validhost+window.location.pathname,$rootScope.prerenderredirecturl=redirecturl,$rootScope.prerenderstatuscode=301,-1===window.navigator.userAgent.toLowerCase().indexOf("prerender")))return void(window.location.href=redirecturl);if("towww"===res.redirectfromtowww.toString()&&!r.test(window.location.hostname)&&(validhost="www."+window.location.hostname.toString(),redirecturl=window.location.protocol+"//"+validhost+window.location.pathname,$rootScope.prerenderredirecturl=redirecturl,$rootScope.prerenderstatuscode=301,-1===window.navigator.userAgent.toLowerCase().indexOf("prerender")))return void(window.location.href=redirecturl)}return res.status&&404===res.status&&($scope.sitenotfound=!0,$rootScope.show404=!0,$rootScope.prerenderstatuscode=404,$scope.htmlloaded=!1,$scope.priority=!1),$scope.gaid=res.gaid,$scope.metid=res.metid,$scope.siteid=res.siteuuid,$scope.shopsite=res.shopsite,$scope.senseid=res.senseid,$scope.directid=res.directid,$scope.wmcounter=res.wmcounter,$rootScope.yandexverification=res.yandexverification,$rootScope.googleverification=res.googleverification,$rootScope.capitallerverification=res.capitallerverification,$scope.articlesite=res,$scope.articlesite.blindmode&&$ocLazyLoad.load({cache:!0},{name:"blindmode.js",files:["/assets/js/blindmode.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(){return $scope.blindmodeenabled=!0}),$scope.articlesite.videocall&&$ocLazyLoad.load({cache:!0},{name:"foruvideocall.js",files:["/assets/js/foruvideocall.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(){return $scope.foruvideocallenabled=!0}),$rootScope.favicon_url=res.favicon_url||$rootScope.favicon_url,res.preview_url?$rootScope.ogimageurl=res.preview_url:res.template&&($rootScope.ogimageurl=res.template.preview_url),$scope.priority=!1,res.priority===!0&&($scope.priority=!0),$timeout(function(){return $scope.gotsite=!0},1e3),res.blocked&&($scope.siteblocked=!0,$scope.htmlloaded=!1),res.tariff_feautures&&res.tariff_feautures.indexOf("proclamation")>-1&&($scope.proclam=!1),$scope.priority||$scope.wmpriority||isIframe?($rootScope.showForuProcBanner=!1,$rootScope.showAdvBanner=!1):$scope.proclam===!0?($rootScope.showForuProcBanner=!0,host=window.location.host,host.indexOf(":3000")>-1&&(host=host.replace(":3000","")),Advertisement.getRandomAdvertisement(host).then(function(res){return res.text1?$rootScope.showAdvBanner=!0:void 0})):($rootScope.showForuProcBanner=!1,$rootScope.showAdvBanner=!1)}})}.call(this),function(){angular.module("YepCom").controller("ErrorsCtrl",function($scope,$rootScope,$timeout,Metapreview){return window.location.origin.indexOf("fo.ru")>-1&&($scope.hostdomainname="foru"),"foru"===$scope.hostdomainname&&($rootScope.title="Fo.ru - \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430",$rootScope.description="\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0439 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440 \u0441\u0430\u0439\u0442\u043e\u0432 Fo.Ru - \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"),Metapreview.setTitle($rootScope.title),Metapreview.setDescription($rootScope.description),$rootScope.prerenderstatuscode=404,$timeout(function(){return window.location.href="https://fo.ru"},6e3)})}.call(this),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("preview/view2/view2.html",'<div aria-valuemax="100"\n  aria-valuemin="0"\n  aria-valuenow="70"\n  class="progress-bar"\n  id="mainprogressbar"\n  ng-show="htmlloaded"\n  ng-style="{width: loadprogress + \'%\'}"\n  role="progressbar"\n  style="height: 4px;background-color:#f44336;position:fixed;top:0;z-index: 10;width:10%;">\n</div>\n<scroll-watch>\n</scroll-watch>\n\n<!-- <yepga gaid="gaid" ng-if="gaid"></yepga> -->\n<!-- <yepmet metid="metid" ng-if="metid"> </yepmet> -->\n<jivochat jivoid="jivoid"\n  ng-if="jivoid">\n</jivochat>\n<zadarma ng-if="zadarmaid"\n  zadarmaid="zadarmaid">\n</zadarma>\n\n<torrow-widget ng-if="torrowurl"\n  torrowurl="torrowurl">\n</torrow-widget>\n<tinkoffchat ng-if="tinkoffid"\n  tinkoffid="tinkoffid">\n</tinkoffchat>\n<leadbackwidget leadbackid="leadbackid"\n  ng-if="leadbackid">\n</leadbackwidget>\n<yepcounter counter="wmcounter"\n  ng-if="wmcounter">\n</yepcounter>\n<toaster-container class="c-toaster"\n  toaster-options="{\'time-out\': 7000, \'position-class\': \'toast-center\', \'close-button\': true}">\n</toaster-container>\n\n<!-- <forushopcart forusiteid="siteid" shoppage="shopsitepage"\n  ng-show="shopsitepage">\n</forushopcart> -->\n<forubgvideolocal class="preview"\n  ng-if="localvideo"\n  url="localvideo">\n</forubgvideolocal>\n<forubgvideo class="preview"\n  ng-if="videoBGURL">\n</forubgvideo>\n<member-panel ng-if="userData"\n  user-data="userData">\n</member-panel>\n<userspacebutton ng-if="hasuserspacebutton" site="site"  user-data="userData"></userspacebutton>\n\n\n<yepview blk="item.blockdata"\n  class="scale-fade"\n  current-lang="currentLang"\n  elemdata="item"\n  forusite="site"\n  jsoncontent="item.usercontent"\n  metid="metid"\n  ng-if="siteblocked != true && pagehided != true"\n  ng-repeat="item in items1"\n  siteid="siteid"\n  style="position: relative;"\n  statichost="statichost">\n</yepview>\n<blindmode ng-if="blindmodeenabled">\n</blindmode>\n<div class="langbtn-preview"\n  ng-click="switchLang()"\n  ng-if="currentLang">\n  <img ng-if="currentLang==\'eng\'"\n    src="/img/gbflagcircle_50x50.png" loading="lazy"\n    title="Switch language" />\n  <img ng-if="currentLang==\'rus\'" loading="lazy"\n    src="/img/rusflagcircle_50x50.png"\n    title="\u041f\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u044f\u0437\u044b\u043a" />\n</div>\n<foruvideocall ng-if="foruvideocallenabled">\n</foruvideocall>\n\n<div ng-if="siteblocked"\n  style="text-align:center;margin-top:50px;">\n  <div>\n    <span class="logo"\n      ng-show="hostdomainname == \'yepcom\'">\n    </span>\n    <span class="logoforu"\n      ng-show="hostdomainname == \'foru\'">\n    </span>\n    <span class="logoforu"\n      ng-show="hostdomainname != \'foru\' && hostdomainname != \'yepcom\'">\n    </span>\n  </div>\n  <b style="font-size:128px;">404</b>\n  <h1>\u0421\u0430\u0439\u0442 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u0438\u043b\u0438 \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d</h1>\n  <p>\u0414\u0430\u043d\u043d\u044b\u0439 \u0441\u0430\u0439\u0442 \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u041f\u043e \u0432\u0441\u0435\u043c \u0432\u043e\u043f\u0440\u043e\u0441\u0430\u043c \u043e\u0431\u0440\u0430\u0449\u0430\u0439\u0442\u0435\u0441\u044c \u043d\u0430 &nbsp<a href="mailto:support@fo.ru">support@fo.ru</a>\n  </p>\n  <p>\u0427\u0435\u0440\u0435\u0437 &nbsp<b>\n      <timer countdown="7"\n        interval="1000">{{countdown}}</timer>\n    </b>&nbsp \u0441\u0435\u043a\u0443\u043d\u0434 &nbsp\u0432\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043d\u0430 \u0441\u0430\u0439\u0442 &nbsp<noindex>\n      <a href="https://fo.ru"\n        rel="nofollow">https://fo.ru</a>\n    </noindex>\n  </p>\n</div>\n<pagenotfound ng-if="pagehided"></pagenotfound>\n<!-- <pagenotfound ng-show="pagehided"></pagenotfound> -->\n<div ng-if="sitenotfound"\n  style="text-align:center;margin-top:50px;">\n  <div>\n    <span class="logo"\n      ng-show="hostdomainname == \'yepcom\'">\n    </span>\n    <span class="logoforu"\n      ng-show="hostdomainname == \'foru\'">\n    </span>\n    <span class="logoforu"\n      ng-show="hostdomainname != \'foru\' && hostdomainname != \'yepcom\'">\n    </span>\n  </div>\n  <b style="font-size:128px;">404</b>\n  <h1>\u0421\u0430\u0439\u0442 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u0438\u043b\u0438 \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d</h1>\n  <p style="margin-top:20px;margin-bottom:20px;">\n    <b>\n      <noindex>\n        <a class="btn btn-primary"\n          href="https://fo.ru"\n          ng-if="!isGlpSu"\n          rel="nofollow">\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u0441\u0430\u0439\u0442!</a>\n        <a class="btn btn-primary"\n          href="/"\n          ng-if="isGlpSu"\n          rel="nofollow">\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e</a>\n      </noindex>\n    </b>\n  </p>\n  <p>\u0427\u0435\u0440\u0435\u0437 &nbsp \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e&nbsp \u0441\u0435\u043a\u0443\u043d\u0434 &nbsp\u0432\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043d\u0430 \u0441\u0430\u0439\u0442 &nbsp<noindex>\n      <a ng-href="{{redirect404}}"\n        rel="nofollow">{{redirect404}}</a>\n    </noindex>\n  </p>\n  <p>\u041f\u043e \u0432\u0441\u0435\u043c \u0432\u043e\u043f\u0440\u043e\u0441\u0430\u043c \u043e\u0431\u0440\u0430\u0449\u0430\u0439\u0442\u0435\u0441\u044c \u043d\u0430 &nbsp<a href="mailto:support@fo.ru">support@fo.ru</a>\n  </p>\n</div>\n\n\n<!-- <div class="container-fluid"\n  ng-if="!priority && proclam">\n  <div class="row"\n    ng-show="gotsite">\n    <div class="col-xs-12"\n      style="text-align: center;">\n      <br />\n      <span style="color: #c5c5c5;">\u041f\u0440\u0438 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0435 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u044b - &nbsp</span>\n      <noindex>\n        <a href="https://fo.ru"\n          rel="nofollow">Fo.ru</a>\n      </noindex>\n      <br />\n      <span style="color: #c5c5c5;">Copyright \xa9 2011\u20132021</span>\n    </div>\n  </div>\n</div> -->\n<!-- <div class="container center" id="bannercontainer" ng-show="!priority && proclam">\n  <div class="illiciumItem" data-placeid="78" data-role="illicium" id="place78" style="margin-top:5px;margin-bottom:5px;display:flex;justify-content: center;">\n  </div>\n</div> -->\n<c-online-users-listener></c-online-users-listener>\n<forucounter>\n</forucounter>\n<!-- <yepga gaid="\'UA-118127381-1\'"> </yepga> -->\n<div viewdirectiveloader="true"></div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("preview/forushop-pages/forushop-pages.html",'<forushopproduct ng-if="siteid && currentState == \'forushop-product-preview\'"\n  shopsite="shopsite"\n  siteid="siteid">\n</forushopproduct>\n<forushopcategory ng-if="siteid && currentState == \'forushop-category-preview\'"\n  shopsite="shopsite"\n  siteid="siteid">\n</forushopcategory>\n<div class="container center"\n  ng-show="!priority && proclam">\n  <div class="illiciumItem"\n    data-placeid="78"\n    data-role="illicium"\n    id="place78"\n    style="margin-top:5px;margin-bottom:5px;">\n  </div>\n</div>\n<bannerloader>\n</bannerloader>\n<div class="container-fluid"\n  ng-if="!priority && proclam">\n  <div class="row"\n    ng-show="gotsite">\n    <div class="col-xs-12"\n      style="text-align: center;">\n      <br />\n      <span style="color: #c5c5c5;">\u041f\u0440\u0438 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0435 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u044b - &nbsp</span>\n      <a href="https://fo.ru">Fo.ru</a>\n      <br />\n      <span style="color: #c5c5c5;">Copyright \xa9 2011\u20132017</span>\n    </div>\n  </div>\n</div>\n<forucounter>\n</forucounter>\n<yepga gaid="gaid"\n  ng-if="gaid">\n</yepga>\n\n<yepmet metid="metid"\n  ng-if="metid">\n</yepmet>\n<jivochat jivoid="jivoid"\n  ng-if="jivoid">\n</jivochat>\n<zadarma ng-if="zadarmaid"\n  zadarmaid="zadarmaid">\n</zadarma>\n<torrow-widget ng-if="torrowurl"\n  torrowurl="torrowurl">\n</torrow-widget>\n<tinkoffchat ng-if="tinkoffid"\n  tinkoffid="tinkoffid">\n</tinkoffchat>\n<leadbackwidget leadbackid="leadbackid"\n  ng-if="leadbackid">\n</leadbackwidget>\n<yepcounter counter="wmcounter"\n  ng-if="wmcounter">\n</yepcounter>\n<blindmode ng-if="blindmodeenabled">\n</blindmode>\n<foruvideocall ng-if="foruvideocallenabled">\n</foruvideocall>\n<toaster-container class="c-toaster"\n  toaster-options="{\'time-out\': 7000, \'position-class\': \'toast-center\', \'close-button\': true}">\n</toaster-container>\n<yepga gaid="\'UA-118127381-1\'">\n</yepga>\n<forushopcart forusiteid="siteid">\n</forushopcart>\n<c-online-users-listener></c-online-users-listener>\n')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("preview/forushop-category/forushop-category-default/forushop-category-default.html",'<div class="forushop-category-default">\n  <div class="container"\n    ng-show="category_id">\n    <div class="row">\n      <div class="col-xs-12">\n        <a class="link-home"\n          href="/">\u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e</a>\n      </div>\n    </div>\n    <div class="category-modal-container">\n      <div class="foruproducts-store-fashion-container">\n        <div class="foruproducts-container">\n          <div class="row">\n            <div class="foru-block-fixed-loader"\n              ng-hide="!showproductloader">\n              <div class="ball-clip-rotate-multiple">\n                <div>\n                </div>\n                <div>\n                </div>\n              </div>\n            </div>\n            <div class="col-xs-12">\n              <div class="foruproducts-category-header">{{category.name}}</div>\n              <div class="foruproducts-category-description">{{category.description}}</div>\n            </div>\n            <div class="foruproducts-item col-xs-12 text-center"\n              ng-if="forushopitems.length == 0 && !showproductloader">\n              <div>\u0412 \u0434\u0430\u043d\u043d\u043e\u0439 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u043d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0434\u043b\u044f \u043f\u0440\u043e\u0434\u0430\u0436\u0438 \u0442\u043e\u0432\u0430\u0440\u043e\u0432</div>\n            </div>\n            <div class="foruproducts-item col-xs-12 col-sm-4 col-md-3 f-btn"\n              ng-if="product.publicated"\n              ng-repeat="product in forushopitems">\n              <a class="foruproducts-item-image f-btn"\n                href="{{categoryLink}}/product/{{product.id}}"\n                style="display: block;">\n                <span ng-if="product.images.length > 0">\n                  <img class="f-btn"\n                    ng-src="{{product.images[0].large_image}}" />\n                </span>\n                <span class="no-image-product"\n                  ng-if="product.images.length == 0">\n                  <span class="f-btn">\u041d\u0435\u0442 \u0444\u043e\u0442\u043e</span>\n                </span>\n                <div class="preorder"\n                  ng-if="product.amount == 0">\u041f\u0440\u0435\u0434\u0437\u0430\u043a\u0430\u0437</div>\n              </a>\n              <div class="foruproducts-item-info">\n                <div class="foruproducts-item-name f-btn">{{product.name}}</div>\n                <div class="foruproducts-item-add-to-cart f-btn">\n                  <addtocartbtn addtocart="addProductToCart(product)"\n                    product="product"\n                    type="\'icon\'"\n                    viewoptions="shopsite.viewoptions">\n                  </addtocartbtn>\n                </div>\n                <div class="clearfix">\n                </div>\n                <div class="foruproducts-item-price f-btn">\n                  <span>{{product.price}} {{currentCurrencyName}}</span>\n                  <span class="oldprice"\n                    ng-if="product.oldprice">{{product.oldprice}} {{currentCurrencyName}}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>');
}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("preview/forushop-product/forushop-product-default/forushop-product-default.html",'<div class="forushop-product-single-default">\n  <div class="container"\n    ng-show="product">\n    <div class="row">\n      <div class="col-xs-12"><a class="link-home"\n          href="/"\n          style="margin-right: 16px;">\u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e</a><a class="link-home"\n          href="/forushop/{{product.category_id}}">\u0432\u0441\u0435 \u0442\u043e\u0432\u0430\u0440\u044b</a></div>\n    </div>\n    <div class="product-modal-container">\n      <div class="row">\n        <div class="col-xs-12 col-md-7">\n          <div class="product-modal-images">\n            <div class="product-modal-images-list">\n              <div class="product-modal-images-item"\n                ng-class="{\'active\' : currentimage == image}"\n                ng-click="setCurrentImage(image)"\n                ng-repeat="image in product.images"><img class="img-responsive"\n                  src="{{image.compact_image}}" /></div>\n            </div>\n            <div class="product-modal-images-big"><img class="img-responsive"\n                src="{{currentimage.large_image}}" />\n              <div class="product-modal-dop-info">\n                <div class="product-modal-dop-info-half">\n                  <div class="product-modal-dop-info-sku"\n                    ng-show="viewOptions.sku.enable && product.sku != \'\'">\n                    <b>\u0410\u0440\u0442\u0438\u043a\u0443\u043b</b><span>{{product.sku}}</span>\n                  </div>\n                </div>\n                <div class="product-modal-dop-info-half">\n                  <!-- <div class="product-modal-dop-info-descr">!!!{{product.description}}</div> -->\n                  <div class="product-modal-dop-info-descr" ng-bind-html="trustAsHtml(product.description)"></div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="col-xs-12 col-md-5">\n          <div class="product-modal-info">\n            <div class="product-modal-info-categoryname">{{selectedcategory.name}}</div>\n            <div class="product-modal-info-name">{{product.name}}</div>\n            <div class="product-modal-info-price">{{product.price}} {{currentCurrencyName}}</div>\n            <div class="product-modal-info-aviable-colors-text"\n              ng-if="viewOptions.color.enable">\n              \u0426\u0432\u0435\u0442:\n              <span ng-if="product.colorText">{{product.colorText}}</span>\n            </div>\n            <div class="product-modal-info-aviable-colors"\n              ng-if="viewOptions.color.enable">\n              <div class="product-modal-info-aviable-colors-item"\n                ng-class="{\'product-modal-info-aviable-colors-item-selected \': product.color== item.color}"\n                ng-click="selectProductColor(product, item)"\n                ng-attr-title="{{item.title}}"\n                ng-repeat="item in product.colors track by $index"\n                ng-style="{\'background-color\': item.color}"></div>\n            </div>\n            <addtocartbtn addtocart="addProductToCart(product)"\n              product="product"\n              type="\'button\'"\n              viewoptions="viewOptions"></addtocartbtn>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <pagenotfound ng-if="showpagenotfound"></pagenotfound>\n</div>')}]),angular.module("YepCom").directive("forusoberuform",function(inputValidator){return{restrict:"E",templateUrl:"preview/forusoberuform/forusoberuform.html",scope:{wmid:"@",projectname:"@",currency:"@"},link:function(scope,element,attrs){return scope.keyPressed=function(e){var isDigit;return isDigit=inputValidator.testOnlyDigits(e.key,"0123456789"),"."===e.key&&scope.forusoberuamount.indexOf(e.key)>=0&&(e.preventDefault(),e.stopPropagation()),isDigit?void 0:(e.preventDefault(),e.stopPropagation())},scope.sendToPayment=function(amount,descr){var url,useramount,userdescr;return userdescr=descr?descr:scope.projectname,useramount=parseFloat(amount),url="https://wallet.webmoney.ru/finances?outer-action=send-funds&to="+scope.wmid+"&amount="+useramount+"&desc="+userdescr+"&currency="+scope.currency,window.location.href=url}}}}),angular.module("YepCom").directive("foruprocbanner",function(){return{restrict:"E",replace:!0,scope:{},templateUrl:"preview/foruprocbanner/foruprocbanner.html"}}),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("layouts/forunavbar/forunavbar.html",'<div class="forunavbar" elementid="elforunavbarouter" ng-class="sitecontent[&#39;elforunavbarouter&#39;][&#39;classes&#39;]" ng-style="sitecontent[&#39;elforunavbarouter&#39;][&#39;style&#39;]"></div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("editor/forunewsitembody/forunewsitembody.html",'<div>\n  <div>\n    <div class="forunewsitemouter bouncy-slide-down">\n      <div class="forunewsitem">\n        <div ng-bind-html="trustAsHtml(forunewsitem.body)"></div>\n        <div class="clearfix"></div>\n      </div>\n    </div>\n  </div>\n</div>')}]),angular.module("YepCom").directive("forunewsitembody",function(News,$sce,$state,$sanitize,Metapreview){return{restrict:"E",templateUrl:"editor/forunewsitembody/forunewsitembody.html",scope:{item:"="},link:function(scope,element,attrs){return"preview2"===$state.current.name?News.getNewsitemBody(scope.item._id.$oid).then(function(res){var description,name;scope.$emit("recalculateBlockHeight","itembody"),scope.forunewsitem=res,description="",name="",(null!=res?res.name:void 0)&&(name=null!=res?res.name:void 0),(null!=res?res.description:void 0)&&(description=null!=res?res.description.replace(/<\/?[^>]+(>|$)/g,""):void 0);var ref,ref1,ref2,ref3,ref4,ref5;return("undefined"!=typeof scope&&null!==scope&&null!=(ref=scope.$parent)&&null!=(ref1=ref.$parent)&&null!=(ref2=ref1.$parent)&&null!=(ref3=ref2.$parent)&&null!=(ref4=ref3.$parent)&&null!=(ref5=ref4.$parent)?ref5.blockid:void 0)&&scope.$emit("postLoadDraw",scope.$parent.$parent.$parent.$parent.$parent.$parent.blockid),Metapreview.setTitle(name),Metapreview.setDescription(description)}):scope.forunewsitem=scope.item,scope.trustAsHtml=function(string){var res;return res=$sanitize(string),$sce.trustAsHtml(res)}}}}),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("layouts/forunavbar/preview/forunavbar-default.html",'<nav class="forunavbar_nav" elementid="elforunavbar" ng-style="sitecontent[&#39;elforunavbar&#39;][&#39;style&#39;]"><div class="container-fluid" ng-class="sitecontent[&#39;elforunavbar&#39;][&#39;classes&#39;]"><div class="forunavbar_header"><button class="forunavbar_toggle" ng-click="showforunavbar = !showforunavbar" type="button"><span class="forunavbar_icon-bar"></span><span class="forunavbar_icon-bar"></span><span class="forunavbar_icon-bar"></span></button><a class="forunavbar_brand" elementid="elforunavbarlogo" href="#" ng-style="sitecontent[&#39;elforunavbarlogo&#39;][&#39;style&#39;]"><img elementid="elforunavbarlogoimg" ng-class="sitecontent[&#39;elforunavbarlogoimg&#39;][&#39;classes&#39;]" ng-show="sitecontent[&#39;elforunavbarlogoimg&#39;][&#39;src&#39;]" ng-src="{{sitecontent[&#39;elforunavbarlogoimg&#39;][&#39;src&#39;]}}" ng-style="sitecontent[&#39;elforunavbarlogoimg&#39;][&#39;style&#39;]" /><span elementid="elforunavbarlogotext" ng-bind-html="trustAsHtml(sitecontent[&#39;elforunavbarlogotext&#39;][&#39;text&#39;])" ng-class="sitecontent[&#39;elforunavbarlogotext&#39;][&#39;classes&#39;]" ng-style="sitecontent[&#39;elforunavbarlogotext&#39;][&#39;style&#39;]"></span></a></div><div class="forunavbar_collapse" id="forunavbar-collapse" ng-show="showforunavbar"><ul class="forunavbar_nav_right" elementid="elforunavbarul" forulist=""><li ng-class="currentpage.uuid == page.uuid ? &#39;active&#39; : &#39;&#39;" ng-repeat="page in forunavpages"><a elementid="{{&#39;elextrablockid_&#39; + page.name}}" href="#" ng-bind-html="trustAsHtml(sitecontent[&#39;elextrablockid_&#39; + page.name][&#39;text&#39;])" ng-class="{{sitecontent[&#39;elextrablockid_&#39; + page.name][&#39;classes&#39;]}}" ng-href="{{sitecontent[&#39;elextrablockid_&#39; + page.name][&#39;href&#39;]}}" ng-style="{{sitecontent[&#39;elextrablockid_&#39; + page.name][&#39;style&#39;]}}"></a></li><li ng-repeat="link in forunavlinks"><a elementid="{{&#39;elforulinkid_&#39; + link.transname}}" href="{{link.href}}" ng-bind-html="trustAsHtml(sitecontent[&#39;elforulinkid_&#39; + link.transname][&#39;text&#39;])" ng-class="{{sitecontent[&#39;elforulinkid_&#39; + link.transname][&#39;classes&#39;]}}" ng-href="{{sitecontent[&#39;elforulinkid_&#39; + link.transname][&#39;href&#39;]}}" ng-style="{{sitecontent[&#39;elforulinkid_&#39; + link.transname][&#39;style&#39;]}}"></a></li><li additionallink="" ng-class="cls" ng-repeat="elem in sitecontent[&#39;elforunavbarul&#39;][&#39;additional_links&#39;]" ng-style="stl" ulelementid="elforunavbarul"></li></ul></div></div><style parse-style="">.forunavbar_nav_right .active a, .forunavbar_nav_right .active a:hover{ background-color: {{sitecontent[\'elforunvabaractivelinks\'][\'style\'][\'background-color\']}} !important; color: {{sitecontent[\'elforunvabaractivelinks\'][\'style\'][\'color\']}} !important; } .forunavbar_nav_right a:hover{ background-color: {{sitecontent[\'elforunvabarhoverlinks\'][\'style\'][\'background-color\']}} !important; color: {{sitecontent[\'elforunvabarhoverlinks\'][\'style\'][\'color\']}} !important; }</style></nav>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("layouts/forunavbar/preview/forunavbar-logo-button.html",'<nav class="forunavbar_nav" elementid="elforunavbar" ng-style="sitecontent[&#39;elforunavbar&#39;][&#39;style&#39;]"><div class="container-fluid" ng-class="sitecontent[&#39;elforunavbar&#39;][&#39;classes&#39;]"><div class="forunavbar_header"><button class="forunavbar_toggle" ng-click="showforunavbar = !showforunavbar" type="button"><span class="forunavbar_icon-bar"></span><span class="forunavbar_icon-bar"></span><span class="forunavbar_icon-bar"></span></button><a class="forunavbar_brand" elementid="elforunavbarlogo" href="#" ng-style="sitecontent[&#39;elforunavbarlogo&#39;][&#39;style&#39;]"><img elementid="elforunavbarlogoimg" ng-class="sitecontent[&#39;elforunavbarlogoimg&#39;][&#39;classes&#39;]" ng-show="sitecontent[&#39;elforunavbarlogoimg&#39;][&#39;src&#39;]" ng-src="{{sitecontent[&#39;elforunavbarlogoimg&#39;][&#39;src&#39;]}}" ng-style="sitecontent[&#39;elforunavbarlogoimg&#39;][&#39;style&#39;]" /><span elementid="elforunavbarlogotext" ng-bind-html="trustAsHtml(sitecontent[&#39;elforunavbarlogotext&#39;][&#39;text&#39;])" ng-class="sitecontent[&#39;elforunavbarlogotext&#39;][&#39;classes&#39;]" ng-style="sitecontent[&#39;elforunavbarlogotext&#39;][&#39;style&#39;]"></span></a></div><div class="forunavbar_collapse" id="forunavbar-collapse" ng-show="showforunavbar"><a class="forunavbar_button" elementid="elforunavbarbutton" href="#" ng-bind-html="trustAsHtml(sitecontent[&#39;elforunavbarbutton&#39;][&#39;text&#39;])" ng-style="sitecontent[&#39;elforunavbarbutton&#39;][&#39;style&#39;]"></a><ul class="forunavbar_nav_right" elementid="elforunavbarul" forulist=""><li additionallink="" ng-class="cls" ng-repeat="elem in sitecontent[&#39;elforunavbarul&#39;][&#39;additional_links&#39;]" ng-style="stl" ulelementid="elforunavbarul"></li></ul></div></div><style parse-style="">.forunavbar_nav_right .active a, .forunavbar_nav_right .active a:hover{ background-color: {{sitecontent[\'elforunvabaractivelinks\'][\'style\'][\'background-color\']}} !important; color: {{sitecontent[\'elforunvabaractivelinks\'][\'style\'][\'color\']}} !important; } .forunavbar_nav_right a:hover{ background-color: {{sitecontent[\'elforunvabarhoverlinks\'][\'style\'][\'background-color\']}} !important; color: {{sitecontent[\'elforunvabarhoverlinks\'][\'style\'][\'color\']}} !important; }</style></nav>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("layouts/forunavbar/preview/forunavbar-logo-center.html",'<nav class="forunavbar_nav" elementid="elforunavbar" ng-style="sitecontent[&#39;elforunavbar&#39;][&#39;style&#39;]"><div class="container-fluid" ng-class="sitecontent[&#39;elforunavbar&#39;][&#39;classes&#39;]"><div class="deskMenu pull-left"><ul class="forunavbar_nav_right" elementid="elforunavbarul" forulist=""><li additionallink="" ng-class="cls" ng-repeat="elem in sitecontent[&#39;elforunavbarul&#39;][&#39;additional_links&#39;]" ng-show="$even" ng-style="stl" ulelementid="elforunavbarul"></li></ul></div><div class="forunavbar_header"><button class="forunavbar_toggle" ng-click="showforunavbar = !showforunavbar" type="button"><span class="forunavbar_icon-bar"></span><span class="forunavbar_icon-bar"></span><span class="forunavbar_icon-bar"></span></button><a class="forunavbar_brand" elementid="elforunavbarlogo" href="#" ng-style="sitecontent[&#39;elforunavbarlogo&#39;][&#39;style&#39;]"><img elementid="elforunavbarlogoimg" ng-class="sitecontent[&#39;elforunavbarlogoimg&#39;][&#39;classes&#39;]" ng-show="sitecontent[&#39;elforunavbarlogoimg&#39;][&#39;src&#39;]" ng-src="{{sitecontent[&#39;elforunavbarlogoimg&#39;][&#39;src&#39;]}}" ng-style="sitecontent[&#39;elforunavbarlogoimg&#39;][&#39;style&#39;]" /></a></div><div class="deskMenu pull-right"><ul class="forunavbar_nav_right" elementid="elforunavbarul" forulist=""><li additionallink="" ng-class="cls" ng-repeat="elem in sitecontent[&#39;elforunavbarul&#39;][&#39;additional_links&#39;]" ng-show="$odd" ng-style="stl" ulelementid="elforunavbarul"></li></ul></div><div class="forunavbar_collapse mobileMenu" id="forunavbar-collapse" ng-if="showforunavbar"><ul class="forunavbar_nav_right" elementid="elforunavbarul" forulist=""><li additionallink="" ng-class="cls" ng-repeat="elem in sitecontent[&#39;elforunavbarul&#39;][&#39;additional_links&#39;]" ng-style="stl" ulelementid="elforunavbarul"></li></ul></div></div><style parse-style="">.forunavbar_nav_right .active a, .forunavbar_nav_right .active a:hover{ background-color: {{sitecontent[\'elforunvabaractivelinks\'][\'style\'][\'background-color\']}} !important; color: {{sitecontent[\'elforunvabaractivelinks\'][\'style\'][\'color\']}} !important; } .forunavbar_nav_right a:hover{ background-color: {{sitecontent[\'elforunvabarhoverlinks\'][\'style\'][\'background-color\']}} !important; color: {{sitecontent[\'elforunvabarhoverlinks\'][\'style\'][\'color\']}} !important; }</style></nav>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("layouts/forunavbar/preview/forunavbar-preview.html",'<div class="forunavbar" elementid="elforunavbarouter" ng-class="sitecontent[&#39;elforunavbarouter&#39;][&#39;classes&#39;]" ng-style="sitecontent[&#39;elforunavbarouter&#39;][&#39;style&#39;]"></div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("layouts/forunavbar/preview/forunavbar-text-number-logo-center.html",'<nav class="forunavbar_nav" elementid="elforunavbar" ng-style="sitecontent[&#39;elforunavbar&#39;][&#39;style&#39;]"><div class="container-fluid" ng-class="sitecontent[&#39;elforunavbar&#39;][&#39;classes&#39;]"><div class="forunavbar_descr"><span elementid="elforunavbardescr" ng-bind-html="trustAsHtml(sitecontent[&#39;elforunavbardescr&#39;][&#39;text&#39;])" ng-class="sitecontent[&#39;elforunavbardescr&#39;][&#39;classes&#39;]" ng-style="sitecontent[&#39;elforunavbardescr&#39;][&#39;style&#39;]"></span></div><a class="forunavbar_brand" elementid="elforunavbarlogo" href="#" ng-style="sitecontent[&#39;elforunavbarlogo&#39;][&#39;style&#39;]"><img elementid="elforunavbarlogoimg" ng-class="sitecontent[&#39;elforunavbarlogoimg&#39;][&#39;classes&#39;]" ng-show="sitecontent[&#39;elforunavbarlogoimg&#39;][&#39;src&#39;]" ng-src="{{sitecontent[&#39;elforunavbarlogoimg&#39;][&#39;src&#39;]}}" ng-style="sitecontent[&#39;elforunavbarlogoimg&#39;][&#39;style&#39;]" /></a><div class="forunavbar_number"><span elementid="elforunavbarnumber" ng-bind-html="trustAsHtml(sitecontent[&#39;elforunavbarnumber&#39;][&#39;text&#39;])" ng-class="sitecontent[&#39;elforunavbarnumber&#39;][&#39;classes&#39;]" ng-style="sitecontent[&#39;elforunavbarnumber&#39;][&#39;style&#39;]"></span></div></div></nav>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("shopextrablocks/eb_breadcrumbs_1.html",'<ol class="breadcrumb"><li><a href="/">\u0413\u043b\u0430\u0432\u043d\u0430\u044f</a></li><li><a href="/category/{{currentcollection.transname}}">{{currentcollection.name}}</a></li><li ng-show="product"><span>{{product.name}}</span></li></ol>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("shopextrablocks/eb_coldescription_1.html",'<div class="col-md-12"><div class="pageZag">{{currentcollection.name}}</div><div class="pageDescr">{{currentcollection.description}}</div></div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("shopextrablocks/eb_colproducts_1.html",'<div><div class="col-sm-6 col-md-4" dir-paginate="product in currentcollection.items | itemsPerPage: paginateval" ng-show="currentcollection.items.length &gt; 0"><div class="prod-item"><div class="prod-img"><a href="/category/{{currentcollection.transname}}/product/{{product.transname}}"><span ng-repeat="img in product.images | orderBy: &#39;position&#39;"><img alt="{{img.description}}" ng-if="$index == 0" src="{{img.medium_image}}" /></span></a></div><div class="prod-zag"><a href="/category/{{currentcollection.transname}}/product/{{product.transname}}">{{product.name}}</a></div><div class="prod-price"><span class="price">{{product.price}} \u0440\u0443\u0431.</span></div></div></div><div class="col-md-12 text-center" ng-show="currentcollection.items.length &gt; 0"><dir-pagination-controls></dir-pagination-controls></div><div class="col-md-12" ng-show="currentcollection.items.length == 0">\u0412 \u0434\u0430\u043d\u043d\u043e\u0439 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0442\u043e\u0432\u0430\u0440\u043e\u0432.</div></div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("shopextrablocks/eb_colproductsmd3_2.html",'<div><div class="col-sm-6 col-md-3" dir-paginate="product in currentcollection.items | itemsPerPage: paginateval" ng-show="currentcollection.items.length &gt; 0"><div class="prod-item"><div class="prod-img"><a href="/category/{{currentcollection.transname}}/product/{{product.transname}}"><span ng-repeat="img in product.images | orderBy:&#39;position&#39;"><img alt="{{img.description}}" ng-if="$index == 0" src="{{img.medium_image}}" /></span></a></div><div class="prod-zag"><a href="/category/{{currentcollection.transname}}/product/{{product.transname}}">{{product.name}}</a></div><div class="prod-price"><span class="price">{{product.price}} \u0440\u0443\u0431.</span></div></div></div><div class="col-md-12 text-center" ng-show="currentcollection.items.length &gt; 0"><dir-pagination-controls></dir-pagination-controls></div><div class="col-md-12" ng-show="currentcollection.items.length == 0">\u0412 \u0434\u0430\u043d\u043d\u043e\u0439 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0442\u043e\u0432\u0430\u0440\u043e\u0432.</div></div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("shopextrablocks/eb_colproductsmd3_3.html",'<div><div class="col-md-3 col-sm-6 text-center" dir-paginate="product in currentcollection.items | itemsPerPage: paginateval" ng-show="currentcollection.items.length &gt; 0"><div class="product col-md-12"><img alt="{{img.description}}" class="img-responsive" ng-if="$index == 0" ng-repeat="img in product.images | orderBy:&#39;position&#39;" src="{{img.medium_image}}" /><h2 class="header">{{product.name}}</h2><p class="price">{{product.price}} \u0440\u0443\u0431.</p><a href="/category/{{currentcollection.transname}}/product/{{product.transname}}"><div class="btn">\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435</div></a></div></div><div class="col-md-12 text-center" ng-show="currentcollection.items.length &gt; 0"><dir-pagination-controls></dir-pagination-controls></div><div class="col-md-12" ng-show="currentcollection.items.length == 0">\u0412 \u0434\u0430\u043d\u043d\u043e\u0439 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0442\u043e\u0432\u0430\u0440\u043e\u0432.</div></div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("shopextrablocks/eb_colproductsmd4_1.html",'<div><div class="col-md-4 col-sm-6 text-center" dir-paginate="product in currentcollection.items | itemsPerPage: paginateval" ng-show="currentcollection.items.length &gt; 0"><div class="product col-md-12"><img alt="{{img.description}}" class="img-responsive" ng-if="$index == 0" ng-repeat="img in product.images | orderBy:&#39;position&#39;" src="{{img.medium_image}}" /><h2 class="header">{{product.name}}</h2><p class="price">{{product.price}} \u0440\u0443\u0431.</p><a href="/category/{{currentcollection.transname}}/product/{{product.transname}}"><div class="btn">\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435</div></a></div></div><div class="col-md-12 text-center" ng-show="currentcollection.items.length &gt; 0"><dir-pagination-controls></dir-pagination-controls></div><div class="col-md-12" ng-show="currentcollection.items.length == 0">\u0412 \u0434\u0430\u043d\u043d\u043e\u0439 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0442\u043e\u0432\u0430\u0440\u043e\u0432.</div></div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("shopextrablocks/eb_navigation_1.html",'<div><ul class="nav navbar-nav navbar-right"><li ng-repeat="collection in shopcollections"><a href="/category/{{collection.transname}}" ng-class="collection == currentcollection ? &#39;active&#39; : &#39;&#39;">{{collection.name}}</a></li></ul></div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("shopextrablocks/eb_navigation_2.html",'<div><div class="pageZag">\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438</div><ul class="collectionsList"><li ng-repeat="collection in shopcollections"><a href="/category/{{collection.transname}}" ng-if="collection != currentcollection">{{collection.name}}</a><span ng-if="collection == currentcollection">{{collection.name}}</span></li></ul></div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("shopextrablocks/eb_navigation_3.html",'<div class="sidebar"><div class="mini-submenu"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></div><div class="list-group"><span class="list-group-item active" href="#">\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u0442\u043e\u0432\u0430\u0440\u043e\u0432<span class="pull-right" id="slide-submenu"><i class="fa fa-angle-down"></i></span></span><div ng-repeat="collection in shopcollections"><a href="/category/{{collection.transname}}" ng-if="collection != currentcollection">{{collection.name}}</a><span ng-if="collection == currentcollection">{{collection.name}}</span></div></div></div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("shopextrablocks/eb_productpage_1.html",'<div class="text-left"><div class="col-xs-12 col-md-7"><div class="product_images"><div class="product_images_item text-center" ng-repeat="img in product.images"><img alt="{{img.description}}" class="img-responsive" src="{{img.original_url}}" /></div></div></div><div class="col-xs-12 col-md-5" settings=""><div class="pageZag">{{product.name}}</div><div class="product-info"><div class="sku">{{product.sku}}</div><div class="price">{{product.price}}</div><div class="descritpion"><b>\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435</b><br />{{product.description}}<br /><br /></div><div class="buy_area"><input class="quantity" min="1" ng-model="prodquantity" type="number" /><a class="btn_buy" href="#" ng-click="addToCart(product, prodquantity)">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443</a></div></div></div></div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("shopextrablocks/eb_shoplogo_1.html",'<a class="navbar-brand" href="/"><img class="logo" ng-src="{{site.navbar_logo}}" /><span class="name" data-foru-company-name="">{{site.navbar_text}}</span></a>')}]),function(){angular.module("YepCom").service("ExternalServices",function(Restangular,$http){var CreateJivosite,CreateLeadbackWidget,CreateTinkoffChat,chatbro,checkYandexCodes,createFunding,createTorrow,createZadarma,downloadUnsplashImage,externalserices,fundingapi,generateSiteId,getChatBroId,getFormDesignerRuLink,getFundingList,getPexelsImages,getYaPrCode,giphySearch,jivosite,leadbackwidget,removeJivosite,removeLeadbackWidget,removeTinkoffchat,searchFlickrImages,searchUnsplashIMages,sendModerate,showFunding,tinkoffchat,torrow,updateFundingWidget,zadarma;return jivosite=Restangular.all("externalservices/jivosite"),zadarma=Restangular.all("externalservices/zadarma"),torrow=Restangular.all("externalservices/torrow"),externalserices=Restangular.all("externalservices"),fundingapi=Restangular.all("fundingapi"),tinkoffchat=Restangular.all("externalservices/tinkoffchat"),leadbackwidget=Restangular.all("externalservices/leadbackwidget"),chatbro=Restangular.all("externalservices/chatbro"),CreateLeadbackWidget=function(websiteid,leadbackid){return leadbackwidget.post({website_id:websiteid,leadbackid:leadbackid}).then(function(result){return result})},removeLeadbackWidget=function(websiteid){return leadbackwidget.customDELETE("",{website_id:websiteid}).then(function(result){return result})},CreateTinkoffChat=function(websiteid,tinkoffcId){return tinkoffchat.post({website_id:websiteid,tinkoffid:tinkoffcId}).then(function(result){return result})},removeTinkoffchat=function(websiteid){return tinkoffchat.customDELETE("",{website_id:websiteid}).then(function(result){return result})},CreateJivosite=function(websiteid,jivositelogin,jivositepassword){return jivosite.post({website_id:websiteid,jivositelogin:jivositelogin,jivositepassword:jivositepassword}).then(function(result){return result})},removeJivosite=function(websiteid){return jivosite.customDELETE("",{website_id:websiteid}).then(function(result){return result})},searchUnsplashIMages=function(query,page){return null==page&&(page=1),externalserices.customGET("unsplash",{query:query,page:page}).then(function(result){return result})},downloadUnsplashImage=function(downloadUrl){var client_id;return client_id="c4548936a6fa98efc182a50be72092ce8372e011010e12f8a2cdbddd2a04b131",$http({method:"GET",url:downloadUrl+("/?client_id="+client_id)}).then(function(res){var ref;return null!=res&&null!=(ref=res.data)?ref.url:void 0})},createFunding=function(website_id,name,description){return fundingapi.post({website_id:website_id,name:name,description:description}).then(function(res){return res})},showFunding=function(website_id,project_id){return Restangular.one("fundingapi",website_id).customGET("",{project_id:project_id}).then(function(res){return res})},updateFundingWidget=function(website_id,project_id,name,description){return Restangular.one("fundingapi/"+website_id).customPUT({name:name,description:description,project_id:project_id}).then(function(res){return res})},getFundingList=function(){return fundingapi.getList().then(function(res){return res})},sendModerate=function(siteid,project_id){return Restangular.one("fundingapi/sendmoderate").customPOST({id:siteid,project_id:project_id}).then(function(res){return res})},getFormDesignerRuLink=function(){return externalserices.customGET("formdesigner",{}).then(function(result){return result})},getChatBroId=function(){return chatbro.customGET("",{}).then(function(result){return result})},createZadarma=function(websiteid,zadarmaid){return zadarma.post({website_id:websiteid,zadarmaid:zadarmaid}).then(function(result){return result})},createTorrow=function(websiteid,torrowurl){return torrow.post({website_id:websiteid,torrowurl:torrowurl}).then(function(result){return result})},generateSiteId=function(id){return Restangular.one("websites/getorgenerateintid/"+id).customPOST({}).then(function(res){return res})},getYaPrCode=function(){return Restangular.one("api/v1/userinfos/getprcode").customPUT({}).then(function(res){return res})},checkYandexCodes=function(){return Restangular.one("api/v1/userinfos/yandexcodes").customGET("").then(function(res){return res})},giphySearch=function(query,offset,limit){return null==limit&&(limit=20),Restangular.one("externalservices/giphysearch").customGET("",{query:query,offset:offset,limit:limit}).then(function(res){return res})},getPexelsImages=function(query,page){return Restangular.one("externalservices/pixels").customPOST({query:query,page:page},"").then(function(res){return res})},searchFlickrImages=function(query){return Restangular.one("externalservices/flickr").customPOST({query:query},"").then(function(res){return res})},{CreateJivosite:CreateJivosite,removeJivosite:removeJivosite,searchUnsplashIMages:searchUnsplashIMages,downloadUnsplashImage:downloadUnsplashImage,createFunding:createFunding,showFunding:showFunding,updateFundingWidget:updateFundingWidget,getFundingList:getFundingList,sendModerate:sendModerate,CreateTinkoffChat:CreateTinkoffChat,removeTinkoffchat:removeTinkoffchat,CreateLeadbackWidget:CreateLeadbackWidget,removeLeadbackWidget:removeLeadbackWidget,getFormDesignerRuLink:getFormDesignerRuLink,getChatBroId:getChatBroId,createZadarma:createZadarma,generateSiteId:generateSiteId,getYaPrCode:getYaPrCode,checkYandexCodes:checkYandexCodes,giphySearch:giphySearch,createTorrow:createTorrow,getPexelsImages:getPexelsImages,searchFlickrImages:searchFlickrImages}})}.call(this),function(){angular.module("YepCom").service("Advertisement",function(Restangular){var advertisements,createAdvertisement,getAdvOnModeration,getAdvShows,getAdvTransitions,getAdvertisements,getRandomAdvertisement,setModerationStatusActive,setModerationStatusDenied,startAdvertisement,stopAdvertisement,updateAdvertisement;return advertisements=Restangular.all("api/v1/eastereggs"),createAdvertisement=function(website_id,text1,text2,name){return advertisements.post({website_id:website_id,text1:text1,text2:text2,name:name}).then(function(result){return result})},getAdvertisements=function(website_id){return advertisements.customGET("",{website_id:website_id}).then(function(result){return result})},getRandomAdvertisement=function(host){return Restangular.one("api/v1/eastereggs/getrandomadv").get({host:host}).then(function(result){return result})},stopAdvertisement=function(id){return Restangular.one("api/v1/eastereggs/stop").customPOST({},"",{id:id}).then(function(result){return result})},startAdvertisement=function(id){return Restangular.one("api/v1/eastereggs/launch").customPOST({},"",{id:id}).then(function(result){return result})},updateAdvertisement=function(id,text1,text2,name){return Restangular.one("api/v1/eastereggs/"+id).customPUT({text1:text1,text2:text2,name:name}).then(function(result){return result})},getAdvOnModeration=function(){return advertisements.customGET("indexadmin").then(function(result){return result})},setModerationStatusActive=function(id){return Restangular.one("api/v1/eastereggs/activate").customPOST({},"",{id:id}).then(function(result){return result})},setModerationStatusDenied=function(id){return Restangular.one("api/v1/eastereggs/deny").customPOST({},"",{id:id}).then(function(result){return result})},getAdvShows=function(id,date_begin,date_end){return Restangular.one("api/v1/eastereggs/getshows").get({id:id,date_begin:date_begin,date_end:date_end}).then(function(result){return result})},getAdvTransitions=function(id,date_begin,date_end){return Restangular.one("api/v1/eastereggs/gettransitions").get({id:id,date_begin:date_begin,date_end:date_end}).then(function(result){return result})},{createAdvertisement:createAdvertisement,getAdvertisements:getAdvertisements,getRandomAdvertisement:getRandomAdvertisement,stopAdvertisement:stopAdvertisement,
startAdvertisement:startAdvertisement,updateAdvertisement:updateAdvertisement,getAdvOnModeration:getAdvOnModeration,setModerationStatusActive:setModerationStatusActive,setModerationStatusDenied:setModerationStatusDenied,getAdvShows:getAdvShows,getAdvTransitions:getAdvTransitions}})}.call(this),function(){angular.module("YepCom").service("Article",function(Restangular){var articles,attachRubric,createArticle,createRubric,deleteArticle,deleteRubric,detachRubric,getAllRubricsPreview,getArticleById,getArticles,getArticlesByRubric,getArticlesByRubricEditor,getArticlesPreview,getRubrics,getSingleArticlePreview,rubrics,updateArticle,updateArticleTransnameName,updateRubric;return articles=Restangular.all("api/v1/articles"),rubrics=Restangular.all("api/v1/rubrics"),getArticles=function(websiteid){return articles.customGET("",{websiteid:websiteid}).then(function(res){return res})},getArticleById=function(websiteid,id){return Restangular.one("api/v1/articles/"+id).customGET("",{websiteid:websiteid,id:id}).then(function(res){return res})},createArticle=function(websiteid,name,body){return articles.post({websiteid:websiteid,name:name,body:body,"public":!1}).then(function(res){return res})},updateArticle=function(websiteid,articleid,name,body,is_public){return Restangular.one("api/v1/articles/"+articleid).customPUT({websiteid:websiteid,id:articleid,name:name,body:body,"public":is_public}).then(function(res){return res})},deleteArticle=function(websiteid,articleid){return Restangular.all("api/v1/articles/"+articleid).customDELETE("",{websiteid:websiteid}).then(function(res){return res})},getArticlesPreview=function(){return articles.customGET("showall").then(function(res){return res})},getSingleArticlePreview=function(transname){return articles.customGET("showsingle",{transname:transname}).then(function(res){return res})},getRubrics=function(wbsid){return rubrics.getList({website_id:wbsid}).then(function(res){return res})},createRubric=function(website_id,name){return rubrics.post({website_id:website_id,name:name}).then(function(res){return res})},deleteRubric=function(id){return Restangular.all("api/v1/rubrics/"+id).customDELETE("",{}).then(function(res){return res})},attachRubric=function(website_id,id,article_id){return Restangular.one("api/v1/rubrics/articles/attach").customPOST({},"",{website_id:website_id,id:id,article_id:article_id}).then(function(res){return res})},detachRubric=function(website_id,id,article_id){return Restangular.one("api/v1/rubrics/articles/detach").customPOST({},"",{website_id:website_id,id:id,article_id:article_id}).then(function(res){return res})},updateRubric=function(website_id,id,rubric_name){return Restangular.one("api/v1/rubrics/"+id).customPUT({website_id:website_id,id:id,rubric_name:rubric_name}).then(function(res){return res})},updateArticleTransnameName=function(websiteid,articleid,transname){return Restangular.one("api/v1/articles/updatetransname").customPUT({websiteid:websiteid,id:articleid,transname:transname}).then(function(res){return res})},getArticlesByRubric=function(name){return rubrics.customGET("articlesbyrubric",{name:name}).then(function(res){return res})},getArticlesByRubricEditor=function(id){return rubrics.customGET(""+id,{}).then(function(res){return res})},getAllRubricsPreview=function(){return rubrics.customGET("allrubrics",{}).then(function(res){return res})},{getArticles:getArticles,createArticle:createArticle,updateArticle:updateArticle,deleteArticle:deleteArticle,getArticlesPreview:getArticlesPreview,getSingleArticlePreview:getSingleArticlePreview,getRubrics:getRubrics,createRubric:createRubric,deleteRubric:deleteRubric,attachRubric:attachRubric,getArticleById:getArticleById,detachRubric:detachRubric,updateRubric:updateRubric,updateArticleTransnameName:updateArticleTransnameName,getArticlesByRubric:getArticlesByRubric,getArticlesByRubricEditor:getArticlesByRubricEditor,getAllRubricsPreview:getAllRubricsPreview}})}.call(this),function(){angular.module("YepCom").service("BlogService",function(Restangular){var addPostToFavourites,blogsubscriptions,cancelBlogSubscription,checkBlogSubscription,favourites,getBlogFavourites,getCommentsCount,getFavouritesCount,getMyCommentsInBlog,removePostFromFavourites,subscribeToBlog;return blogsubscriptions=Restangular.one("/api/v1/blogsubscriptions"),favourites=Restangular.one("/api/v1/favourites"),subscribeToBlog=function(){return blogsubscriptions.customPOST({},"",{}).then(function(res){return res})},checkBlogSubscription=function(){return Restangular.one("/api/v1/blogsubscriptions/first").customGET("",{}).then(function(res){return res})},cancelBlogSubscription=function(subscription_id){return Restangular.all("/api/v1/blogsubscriptions/"+subscription_id).customDELETE("",{}).then(function(res){return res})},getBlogFavourites=function(){return Restangular.one("/api/v1/favourites").customGET("",{}).then(function(res){return res})},addPostToFavourites=function(post_id){return favourites.customPOST({id:post_id}).then(function(res){return res})},removePostFromFavourites=function(post_id){return Restangular.all("/api/v1/favourites/"+post_id).customDELETE("",{}).then(function(res){return res})},getCommentsCount=function(){return Restangular.one("/api/v1/favourites/countcomments").customGET("",{}).then(function(res){return res})},getFavouritesCount=function(){return Restangular.one("/api/v1/favourites/countfavourites").customGET("",{}).then(function(res){return res})},getMyCommentsInBlog=function(){return Restangular.one("/api/v1/comments").customGET("",{}).then(function(res){return res})},{subscribeToBlog:subscribeToBlog,checkBlogSubscription:checkBlogSubscription,cancelBlogSubscription:cancelBlogSubscription,addPostToFavourites:addPostToFavourites,getBlogFavourites:getBlogFavourites,removePostFromFavourites:removePostFromFavourites,getCommentsCount:getCommentsCount,getFavouritesCount:getFavouritesCount,getMyCommentsInBlog:getMyCommentsInBlog}})}.call(this),function(){angular.module("YepCom").service("BroadcastService",function(Restangular){var addEvent,get,getFromInsideIframe,getInsideIframe,getMsg,getMsgObjBehavior,getSignal,getSubscribeSocketEvents,getdUnreadMsg,init,listSub,message_receive,putMsg,putMsgObjBehavior,sendInterTabs,sendSignal,sendToIframe,sendUnreadMsg,setSubscribeSocketEvents,subscribedSocket,unreadMsg;return listSub=[],subscribedSocket=!1,unreadMsg=new rxjs.BehaviorSubject(0),setSubscribeSocketEvents=function(){return subscribedSocket=!0},getSubscribeSocketEvents=function(){return subscribedSocket},addEvent=function(obj,type,fn){obj.attachEvent?(obj["e"+type+fn]=fn,obj[type+fn]=function(){obj["e"+type+fn](window.event)},obj.attachEvent("on"+type,obj[type+fn])):obj.addEventListener(type,fn,!1)},sendInterTabs=function(channel,message){return localStorage.setItem(channel,JSON.stringify({timestamp:Date.now(),data:message}))},get=function(channel){return listSub[channel]||(listSub[channel]=new rxjs.Subject),listSub[channel]},message_receive=function(ev){var i,item,keys,len,results;for(keys=Object.keys(listSub),results=[],i=0,len=keys.length;len>i;i++)item=keys[i],ev.key===item?results.push(listSub[item].next(JSON.parse(ev.newValue))):results.push(void 0);return results},putMsg=function(channel,message){return window.broadcastServiceArr[channel]||(window.broadcastServiceArr[channel]=new rxjs.Subject),window.broadcastServiceArr[channel].next(message)},getMsg=function(channel,message){return window.broadcastServiceArr[channel]||(window.broadcastServiceArr[channel]=new rxjs.Subject),window.broadcastServiceArr[channel]},sendSignal=function(channel,message){var event,iframe,iframeDoc;return putMsg(channel,message),window.BroadcastServiceSendToIframeData={channel:channel,message:message},iframe=document.getElementById("mainEditorIframe"),iframe&&("function"==typeof Event?event=new Event("BroadcastServiceSendToIframeDataEvent"):(event=document.createEvent("Event"),event.initEvent("BroadcastServiceSendToIframeDataEvent",!0,!0)),iframeDoc=iframe.contentDocument||iframe.contentWindow.document,iframeDoc.dispatchEvent(event)),event=new CustomEvent("signalFromIframe",{detail:{channel:channel,message:message}}),window.parent.document.dispatchEvent(event)},getSignal=function(channel,message){return void 0},putMsgObjBehavior=function(channel,message){return window.broadcastServiceArr[channel]||(window.broadcastServiceArr[channel]=new rxjs.BehaviorSubject({})),window.broadcastServiceArr[channel].next(message)},getMsgObjBehavior=function(channel,message){return window.broadcastServiceArr[channel]||(window.broadcastServiceArr[channel]=new rxjs.BehaviorSubject({})),window.broadcastServiceArr[channel]},sendToIframe=function(channel,message){var data,event,iframe,iframeDoc;return data={channel:channel,message:message},window.BroadcastServiceSendToIframeData=data,iframe=document.getElementById("mainEditorIframe"),iframe&&("function"==typeof Event?event=new Event("BroadcastServiceSendToIframeDataEvent"):(event=document.createEvent("Event"),event.initEvent("BroadcastServiceSendToIframeDataEvent",!0,!0)),iframeDoc=iframe.contentDocument||iframe.contentWindow.document,iframeDoc.dispatchEvent(event)),"function"==typeof Event?event=new Event("BroadcastServiceSendToIframeDataEvent"):(event=document.createEvent("Event"),event.initEvent("BroadcastServiceSendToIframeDataEvent",!0,!0)),document.dispatchEvent(event)},getInsideIframe=function(){return addEvent(window.document,"BroadcastServiceSendToIframeDataEvent",function(){var data;return parent.window.BroadcastServiceSendToIframeData?(data=parent.window.BroadcastServiceSendToIframeData,putMsg(data.channel,data.message)):void 0})},getFromInsideIframe=function(){return window.document.addEventListener("signalFromIframe",function(e){e.detail&&e.detail.channel&&e.detail.hasOwnProperty("message")&&putMsg(e.detail.channel,e.detail.message)},!1)},init=function(){return window.addEventListener("storage",message_receive),window.broadcastServiceArr||(window.broadcastServiceArr=[]),getInsideIframe(),getFromInsideIframe()},sendUnreadMsg=function(_this){return function(val){return unreadMsg.next(val)}}(this),getdUnreadMsg=function(){return unreadMsg},{sendInterTabs:sendInterTabs,get:get,init:init,sendUnreadMsg:sendUnreadMsg,getdUnreadMsg:getdUnreadMsg,putMsg:putMsg,getMsg:getMsg,getMsgObjBehavior:getMsgObjBehavior,putMsgObjBehavior:putMsgObjBehavior,getInsideIframe:getInsideIframe,sendToIframe:sendToIframe,sendSignal:sendSignal,getSignal:getSignal,setSubscribeSocketEvents:setSubscribeSocketEvents,getSubscribeSocketEvents:getSubscribeSocketEvents}})}.call(this),function(){angular.module("YepCom").service("BrowserDetector",function(deviceDetector){var isOldSafari;return isOldSafari=function(){var safariFix,tem,ua,version;return safariFix=!1,deviceDetector.browser.indexOf("safari")>-1&&(safariFix=!0,ua=navigator.userAgent,tem=ua.match(/version\/(\d+)/i),null!==tem&&tem.length>1&&(version=parseInt(tem[1]),version>12&&(safariFix=!1))),safariFix},{isOldSafari:isOldSafari}})}.call(this),function(){angular.module("YepCom").service("Digiseller",function(Restangular){var createOrder,getDigishops,getProductInfo,getProducts,getTicket,getUserTicket;return getTicket=function(siteid){return Restangular.one("digimanager").customGET("digiredirect/"+siteid,{}).then(function(result){return result})},getDigishops=function(siteid){return Restangular.one("digimanager").customGET("digishops/"+siteid,{}).then(function(result){return result})},getUserTicket=function(sellerid){return Restangular.one("digimanager").customGET("digitiecket/"+sellerid,{}).then(function(result){return result})},getProducts=function(sellerid,page){return Restangular.one("digiseller").customGET("",{sellerid:sellerid}).then(function(result){return result})},getProductInfo=function(sellerid,productid){return Restangular.one("/api/v1/digiseller/getproductinfo").customGET("",{sellerid:sellerid,productid:productid}).then(function(result){return result})},createOrder=function(email,products){return Restangular.all("digiseller").post({products:products,email:email}).then(function(res){return res})},{getTicket:getTicket,getDigishops:getDigishops,getUserTicket:getUserTicket,getProducts:getProducts,getProductInfo:getProductInfo,createOrder:createOrder}})}.call(this),function(){angular.module("YepCom").service("DomainManagerService",function(Restangular){var deleteUserProfile,geProfilesList,getUserProfileInfo,registerDomain,saveUserProfile,translitUserName;return geProfilesList=function(){return Restangular.one("/api/v1/domainmanagerinteract/").getList().then(function(result){return result})},saveUserProfile=function(domain_id,profile_name,profileinfo){return Restangular.one("api/v1/domainmanagerinteract").customPOST({id:domain_id,name:profile_name,profileinfo:profileinfo},"").then(function(res){return res})},translitUserName=function(name){return Restangular.one("/api/v1/domainmanagerinteract/").customGET("translitname",{data:name}).then(function(result){return result})},registerDomain=function(domainorder_id,profileid){return Restangular.one("api/v1/domainmanagerinteract/registerdomain").customPOST({domainorder_id:domainorder_id,profileid:profileid},"").then(function(res){return res})},deleteUserProfile=function(id){return Restangular.one("api/v1/domainmanagerinteract").customDELETE(id).then(function(result){return result})},getUserProfileInfo=function(id){return Restangular.one("/api/v1/domainmanagerinteract/"+id).customGET("",{}).then(function(result){return result})},{geProfilesList:geProfilesList,saveUserProfile:saveUserProfile,translitUserName:translitUserName,registerDomain:registerDomain,deleteUserProfile:deleteUserProfile,getUserProfileInfo:getUserProfileInfo}})}.call(this),function(){angular.module("YepCom").service("DynColumn",function(ngDialog,$timeout,RandomString,$compile){var cloneColWidget,copyCol,drawFakeCol,drawSignificantCols,getSignificantCols,removeCol,removeSignificantCols,summMargins;return copyCol=function(col,sitecontent){return ngDialog.open({template:"/assets/templates-public/editor/loading-transparent-modal/loading-transparent-modal.html?update=0",className:"t-modal t-modal--loading",showClose:!1,closeByEscape:!1,closeByDocument:!1}),$timeout(function(){var accordionkeys,copiedAccordion,el,elementid,i,j,k,key,keys,l,len,len1,len2,newAccordionElid,newelementid,newkey,oldAccordionElid,ref,str,widgets;if(str=JSON.stringify(col),elementid=col.elementid,newelementid="el"+RandomString.generateRandomString(32).toLowerCase(),keys=Object.keys(sitecontent),accordionkeys=[],copiedAccordion=[],col.accordionitems.length>0)for(i=0;i<col.accordionitems.length;){for(oldAccordionElid=col.accordionitems[i],newAccordionElid="el"+RandomString.generateRandomString(32).toLowerCase(),copiedAccordion.push(newAccordionElid),j=0,len=keys.length;len>j;j++)if(key=keys[j],key.indexOf(oldAccordionElid)>-1){if(newkey=key.replace(oldAccordionElid,newAccordionElid),sitecontent[newkey]=_.cloneDeep(sitecontent[key]),sitecontent[newkey].additional_widgets){for(widgets=[],ref=sitecontent[newkey].additional_widgets,k=0,len1=ref.length;len1>k;k++)el=ref[k],widgets.push(el.elementid);widgets.length>0&&cloneColWidget(key,newkey,widgets,sitecontent,sitecontent)}accordionkeys.push(newkey)}i++}for(l=0,len2=keys.length;len2>l;l++)key=keys[l],sitecontent[key]&&sitecontent[key].cols&&sitecontent[key].cols.push(newelementid),key.indexOf(elementid)>-1&&-1===accordionkeys.indexOf(key)&&(newkey=key.replace(elementid,newelementid),sitecontent[newkey]=_.cloneDeep(sitecontent[key]),sitecontent[newkey].accordion&&(sitecontent[newkey].accordion=copiedAccordion));return col.widgets.length>0&&cloneColWidget(col.elementid,newelementid,col.widgets,sitecontent,sitecontent),$timeout(function(){return $timeout(function(){return ngDialog.closeAll()},0)},0)},10)},cloneColWidget=function(elementid,newElId,widgets,data,sitecontent){var e,el,j,k,l,len,len1,len2,newContainerId,newId,oldContainerId,oldElmId,ref,widgetContainerList,widgetItem;try{if(widgetContainerList=[],widgets.length>0)for(j=0,len=widgets.length;len>j;j++)el=widgets[j],data[el]&&data[el]&&data[el].containerid&&widgetContainerList.indexOf(data[el].containerid)<0&&widgetContainerList.push(data[el].containerid);for(k=0,len1=widgetContainerList.length;len1>k;k++)if(oldContainerId=widgetContainerList[k],newContainerId=oldContainerId.replace(elementid,newElId),sitecontent[newContainerId]=angular.copy(data[oldContainerId]),sitecontent[newContainerId]&&sitecontent[newContainerId].additional_widgets)for(ref=sitecontent[newContainerId].additional_widgets,l=0,len2=ref.length;len2>l;l++)widgetItem=ref[l],oldElmId=widgetItem.elementid,newId="el"+RandomString.generateRandomString(32).toLowerCase(),widgetItem.containerid=newContainerId,widgetItem.elementid=newId,widgetItem.iconelid=newId+"_icon",widgetItem.imageelid=newId+"_image",widgetItem.linkelid=newId+"_link",widgetItem.priceelid=newId+"_price",data[oldElmId]&&data[oldElmId].containerid===oldContainerId&&(sitecontent[newId]=angular.copy(data[oldElmId]),sitecontent[newId].containerid=newContainerId),data[oldElmId+"_icon"]&&data[oldElmId].containerid===oldContainerId&&(sitecontent[newId+"_icon"]=angular.copy(data[oldElmId+"_icon"]),sitecontent[newId+"_icon"].containerid=newContainerId),data[oldElmId+"_image"]&&data[oldElmId].containerid===oldContainerId&&(sitecontent[newId+"_image"]=angular.copy(data[oldElmId+"_image"]),sitecontent[newId+"_image"].containerid=newContainerId),data[oldElmId+"_link"]&&data[oldElmId].containerid===oldContainerId&&(sitecontent[newId+"_link"]=angular.copy(data[oldElmId+"_link"]),sitecontent[newId+"_link"].containerid=newContainerId),data[oldElmId+"_price"]&&data[oldElmId].containerid===oldContainerId&&(sitecontent[newId+"_price"]=angular.copy(data[oldElmId+"_price"]),sitecontent[newId+"_price"].containerid=newContainerId)}catch(error){e=error}return $timeout(function(){return ngDialog.closeAll()},100)},removeCol=function(col,sitecontent){var classes,index,j,key,keys,len,results;for(keys=Object.keys(sitecontent),results=[],j=0,len=keys.length;len>j;j++)key=keys[j],sitecontent[key]&&sitecontent[key].cols?(index=sitecontent[key].cols.indexOf(col.elementid),index>-1?(sitecontent[col.elementid]||(sitecontent[col.elementid]={}),sitecontent[col.elementid].style||(sitecontent[col.elementid].style={}),sitecontent[col.elementid].style.display="none",sitecontent[key].cols.splice(index,1),classes=sitecontent[col.elementid].classes.split(" "),classes.indexOf("col-item")<0?(classes.push("col-item"),results.push(sitecontent[col.elementid].classes=classes.join(" "))):results.push(void 0)):results.push(void 0)):results.push(void 0);return results},getSignificantCols=function(block,arr){return $(block).find(".forudyncolumn-item").each(function(){var classList,className,elementid;return className=$(this)[0].className,"object"!=typeof className&&(classList=className.split(" "),classList.indexOf("f-btn")<0&&classList.indexOf("sh-widget-trading")<0&&classList.indexOf("no-significate")<0&&classList.indexOf("ignore-content")<0&&classList.indexOf("ewm-widget-comments")<0&&"none"!==$(this)[0].style.display&&"hidden"!==$(this).css("visibility")&&(elementid=$(this).attr("elementid")))?arr.push({element:this,order:0,elementid:elementid,selected:!0,zIndex:0}):void 0})},summMargins=function(elem,base){var left,top;return top=0,left=0,{top:top,left:left}},drawFakeCol=function(block,elm,scope){var blockRect,elemRect,elementId,fakeElement,margins,pos,resizeable,str;return blockRect=$(block)[0].getBoundingClientRect(),elementId=$(elm).attr("elementid"),void 0!==elementId?(elemRect=elm.getBoundingClientRect(),margins=summMargins(elm,block),resizeable="resizeable-element","IMG"===$(elm)[0].nodeName&&(resizeable="resizeable-image"),pos={top:elemRect.top-blockRect.top+margins.top,left:elemRect.left-blockRect.left+margins.left,width:elemRect.width,height:elemRect.height,"z-index":99999},str="<div class='editor-fake-element-props fakecolframe'  data-fake-element-props-id='"+elementId+"'>",str+='<div class="editor-fake-element-btn-place inside-dyncolumn-btns">',str+="<div class='align-element-left f-btn' title='\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442'  ng-click=\"cloneDynCol($event,'"+elementId+"')\" ><i class='fa fa-clone f-btn' aria-hidden='true' style='font-size: 16px;'></i></div>",str+="<div class='delete-element f-btn' title='\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442'  ng-click=\"deleteDynCol($event,'"+elementId+"')\"><i class='fa fa-trash-o f-btn' aria-hidden='true' style='font-size: 16px;'></i></div>",str+="</div>",str+="</div>",fakeElement=$(str).css(pos),$(block).prepend($compile(fakeElement)(scope)),$(elm).addClass("drag-drop-mode-element")):void 0},drawSignificantCols=function(yeid,scope){var block,drawBlock,item,j,len,results,significantCols;if(block=$("[yelemid='"+yeid+"']"),significantCols=[],getSignificantCols(block,significantCols),significantCols.length>0){for(drawBlock=$(block).find(".drag-drop-wrap"),0===drawBlock.length&&(drawBlock=document.createElement("DIV"),drawBlock.classList.add("drag-drop-wrap"),$(block).prepend(drawBlock)),results=[],j=0,len=significantCols.length;len>j;j++)item=significantCols[j],results.push(drawFakeCol(drawBlock,item.element,scope));return results}},removeSignificantCols=function(yeid){return $("[yelemid='"+yeid+"']").find(".fakecolframe").remove()},{copyCol:copyCol,cloneColWidget:cloneColWidget,removeCol:removeCol,getSignificantCols:getSignificantCols,drawSignificantCols:drawSignificantCols,removeSignificantCols:removeSignificantCols}})}.call(this),function(){angular.module("YepCom").service("elementPreparer",function(){var checkTiny,findParentsWithFixedPosition,findTinyParentsWithId,getObject,getelementParentYelemId,prepare,setTiny;return setTiny=function(obj){return void 0===obj.elementid?!0:!1},checkTiny=function(obj){var tiny;return tiny=!1,obj.element&&obj.element.attributes&&obj.element.attributes["ui-tinymce"]&&(tiny=!0),tiny},findTinyParentsWithId=function(tar,propValue){var parentsid;return propValue?($(tar).parents("[ui-tinymce]")[0]&&(parentsid=$(tar).parents("[ui-tinymce]")[0].attributes.elementid.nodeValue),parentsid):void 0},findParentsWithFixedPosition=function(element){var fixedp,position_fixed;return position_fixed=!1,"fixed"===$(element).css("position")?position_fixed=!0:(fixedp=$(element).parents().filter(function(){return"fixed"===$(this).css("position")}),fixedp.length>0&&(position_fixed=!0),position_fixed)},getelementParentYelemId=function(element){if(element.tagName){if("yelem"===element.tagName.toLowerCase())return element.attributes.yelemid.value;if(element.parentElement)return"yelem"===element.parentElement.tagName.toLowerCase()?element.parentElement.attributes.yelemid.value:getelementParentYelemId(element.parentElement)}},getObject=function(target,foundedObject){return target?(foundedObject.tag=target.tagName.toLowerCase(),foundedObject.element=target,foundedObject.elementid=$(target).attr("elementid"),foundedObject.tiny=setTiny(foundedObject),foundedObject.elementid_tiny=findTinyParentsWithId(target,foundedObject.tiny),foundedObject.yelemid=getelementParentYelemId(target),foundedObject.has_position_fixed=findParentsWithFixedPosition(target),foundedObject.has_tiny_attr=checkTiny(foundedObject),"YELEM"===$(target).parent()[0].tagName?foundedObject.firstchild=!0:foundedObject.firstchild=!1):void 0},prepare=function(element){var clickedObject;return clickedObject={},getObject(element,clickedObject),clickedObject},{prepare:prepare}})}.call(this),function(){angular.module("YepCom").service("ExtraBlock",function(Restangular){var extrablocks,getExtraBlocks,getExtrablock,getExtrablockById,getExtrablockTemplate,getExtrablocksByCategoryAndTemplate,getExtrablocksPlainIndex,updateMetadata;return extrablocks=Restangular.all("extrablocks"),getExtraBlocks=function(blockType){return extrablocks.getList(blockType).then(function(result){return result})},getExtrablock=function(blockid){return extrablocks.get(blockid).then(function(result){return result})},updateMetadata=function(blockid,data){return extrablocks.customPUT(data,blockid+"/updatemetadata").then(function(res){return res})},getExtrablockTemplate=function(blockid,templatename){return extrablocks.customGET("getblockhtml",{extrablock_id:blockid,templatename:templatename}).then(function(result){return result})},getExtrablocksByCategoryAndTemplate=function(caterory){return extrablocks.customGET("blockbycategorytemplate",{category:caterory}).then(function(result){return result})},getExtrablocksPlainIndex=function(){return extrablocks.customGET("plainindex",{}).then(function(result){return result})},getExtrablockById=function(id){return Restangular.all("/api/v1/extrablocks/getbyid/").get(id).then(function(res){return res})},{getExtraBlocks:getExtraBlocks,getExtrablock:getExtrablock,updateMetadata:updateMetadata,getExtrablockTemplate:getExtrablockTemplate,getExtrablocksByCategoryAndTemplate:getExtrablocksByCategoryAndTemplate,getExtrablocksPlainIndex:getExtrablocksPlainIndex,getExtrablockById:getExtrablockById}})}.call(this),function(){angular.module("YepCom").service("FigmaService",function(Restangular){var createFigmaImportBlock,createFigmaImportPage,figmaimports,getFigmaImports,getFigmaTaskStatus,hideFigmaImport,privatecreate,runFigmaImportTask;return figmaimports=Restangular.all("api/v1/figmaimports"),privatecreate=Restangular.all("private/createblock"),runFigmaImportTask=function(website_id,page_id,block_id,url){return figmaimports.customPOST({website_id:website_id,page_id:page_id,block_id:block_id,url:url},"createjob").then(function(result){return result})},getFigmaTaskStatus=function(jobid){return figmaimports.customGET("getjobstatus",{jobid:jobid}).then(function(result){return result})},createFigmaImportPage=function(website_id,page_id){return figmaimports.customPOST({website_id:website_id,page_id:page_id},"").then(function(result){return result})},createFigmaImportBlock=function(website_id,page_id,content,sitecontent){return privatecreate.customPOST({id:website_id,page_id:page_id,block:{content:content,blocktype:"json",position:0,sitecontent:sitecontent}},"").then(function(result){return result})},getFigmaImports=function(){return figmaimports.getList().then(function(result){return result})},hideFigmaImport=function(uuid,id){return figmaimports.customPOST({uuid:uuid,id:id},"hide").then(function(result){return result})},{runFigmaImportTask:runFigmaImportTask,getFigmaTaskStatus:getFigmaTaskStatus,createFigmaImportBlock:createFigmaImportBlock,createFigmaImportPage:createFigmaImportPage,getFigmaImports:getFigmaImports,hideFigmaImport:hideFigmaImport}})}.call(this),function(){angular.module("YepCom").service("forumetrika",function($window){var load_Metrika;return load_Metrika=function(){var e;try{return $window.yaCounter38691665=new $window.Ya.Metrika({id:38691665,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0})}catch(error){e=error}},{load_Metrika:load_Metrika}})}.call(this),function(){angular.module("YepCom").service("ForuPolicy",function(Restangular){var checkPolicy,foruPrivacy;return foruPrivacy=Restangular.all("/api/v1/policy"),checkPolicy=function(){return foruPrivacy.customGET("",{}).then(function(res){return res})},{checkPolicy:checkPolicy}})}.call(this),function(){angular.module("YepCom").service("Gallery",function(Restangular){var gallery,getGalleryIcons,getGalleryImages;return gallery=Restangular.all("gallery"),getGalleryImages=function(){return gallery.getList().then(function(result){return result})},getGalleryIcons=function(){return gallery.customGET("",{type:"icon"}).then(function(result){return result})},{getGalleryImages:getGalleryImages,getGalleryIcons:getGalleryIcons}})}.call(this),function(){angular.module("YepCom").service("HtmlWidget",function(Restangular){var create,htmlWidget,show,update;return htmlWidget=Restangular.all("api/v1/frames"),create=function(websiteId,data){return htmlWidget.post({website_id:websiteId,data:data}).then(function(result){return result})},show=function(websiteId,uuid){return htmlWidget.customGET(uuid,{website_id:websiteId}).then(function(result){return result})},update=function(websiteId,uuid,data){return htmlWidget.customPUT({website_id:websiteId,data:data},uuid).then(function(result){return result})},{create:create,show:show,update:update}})}.call(this),function(){angular.module("YepCom").service("iframeEvent",function($rootScope){var broadcast;return broadcast=function(data){$rootScope.$broadcast("RootFrameEvent",data)},{broadcast:broadcast}})}.call(this),function(){angular.module("YepCom").service("Image",function(Restangular){var getExtraImageUrl,getImageUrl,images;return images=Restangular.all(""),getImageUrl=function(templateid,assetid){return images.customGET("templates/"+templateid+"/components/"+assetid).then(function(res){return res})},getExtraImageUrl=function(extrablockid,assetid){return images.customGET("extrablocks/"+extrablockid+"/extracomponents/"+assetid).then(function(res){return res})},{getImageUrl:getImageUrl,getExtraImageUrl:getExtraImageUrl}})}.call(this),function(){angular.module("YepCom").service("Layout",function(ExtraBlock,$compile){var getTemplate,updateTemplate;return getTemplate=function(id,name){return ExtraBlock.getExtrablockTemplate(id,name).then(function(res){return res})},updateTemplate=function(id,name){return ExtraBlock.getExtrablockTemplate(id,name).then(function(res){return res.templatedata})},{updateTemplate:updateTemplate,getTemplate:getTemplate}})}.call(this),function(){angular.module("YepCom").service("Metapreview",function(){var setDescription,setImage,setKeywords,setMetaByName,setMetaByProperty,setTitle;return setMetaByName=function(name,content){var element;return element=document.querySelector("meta[name='"+name+"']"),element?element.setAttribute("content",content):(element=document.createElement("meta"),element.name=name,element.content=content,document.getElementsByTagName("head")[0].appendChild(element))},setMetaByProperty=function(name,content){var element;return element=document.querySelector("meta[property='"+name+"']"),element?element.setAttribute("content",content):(element=document.createElement("meta"),element.property=name,element.content=content,document.getElementsByTagName("head")[0].appendChild(element))},setTitle=function(title){var element;return title?(element=document.querySelector("title"),element?element.innerText=title:(element=document.createElement("title"),element.innerText=title,document.getElementsByTagName("head")[0].appendChild(element)),setMetaByName("og:title",title)):void 0},setDescription=function(description){return setMetaByName("og:description",description),setMetaByName("description",description)},setImage=function(image){return setMetaByProperty("og:image:url",image),setMetaByName("og:image:url",image),setMetaByProperty("og:image",image),setMetaByName("og:image",image)},setKeywords=function(text){var i,key,keyWords,len,ref;for(keyWords=[],ref=text.replace(/[-.\/\\()"',;<>~!@#$%^&*|+=[\]{}`~?:]/gim," ").split(" "),i=0,len=ref.length;len>i;i++)key=ref[i],key&&key.length>3&&keyWords.push(key);return keyWords=_.uniq(keyWords),setMetaByName("keywords",keyWords.join(", "))},{setMetaByName:setMetaByName,setMetaByProperty:setMetaByProperty,setTitle:setTitle,setDescription:setDescription,setImage:setImage,setKeywords:setKeywords}})}.call(this),function(){angular.module("YepCom").service("Metatags",function(Restangular){var createMetatag,deleteMetatag,getMetatags,metatags,updateMetatag;return metatags=Restangular.all("api/v1/metatags"),getMetatags=function(websiteid){return Restangular.one("api/v1/metatags/"+websiteid).customGET("",{}).then(function(res){return res})},createMetatag=function(websiteid,name,uservalue){return metatags.post({id:websiteid,metatag:{name:name,uservalue:uservalue}}).then(function(res){return res})},updateMetatag=function(websiteid,metatag_id,name,uservalue){return Restangular.one("api/v1/metatags/"+websiteid).customPUT({id:websiteid,metatag_id:metatag_id,metatag:{name:name,uservalue:uservalue}}).then(function(res){return res})},deleteMetatag=function(websiteid,metatag_id){return Restangular.all("api/v1/metatags/"+websiteid).customDELETE("",{id:websiteid,metatag_id:metatag_id}).then(function(res){return res})},{getMetatags:getMetatags,createMetatag:createMetatag,updateMetatag:updateMetatag,deleteMetatag:deleteMetatag}})}.call(this),function(){angular.module("YepCom").service("MobileResponsive",function(){var _changeFontSize_v2,restoreOriginalSize,setMobileSize;return _changeFontSize_v2=function(block,fontSize){return $(block).children().each(function(){var currentFontSize;return currentFontSize=parseInt($(this).css("font-size")),currentFontSize>fontSize&&$(this).css("font-size",fontSize+"px"),
_changeFontSize_v2(this,fontSize)})},restoreOriginalSize=function(block){return $(block).children().each(function(){var dataMceStyle,i,item,len,vals,valsArr;if(dataMceStyle=$(this).attr("data-mce-style"),"undefined"!=typeof dataMceStyle&&dataMceStyle!==!1)for(valsArr=dataMceStyle.split(";"),i=0,len=valsArr.length;len>i;i++)item=valsArr[i],""!==item&&(vals=item.split(":"),$(this).css(vals[0].replace(" ",""),vals[1].replace(" ","")));else $(this).hasClass("additional_widget")||$(this).css("font-size","");return restoreOriginalSize(this)})},setMobileSize=function(block,elw){var fontBase,fontRatio,fontSize,maxFont,maximum,minFont,minimum,width;return maximum=9999,minimum=300,maxFont=38,minFont=16,fontRatio=10,width=0,width=elw>maximum?maximum:minimum>elw?minimum:elw,fontBase=width/fontRatio,fontSize=0,fontSize=fontBase>maxFont?maxFont:minFont>fontBase?minFont:fontBase,_changeFontSize_v2(block,fontSize)},{setMobileSize:setMobileSize,restoreOriginalSize:restoreOriginalSize}})}.call(this),function(){angular.module("YepCom").service("Msgservice",function(Restangular){var dynamicforms,getForm,getFormList,message,sendForm,sendfiles,sendmessage;return message=Restangular.all("sendmessage"),dynamicforms=Restangular.all("api/v1/dynamicforms"),sendForm=function(formFields,actions,contactmails){return null==contactmails&&(contactmails=null),dynamicforms.customPOST({form:{fields:formFields},actions:actions,contactmails:contactmails},"","").then(function(result){return result})},sendfiles=function(id,files){var formData,i;for(formData=new FormData,formData.append("id",id),i=0;i<files.length;)formData.append("files[]",files[i]),i++;return Restangular.one("/api/v1/clientuploads").customPOST(formData,"",void 0,{"Content-Type":void 0}).then(function(res){return res})},sendmessage=function(data){return message.customPOST("","",data).then(function(result){return result})},getFormList=function(){return Restangular.all("api/v1/dynamicforms").getList().then(function(result){return result})},getForm=function(id,website_id){return Restangular.all("api/v1/dynamicforms/"+id).customGET("",{websiteid:website_id}).then(function(res){return res})},{sendmessage:sendmessage,sendfiles:sendfiles,sendForm:sendForm,getFormList:getFormList,getForm:getForm}})}.call(this),function(){angular.module("YepCom").service("News",function(Restangular){var comments,createNewsItem,createNewsItemComment,deleteComment,deleteNewsItem,getAllComments,getAvatar,getNews,getNewsItemPreview,getNewsItemPreviewItem,getNewsPreview,getNewsPreviewBySiteId,getNewsitemBody,news,updateNewsItem;return news=Restangular.all("forunews"),comments=Restangular.all("/api/v1/comments"),getNews=function(websiteid){return news.getList({websiteid:websiteid}).then(function(result){return result})},createNewsItem=function(websiteid,newsitem){return news.post({websiteid:websiteid,newsitem:newsitem}).then(function(result){return result})},updateNewsItem=function(websiteid,newsitem){return Restangular.one("/forunews/"+newsitem._id.$oid).customPUT({websiteid:websiteid,newsitem:newsitem})},deleteNewsItem=function(websiteid,newsitem){return news.customDELETE(newsitem._id.$oid,{websiteid:websiteid}).then(function(result){return result})},getNewsPreview=function(){return news.customGET("showall").then(function(res){return res})},getNewsitemBody=function(id){return news.customGET(id+"/showitem",{forunews_id:id}).then(function(res){return res})},getNewsItemPreview=function(){return news.customGET("/showpreview").then(function(res){return res})},getNewsItemPreviewItem=function(id){return news.customGET(id+"/showpreviewitem",{forunews_id:id}).then(function(res){return res})},createNewsItemComment=function(newsitemid,commbody,commtitle,commemail){return comments.post({itemid:newsitemid,comment:{body:commbody,title:commtitle,email:commemail}}).then(function(res){return res})},getAllComments=function(newsitemid){return Restangular.one("/api/v1/comments/"+newsitemid).customGET().then(function(res){return res})},deleteComment=function(itemid,id){return Restangular.one("/api/v1/comments/removecomment").customPOST({itemid:itemid,id:id}).then(function(result){return result})},getAvatar=function(siteid){return Restangular.one("/previewavatar").customGET("",{siteid:siteid}).then(function(res){return res})},getNewsPreviewBySiteId=function(siteid){return Restangular.one("/forunews/showsiteidnews").customGET("",{siteid:siteid}).then(function(res){return res})},{getNews:getNews,createNewsItem:createNewsItem,updateNewsItem:updateNewsItem,deleteNewsItem:deleteNewsItem,getNewsPreview:getNewsPreview,getNewsitemBody:getNewsitemBody,getNewsItemPreview:getNewsItemPreview,createNewsItemComment:createNewsItemComment,getAllComments:getAllComments,deleteComment:deleteComment,getAvatar:getAvatar,getNewsPreviewBySiteId:getNewsPreviewBySiteId}})}.call(this),function(){angular.module("YepCom").service("NodeTrees",function(Restangular){var addNodeItem,changeParent,deleteNodeItem,editNodeItem,getNodeTree,getNodeTreeView,nodetrees,updateAll;return nodetrees=Restangular.all("/api/v1/nodetrees"),getNodeTree=function(uuid){return nodetrees.customGET("",{id:uuid}).then(function(res){return res},function(reserror){return reserror})},addNodeItem=function(uuid,node,parent_id){return null==parent_id&&(parent_id=null),nodetrees.post({id:uuid,node:node,parent_id:parent_id}).then(function(res){return res})},deleteNodeItem=function(websiteid,node_id){return Restangular.one("/api/v1/nodetrees/"+websiteid).customDELETE("",{node_id:node_id}).then(function(res){return res})},editNodeItem=function(websiteid,node,new_node_id){return null==new_node_id&&(new_node_id=null),Restangular.all("/api/v1/nodetrees/"+websiteid).customPUT({node_id:new_node_id,node:node}).then(function(res){return res})},changeParent=function(websiteid,node_id,new_node_id){return Restangular.all("/api/v1/nodetrees/"+websiteid).customPUT({node_id:node_id,new_node_id:new_node_id}).then(function(res){return res})},updateAll=function(websiteid,nodes){return Restangular.all("/api/v1/nodetrees/updateall").post({id:websiteid,nodes:nodes}).then(function(res){return res})},getNodeTreeView=function(uuid){return nodetrees.customGET(uuid).then(function(res){return res})},{getNodeTree:getNodeTree,addNodeItem:addNodeItem,deleteNodeItem:deleteNodeItem,editNodeItem:editNodeItem,changeParent:changeParent,updateAll:updateAll,getNodeTreeView:getNodeTreeView}})}.call(this),function(){angular.module("YepCom").service("Onlineusers",function(Restangular,$http){var createOnlineUser,deleteOnlineUser,getOnlineUsers,onlineusers;return onlineusers=Restangular.all("/api/v1/onlineusers"),createOnlineUser=function(){return onlineusers.post().then(function(res){return res})},getOnlineUsers=function(id){return onlineusers.get(id).then(function(res){return res})},deleteOnlineUser=function(id){return onlineusers.customDELETE("clear",{}).then(function(res){return res})},{createOnlineUser:createOnlineUser,getOnlineUsers:getOnlineUsers,deleteOnlineUser:deleteOnlineUser}})}.call(this),function(){angular.module("YepCom").service("Page",function(Restangular){var copyPage,createAnotherTemplate,createPage,createWebSite,createWithBlocks,createWithCustomExtraBlocks,createWithExtraBlocks,deletePage,destroyWebSite,getPageInfo,getPages,getPagesIndexName,getPagesUS,getPreviewPages,getWebSites,makeRoot,publicatePage,publicateSite;return getPages=function(siteid){return Restangular.one("websites",siteid).all("pages").getList().then(function(response){return response})},getPagesUS=function(siteid){return Restangular.one("websites",siteid).all("pages").getList({checkuserspace:!0}).then(function(response){return response})},getPreviewPages=function(siteid){return Restangular.one("previewpages",siteid).getList().then(function(response){return response})},createPage=function(siteid,pagename){return Restangular.one("websites",siteid).all("pages").post({pagename:pagename}).then(function(response){return response})},deletePage=function(siteid,page_id){return Restangular.one("websites",siteid).all("pages").customDELETE("/dwedwedew",{page_id:page_id}).then(function(res){return res})},getWebSites=function(){return websites.getList().then(function(result){return result})},createWebSite=function(data){return websites.post({website:{template_id:data}}).then(function(result){return result})},destroyWebSite=function(data){return Restangular.one("websites",data).remove().then(function(res){return res})},publicateSite=function(siteid){return Restangular.one("websites/"+siteid+"/publicate").get().then(function(res){return res})},createWithBlocks=function(siteid,pageid,pagename,blocks){return Restangular.one("websites/"+siteid+"/pages/"+pageid+"/createwithblocks").post("",{blocks:blocks,pagename:pagename}).then(function(res){return res})},createWithExtraBlocks=function(siteid,pageid,pagename,blocks){return Restangular.one("websites/"+siteid+"/pages/"+pageid+"/createpagewithextra").post("",{blocks:blocks,pagename:pagename}).then(function(res){return res})},createWithCustomExtraBlocks=function(siteid,pagename,blocks){return Restangular.one("websites/"+siteid+"/pages/createpagewithextracustomcontent").post("",{blocks:blocks,pagename:pagename}).then(function(res){return res})},createAnotherTemplate=function(siteid,pageid,pagename,newtemplateid){return Restangular.one("websites/"+siteid+"/pages/"+pageid+"/createanothertemplate").post("",{pagename:pagename,template_id:newtemplateid}).then(function(res){return res})},publicatePage=function(siteid,pageid,pagename,pagepublic){return Restangular.one("websites/"+siteid+"/pages/"+pageid).customPUT({pagename:pagename,"public":pagepublic},"").then(function(res){return res})},copyPage=function(siteid,pageid,pagename){return Restangular.one("websites/"+siteid+"/pages/"+pageid+"/copypage").post("",{pagename:pagename}).then(function(res){return res})},getPagesIndexName=function(website_id){return Restangular.one("websites/"+website_id+"/pages/indexname").customGET().then(function(res){return res})},getPageInfo=function(website_id,page_id){return Restangular.one("websites/"+website_id+"/pages/"+page_id).customGET().then(function(res){return res})},makeRoot=function(siteid,pageid){return Restangular.one("websites/"+siteid+"/pages/"+pageid+"/makeroot").post("",{}).then(function(res){return res})},{getPages:getPages,getPagesUS:getPagesUS,createPage:createPage,deletePage:deletePage,getPreviewPages:getPreviewPages,createWithBlocks:createWithBlocks,createAnotherTemplate:createAnotherTemplate,publicatePage:publicatePage,copyPage:copyPage,createWithExtraBlocks:createWithExtraBlocks,createWithCustomExtraBlocks:createWithCustomExtraBlocks,getPagesIndexName:getPagesIndexName,getPageInfo:getPageInfo,makeRoot:makeRoot}})}.call(this),function(){angular.module("YepCom").service("Paymentmethod",function(Restangular,$http){var deletePaymentCard,getPaymentCards,paymentmethods,updatePaymentCard;return paymentmethods=Restangular.all("/api/v1/paymentmethods"),getPaymentCards=function(){return paymentmethods.getList().then(function(res){return res})},updatePaymentCard=function(id,defaultcard){return Restangular.one("/api/v1/paymentmethods/"+id).customPUT({defaultcard:defaultcard}).then(function(res){return res})},deletePaymentCard=function(templateid){return Restangular.one("/api/v1/paymentmethods/"+id).remove().then(function(result){return result})},{getPaymentCards:getPaymentCards,updatePaymentCard:updatePaymentCard,deletePaymentCard:deletePaymentCard}})}.call(this),function(){angular.module("YepCom").service("Preview",function(Restangular){var getPreview,getPreviewDomain,getPreviewImage,getPreviewImageSaved,getPreviewImageWithPage,getsiteformembers,preview,previewdomain;return preview=Restangular.all("preview"),previewdomain=Restangular.all("previewdomain"),getPreview=function(username,pageid){return null==pageid&&(pageid=null),preview.get(username,{pagename:pageid}).then(function(res){return res},function(reserror){return reserror})},getPreviewDomain=function(domainname,pageid){return null==pageid&&(pageid=null),previewdomain.get(domainname,{pagename:pageid}).then(function(res){return res},function(reserror){return reserror})},getPreviewImage=function(id){return Restangular.all("previewimage").customGET(id,{}).then(function(res){return res})},getPreviewImageWithPage=function(id,pageid){return Restangular.all("previewimage").customGET(id,{pageid:pageid}).then(function(res){return res})},getPreviewImageSaved=function(id){return Restangular.all("previewimagesaved").customGET(id,{}).then(function(res){return res})},getsiteformembers=function(){return Restangular.all("previewmembers").customGET("getsiteformembers",{}).then(function(res){return res})},{getPreview:getPreview,getPreviewDomain:getPreviewDomain,getPreviewImage:getPreviewImage,getPreviewImageWithPage:getPreviewImageWithPage,getsiteformembers:getsiteformembers,getPreviewImageSaved:getPreviewImageSaved}})}.call(this),function(){angular.module("YepCom").service("Previewshopsitecategories",function(Restangular){var createShopSite,deleteCollection,getCategoriesList,getCategoryProducts,shopsitecategories,updateCollection;return shopsitecategories=Restangular.all("previewshopsitecategories"),getCategoriesList=function(uuid){return shopsitecategories.getList({id:uuid}).then(function(res){return res})},getCategoryProducts=function(uuid,category_id){return shopsitecategories.customGET(uuid,{category_id:category_id}).then(function(res){return res})},createShopSite=function(uuid,name,description){return shopsitecategories.post({name:name,description:description,id:uuid}).then(function(res){return res})},deleteCollection=function(uuid,category_id){return Restangular.one("previewshopsitecategories").customDELETE(uuid,{category_id:category_id}).then(function(res){return res})},updateCollection=function(uuid,category_id,name,description){return shopsitecategories.customPUT({category_id:category_id,name:name,description:description},uuid).then(function(res){return res})},{getCategoriesList:getCategoriesList,createShopSite:createShopSite,getCategoryProducts:getCategoryProducts,deleteCollection:deleteCollection,updateCollection:updateCollection}})}.call(this),function(){angular.module("YepCom").service("Previewshopsiteitems",function(Restangular){var createShopItem,deleteProductImage,deleteShopItem,getShopItem,shopsiteitems,updateShopItem;return shopsiteitems=Restangular.all("previewshopsiteitems"),getShopItem=function(uuid,category_id,item_id){return shopsiteitems.customGET(uuid,{category_id:category_id,item_id:item_id}).then(function(res){return res})},createShopItem=function(uuid,category_id,item_name,item_desc,item_amount,item_price,item_oldprice,item_sku){return shopsiteitems.post({id:uuid,category_id:category_id,item:{name:item_name,description:item_desc,amount:item_amount,price:item_price,oldprice:item_oldprice,sku:item_sku,publicated:!1}}).then(function(res){return res})},updateShopItem=function(uuid,category_id,item_id,item_name,item_desc,item_amount,item_price,item_oldprice,item_sku,item_publicated,images){return shopsiteitems.customPUT({category_id:category_id,item_id:item_id,item:{name:item_name,description:item_desc,amount:item_amount,price:item_price,oldprice:item_oldprice,sku:item_sku,publicated:item_publicated,images:images}},uuid).then(function(res){return res})},deleteShopItem=function(uuid,category_id,item_id){return Restangular.one("previewshopsiteitems").customDELETE(uuid,{category_id:category_id,item_id:item_id}).then(function(res){return res})},deleteProductImage=function(uuid,usershopimage_id){return Restangular.one("usershopimages").customDELETE(usershopimage_id).then(function(res){return res})},{getShopItem:getShopItem,createShopItem:createShopItem,updateShopItem:updateShopItem,deleteShopItem:deleteShopItem,deleteProductImage:deleteProductImage}})}.call(this),function(){angular.module("YepCom").service("Private",function(Restangular){var getPrivate,privates;return privates=Restangular.all("private"),getPrivate=function(siteid){return privates.get(siteid).then(function(res){return res})},{getPrivate:getPrivate}})}.call(this),function(){angular.module("YepCom").service("Publicsite",function(Restangular){var createPublicSite,getPublicSite,getWebSites,publicsites;return publicsites=Restangular.all("publicsites"),getPublicSite=function(siteid){return publicsites.get(siteid).then(function(res){return res})},getWebSites=function(){return websites.getList().then(function(result){return result})},createPublicSite=function(template_id,website_id,data,publ){return publicsites.post({template_id:template_id,website_id:website_id,publicsite:{sitecontent:data,"public":publ}}).then(function(result){return result})},{getPublicSite:getPublicSite,getWebSites:getWebSites,createPublicSite:createPublicSite}})}.call(this),function(){angular.module("YepCom").service("RandomString",function(){var generateRandomString;return generateRandomString=function(len,charSet){var i,randomPoz,randomString;for(charSet=charSet||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",randomString="",i=0;len>i;)randomPoz=Math.floor(Math.random()*charSet.length),randomString+=charSet.substring(randomPoz,randomPoz+1),i++;return randomString},{generateRandomString:generateRandomString}})}.call(this),function(){angular.module("YepCom").service("Reviews",function(Restangular){var createReview,deleteReview,getReviewBySiteId,getReviews,reviews;return reviews=Restangular.all("api/v1/reviews"),getReviews=function(){return reviews.getList().then(function(res){return res})},createReview=function(reviewitem){return reviews.post({review:{name:reviewitem.name,body:reviewitem.body,email:reviewitem.email}}).then(function(result){return result})},getReviewBySiteId=function(siteid){return reviews.customGET(""+siteid,"").then(function(result){return result})},deleteReview=function(id,websiteid){return Restangular.one("/api/v1/reviews/"+id).customDELETE("",{websiteid:websiteid}).then(function(result){return result})},{getReviews:getReviews,createReview:createReview,getReviewBySiteId:getReviewBySiteId,deleteReview:deleteReview}})}.call(this),function(){angular.module("YepCom").service("Shoporders",function(Restangular){var calculateOrder,checkOrderMerchantPayment,createOrder,createWithDelivery,deleteOrder,getAllOrders,getAllShopOrders,getBankRates,getRateCurrentCurrency,getShopOrders,getSingleOrder,shoporders,updateOrder;return shoporders=Restangular.all("shoporders"),createOrder=function(uuid,customername,customeremail,phone,items,pmethod,deliveryaddress,comments,delivery_methods,order_form){return shoporders.post({id:uuid,order:{user_name:customername,email:customeremail,phone:phone,payment_method:pmethod,items:items,deliveryaddress:deliveryaddress,comments:comments,deliverymethods:delivery_methods,orderform:order_form}}).then(function(res){return res})},calculateOrder=function(uuid,customername,customeremail,phone,items,pmethod,deliveryaddress,comments,delivery_method,order_form){return Restangular.one("/api/v1/shoporders/calculate").customPOST({id:uuid,order:{user_name:customername,email:customeremail,phone:phone,payment_method:pmethod,items:items,deliveryaddress:deliveryaddress,comments:comments,deliverymethod:delivery_method,orderform:order_form}},"").then(function(res){return res})},createWithDelivery=function(uuid,customername,customeremail,phone,items,pmethod,deliveryaddress,comments,delivery_method,order_form){return Restangular.one("/api/v1/shoporders/createwithdelivery").customPOST({id:uuid,order:{user_name:customername,email:customeremail,phone:phone,payment_method:pmethod,items:items,deliveryaddress:deliveryaddress,comments:comments,deliverymethod:delivery_method,orderform:order_form}},"").then(function(res){return res})},getAllOrders=function(){return shoporders.customGET("showall").then(function(result){return result})},getSingleOrder=function(uuid,orderid){return shoporders.customGET(uuid,{order_id:orderid}).then(function(result){return result})},getShopOrders=function(uuid){return shoporders.customGET("",{id:uuid}).then(function(result){return result})},updateOrder=function(uuid,orderid,processed,archived,deleted,order_paid){return shoporders.customPUT({order_id:orderid,order:{processed:processed,archived:archived,deleted:deleted,order_paid:order_paid}},uuid).then(function(res){return res})},deleteOrder=function(uuid,orderid){return Restangular.one("shoporders").customDELETE(uuid,{order_id:orderid}).then(function(res){return res})},checkOrderMerchantPayment=function(orderid){return Restangular.one("/api/v1/shoporders/validate").customGET("",{id:orderid}).then(function(result){return result})},getAllShopOrders=function(){return shoporders.customGET("allorders").then(function(result){return result})},getBankRates=function(){return Restangular.all("/api/v1/preview/bankrates").getList().then(function(result){return result})},getRateCurrentCurrency=function(currency){return Restangular.all("/api/v1/preview/ratecurrentcurrency").customGET("",{currency:currency}).then(function(result){return Math.round(100*parseFloat(result.value.replace(",",".")))/100})},{createOrder:createOrder,createWithDelivery:createWithDelivery,getShopOrders:getShopOrders,getAllOrders:getAllOrders,getSingleOrder:getSingleOrder,updateOrder:updateOrder,deleteOrder:deleteOrder,checkOrderMerchantPayment:checkOrderMerchantPayment,getAllShopOrders:getAllShopOrders,calculateOrder:calculateOrder,getBankRates:getBankRates,getRateCurrentCurrency:getRateCurrentCurrency}})}.call(this),function(){angular.module("YepCom").service("Shopsite",function(Restangular){var addDeliveryMethod,createShopFromSite,createShopSite,deleteDeliveryMethod,deliverymethods,getDeliveryMethods,getDeliveryMethodsInPreview,getShopSiteInPreview,getShopsite,setDefaultDeliveryMethod,shopsites,updateShopSiteDeliveryMethods,updateShopSiteOrderForm;return shopsites=Restangular.all("shopsites"),deliverymethods=Restangular.all("/api/v1/deliverymethods"),createShopSite=function(siteid,name){return shopsites.post({id:siteid,username:name}).then(function(res){return res})},createShopFromSite=function(siteid){return Restangular.one("shopsites").customPOST({siteid:siteid},"createshopfromsite").then(function(res){return res})},getShopsite=function(siteid){return shopsites.get(siteid).then(function(res){return res})},updateShopSiteDeliveryMethods=function(siteid,deliverymethods){return shopsites.customPUT({deliverymethods:deliverymethods},siteid).then(function(res){return res})},updateShopSiteOrderForm=function(siteid,orderform){return shopsites.customPUT({orderform:orderform},siteid).then(function(res){return res})},getShopSiteInPreview=function(){return shopsites.customGET().then(function(res){return res})},getDeliveryMethods=function(uuid){return deliverymethods.customGET("",{id:uuid}).then(function(res){return res})},addDeliveryMethod=function(uuid,name,description,price,includeorderprice,defaultmethod,useaddress){return Restangular.one("/api/v1/deliverymethods?id="+uuid).customPOST({shippingmethod:{name:name,description:description,price:price,includeorderprice:includeorderprice,defaultmethod:defaultmethod,useaddress:useaddress}},"").then(function(res){return res})},deleteDeliveryMethod=function(uuid,id){return deliverymethods.customDELETE(uuid,{shippingmethod_id:id}).then(function(res){return res})},getDeliveryMethodsInPreview=function(){return Restangular.one("/api/v1/preview/deliverymethods").customGET().then(function(res){return res})},setDefaultDeliveryMethod=function(uuid,id){return Restangular.one("/api/v1/deliverymethods/setdefault").customPOST({shippingmethod_id:id,id:uuid},"").then(function(res){return res})},{createShopSite:createShopSite,getShopsite:getShopsite,createShopFromSite:createShopFromSite,updateShopSiteDeliveryMethods:updateShopSiteDeliveryMethods,updateShopSiteOrderForm:updateShopSiteOrderForm,getShopSiteInPreview:getShopSiteInPreview,getDeliveryMethods:getDeliveryMethods,addDeliveryMethod:addDeliveryMethod,deleteDeliveryMethod:deleteDeliveryMethod,getDeliveryMethodsInPreview:getDeliveryMethodsInPreview,setDefaultDeliveryMethod:setDefaultDeliveryMethod}})}.call(this),function(){angular.module("YepCom").service("Shopsitecategories",function(Restangular){var createCollection,deleteCollection,getCategoriesList,getCategoryProducts,shopsitecategories,updateAllCollections,updateCollection;return shopsitecategories=Restangular.all("shopsitecategories"),getCategoriesList=function(uuid){return shopsitecategories.getList({id:uuid}).then(function(res){return res})},getCategoryProducts=function(uuid,category_id){return shopsitecategories.customGET(uuid,{category_id:category_id}).then(function(res){return res})},createCollection=function(uuid,name,description){return shopsitecategories.post({name:name,description:description,id:uuid}).then(function(res){return res})},deleteCollection=function(uuid,category_id){return Restangular.one("shopsitecategories").customDELETE(uuid,{category_id:category_id}).then(function(res){return res})},updateCollection=function(uuid,category_id,name,description){return shopsitecategories.customPUT({category_id:category_id,name:name,description:description},uuid).then(function(res){return res})},updateAllCollections=function(uuid,categories){return Restangular.one("shopsitecategories/updateall").customPUT({categories:categories,id:uuid}).then(function(res){return res})},{getCategoriesList:getCategoriesList,createCollection:createCollection,getCategoryProducts:getCategoryProducts,deleteCollection:deleteCollection,updateCollection:updateCollection,updateAllCollections:updateAllCollections}})}.call(this),function(){angular.module("YepCom").service("Subscriber",function(Restangular){var subscribe,subscriptions;return subscriptions=Restangular.all("subscriptions"),subscribe=function(data){return subscriptions.post({email:data}).then(function(result){return result})},{subscribe:subscribe}})}.call(this),function(){angular.module("YepCom").service("Templatesloader",function($http,$q){var load;return load=function(path){var deferred;return deferred=$q.defer(),$http.get(path).then(function(data,status,headers,config){return deferred.resolve(data)}),deferred.promise},{load:load}})}.call(this),function(){angular.module("YepCom").service("Userdefaultdomain",function(Restangular){var checkHostName,domains,getDomain,switchUserDefaultDomain;return domains=["fosite.ru","fo.team"],getDomain=function(id){return id||(id=0),domains[id]},checkHostName=function(hostname){var i,result;for(result=null,i=0;i<domains.length;)hostname.indexOf(domains[i])>-1&&(result=getDomain(i)),i++;return result},switchUserDefaultDomain=function(){return Restangular.one("/api/v1/home/setnewdefaultdomain").post("",{}).then(function(res){return res})},{domains:domains,getDomain:getDomain,checkHostName:checkHostName,switchUserDefaultDomain:switchUserDefaultDomain}})}.call(this),function(){angular.module("YepCom").service("Usergroups",function(Restangular){var accessConclusion,accessrequests,addPageToGroup,addRemoveToGroup,checkMember,createUser,createUserGroup,deleteUserGroup,getAccessRequests,getGroupsByPage,getPagesByGroup,getUsergroups,getUsers,getUsersByGroup,groupShow,pagecontrol,registerMember,removePageFromGroup,setAccess,sitemembers,updateUserGroup,usergroups;return usergroups=Restangular.all("/api/v1/usergroups"),sitemembers=Restangular.all("/api/v1/sitemembers"),pagecontrol=Restangular.all("/api/v1/pagecontrol"),accessrequests=Restangular.all("/api/v1/accessrequests"),getUsergroups=function(site_uuid){return usergroups.customGET("",{website_id:site_uuid}).then(function(res){return res})},createUserGroup=function(website_id,name,description){return usergroups.post("",{name:name,description:description,website_id:website_id}).then(function(res){return res})},updateUserGroup=function(id,name,description){return Restangular.one("/api/v1/usergroups/"+id).customPUT({name:name,description:description}).then(function(res){return res})},deleteUserGroup=function(id){return usergroups.customDELETE(id).then(function(res){return res})},addRemoveToGroup=function(id,member_id,act){return usergroups.customPOST({id:id,member_id:member_id,act:act},"addremovetogroup").then(function(res){return res})},getUsers=function(site_uuid){return sitemembers.customGET("",{website_id:site_uuid}).then(function(res){return res})},createUser=function(site_uuid,email){return sitemembers.post("",{website_id:site_uuid,email:email}).then(function(res){return res})},groupShow=function(site_uuid,member_id){return usergroups.customGET("groupshow",{id:member_id,website_id:site_uuid}).then(function(res){return res})},getUsersByGroup=function(groupId){return usergroups.customGET(groupId,{}).then(function(res){return res})},getGroupsByPage=function(website_uuid,page_id){return pagecontrol.customGET(website_uuid,{page_id:page_id}).then(function(res){return res})},getPagesByGroup=function(website_uuid,group_id){return pagecontrol.customGET("showpage",{id:website_uuid,group_id:group_id}).then(function(res){return res})},addPageToGroup=function(website_id,page_id,group_id){return pagecontrol.post({id:group_id,website_id:website_id,page_id:page_id}).then(function(res){return res})},removePageFromGroup=function(website_id,page_id,group_id){return pagecontrol.customDELETE(group_id,{website_id:website_id,page_id:page_id}).then(function(res){return res})},setAccess=function(website_id,page_id,private_access){return Restangular.one("/api/v1/pagecontrol/"+page_id).customPUT({website_id:website_id,private_access:private_access}).then(function(res){return res})},getAccessRequests=function(website_id){return accessrequests.customGET("",{website_id:website_id}).then(function(res){return res})},accessConclusion=function(id,website_id,act,group_id){return Restangular.one("/api/v1/accessrequests/"+id).customPUT({website_id:website_id,act:act,group_id:group_id}).then(function(res){return res})},checkMember=function(email){return Restangular.one("/api/v1/auth/checkmember").post("",{email:email}).then(function(res){return res})},registerMember=function(email,password){return Restangular.one("/members").post("",{member:{email:email,password:password}}).then(function(res){return res})},{getUsergroups:getUsergroups,createUserGroup:createUserGroup,updateUserGroup:updateUserGroup,deleteUserGroup:deleteUserGroup,addRemoveToGroup:addRemoveToGroup,getUsers:getUsers,createUser:createUser,groupShow:groupShow,getUsersByGroup:getUsersByGroup,getGroupsByPage:getGroupsByPage,getPagesByGroup:getPagesByGroup,addPageToGroup:addPageToGroup,removePageFromGroup:removePageFromGroup,setAccess:setAccess,getAccessRequests:getAccessRequests,accessConclusion:accessConclusion,checkMember:checkMember,registerMember:registerMember}})}.call(this),function(){angular.module("YepCom").service("Videocalls",function(Restangular){var createVideoCall,videocalls;return videocalls=Restangular.all("api/v1/videocalls"),createVideoCall=function(){return videocalls.post().then(function(res){return res})},{createVideoCall:createVideoCall}})}.call(this),function(){angular.module("YepCom").service("Website",function(Restangular){var blocksToTemplate,clearSiteData,copySite,createBlankSite,createFeomWizars,createWebSite,destroyWebSite,generateImagePreview,getAdvstat,getAllWebSites,getAllWebSitesList,getInboxCounter,getInitialContent,getKeyPhrase,getMoreWebsites,getPublicWebsites,getPublicationJobs,getUnpublicatedWebSites,getWebPushHistory,getWebSite,getWebSites,getWebSitesLength,publicateAllPages,publicateSite,publicateSiteWithPagepublic,searchWebsite,sendWebsitePush,set404Redirect,setAutoredirect,setBgVideo,setBlindMode,setLogo,setMetriks,setPageCeoSettings,setPageFont,setPageFontByTitle,setPush,setRedirect,setSiteCeosettings,setSiteName,setUserspace,setVerification,showMsg,unPin,unpublicateAll,updateArticleSettings,updateTemplate,updateUserspaceButton,updateVideoCall,updateWebSite,websiteToTemplate,websites;return websites=Restangular.all("websites"),getWebSite=function(siteid){return websites.get(siteid).then(function(res){return res})},getWebSites=function(){return websites.getList().then(function(result){return result})},getAllWebSitesList=function(number,skip){return null==skip&&(skip=0),websites.customGET("",{skip:skip,number:number}).then(function(result){return result})},getPublicWebsites=function(number,skip){return null==skip&&(skip=0),websites.customGET("",{publicated:!0,skip:skip,number:number}).then(function(result){return result})},getUnpublicatedWebSites=function(number,skip){return null==skip&&(skip=0),websites.customGET("",{unpublicated:!0,skip:skip,number:number}).then(function(result){return result})},getMoreWebsites=function(number,skip){return null==skip&&(skip=0),websites.customGET("",{skip:skip,number:number}).then(function(result){return result})},getWebSitesLength=function(publicated,unpublicated){
return Restangular.one("/api/v1/websites/getwebsitescount").customGET("",{publicated:publicated,unpublicated:unpublicated}).then(function(res){return res})},getAllWebSites=function(number,skip){return null==skip&&(skip=0),Restangular.one("/api/v1/websites/onlyindex").customGET("",{skip:skip,number:number}).then(function(result){return result})},createWebSite=function(templateid,blocks){return websites.post({website:{template_id:templateid,blocks:blocks}}).then(function(result){return result})},destroyWebSite=function(data){return Restangular.one("websites",data).remove().then(function(res){return res})},publicateSite=function(siteid){return Restangular.one("websites/"+siteid.uuid+"/publicate").get().then(function(res){return res})},unpublicateAll=function(){return Restangular.one("websites/unpublicate").get().then(function(res){return res})},setSiteName=function(name,siteid){return Restangular.one("websites/"+siteid).customPUT({sitename:name}).then(function(res){return res})},updateWebSite=function(siteid,data,pageid){return null==pageid&&(pageid=null),Restangular.one("websites/"+siteid).customPUT({website:{websiteblocks:data},page_id:pageid}).then(function(res){return res})},setSiteCeosettings=function(sitetitle,sitedescription,keywords,siteid){return Restangular.one("websites/"+siteid).customPUT({title:sitetitle,description:sitedescription,keywords:keywords}).then(function(res){return res})},setPageCeoSettings=function(sitetitle,sitedescription,keywords,siteid,pageid){return Restangular.one("websites/"+siteid+"/setceo").customPUT({title:sitetitle,description:sitedescription,keywords:keywords,page_id:pageid}).then(function(res){return res})},setMetriks=function(siteid,gaid,metid){return null==gaid&&(gaid=null),null==metid&&(metid=null),Restangular.one("websites/"+siteid).customPUT({gaid:gaid,metid:metid}).then(function(res){return res})},updateArticleSettings=function(siteid,articlesettings){return Restangular.one("websites/"+siteid).customPUT({articlesettings:articlesettings}).then(function(res){return res})},setAutoredirect=function(siteid,autoredirect){return Restangular.one("websites/"+siteid).customPUT({autoredirect:autoredirect}).then(function(res){return res})},setVerification=function(siteid,googleverification,yandexverification,capitallerverification){return null==googleverification&&(googleverification=null),null==yandexverification&&(yandexverification=null),null==capitallerverification&&(capitallerverification=null),Restangular.one("websites/"+siteid).customPUT({googleverification:googleverification,yandexverification:yandexverification,capitallerverification:capitallerverification}).then(function(res){return res})},setLogo=function(siteid,logo_userupload_id,navbar_text){return Restangular.one("websites/"+siteid).customPUT({logo_userupload_id:logo_userupload_id,navbar_text:navbar_text}).then(function(res){return res})},createBlankSite=function(){return Restangular.one("websites/blanksite").customPOST("").then(function(res){return res})},setBgVideo=function(siteid,pageid,bgvideo,bgtype){return Restangular.one("websites/"+siteid+"/setceo").customPUT({background:{type:bgtype,url:bgvideo},page_id:pageid}).then(function(res){return res})},setPageFont=function(siteid,pageid,font){return Restangular.one("websites/"+siteid+"/setceo").customPUT({fontstyle:font,page_id:pageid}).then(function(res){return res})},setPageFontByTitle=function(siteid,pageid,font,type){return"title"===type.toString()?Restangular.one("websites/"+siteid+"/setceo").customPUT({titlefont:font,page_id:pageid}).then(function(res){return res}):"nottitle"===type.toString()?Restangular.one("websites/"+siteid+"/setceo").customPUT({bodyfont:font,page_id:pageid}).then(function(res){return res}):void 0},copySite=function(siteid){return Restangular.one("websites/copysite").customPOST({uuid:siteid}).then(function(res){return res})},unPin=function(uuid){return Restangular.one("homemanager/unpin/"+uuid).customPOST("").then(function(res){return res})},publicateSiteWithPagepublic=function(siteid,pageid){return null==pageid&&(pageid=void 0),Restangular.one("websites/"+siteid+"/publicatepage").post("",{page_id:pageid}).then(function(res){return res})},websiteToTemplate=function(siteid,newtamplatename,newtemplatedescription,price){return Restangular.one("websites/"+siteid+"/createusertemplate").post("",{templatename:newtamplatename,templatedescription:newtemplatedescription,templateprice:price}).then(function(res){return res})},updateTemplate=function(data,templateid){return Restangular.one("templates/"+templateid+"/updatesitecontent").customPUT(data).then(function(res){return res})},publicateAllPages=function(siteid){return Restangular.one("websites/"+siteid+"/publicateall").post().then(function(res){return res})},blocksToTemplate=function(blocks){return Restangular.one("websites/createbyblocksid").post("",{blocks:blocks}).then(function(res){return res})},getInboxCounter=function(){return Restangular.one("/api/v1/websites/indexwithcount").get().then(function(res){return res})},createFeomWizars=function(company,templateid){return Restangular.one("/api/v1/wizard").post("",{company:company,template_id:templateid}).then(function(res){return res})},setBlindMode=function(siteid,blindmode){return Restangular.one("websites/"+siteid).customPUT({blindmode:blindmode}).then(function(res){return res})},setPush=function(website_id,flag){var state;return state="disable",flag&&(state="enable"),Restangular.one("websites/setpush").post("",{state:state,website_id:website_id}).then(function(res){return res})},getWebPushHistory=function(website_id){return Restangular.one("/api/v1/webpush/"+website_id).get().then(function(res){return res})},sendWebsitePush=function(website_id,subject,text){return Restangular.one("/api/v1/webpush/sendwebsitepush").post("",{text:text,subject:subject,website_id:website_id}).then(function(res){return res})},showMsg=function(id,msg_id){return Restangular.one("/api/v1/webpush/showmsg").customGET("",{id:id,msg_id:msg_id}).then(function(res){return res})},setRedirect=function(value,siteid){return Restangular.one("websites/"+siteid).customPUT({redirectfromtowww:value}).then(function(res){return res})},set404Redirect=function(value,siteid){return Restangular.one("websites/"+siteid).customPUT({redirect404:value}).then(function(res){return res})},getKeyPhrase=function(phrase){return Restangular.one("/externalservices/bukvarix").customGET("",{query:phrase}).then(function(res){return res})},getAdvstat=function(datebegin,dateend,websiteid){return null==datebegin&&(datebegin=null),null==dateend&&(dateend=null),Restangular.one("/api/v1/stats/advstat").customGET("",{id:websiteid,datebegin:datebegin,dateend:dateend}).then(function(res){return res})},updateVideoCall=function(siteid,videocall){return Restangular.one("websites/"+siteid).customPUT({videocall:videocall}).then(function(res){return res})},searchWebsite=function(query){return Restangular.one("/api/v1/websites/search").customGET("",{query:query}).then(function(res){return res})},clearSiteData=function(type,siteid){return Restangular.one("websites/cleardata").post("",{uuid:siteid,cleartype:type}).then(function(res){return res})},setUserspace=function(siteid,val){var st;return val===!0&&(st="enable"),val===!1&&(st="disable"),Restangular.one("/api/v1/setuserspace").post("",{uuid:siteid,state:st}).then(function(res){return res})},getInitialContent=function(site_id,page_id,block_id){return Restangular.one("/api/v1/websites/").customGET("getinitialcontent",{id:site_id,page_id:page_id,block_id:block_id}).then(function(result){return result})},updateUserspaceButton=function(siteid,userspacebutton){return null==userspacebutton&&(userspacebutton=null),Restangular.one("websites/"+siteid).customPUT({userspacebutton:userspacebutton}).then(function(res){return res})},generateImagePreview=function(siteid){return Restangular.one("api/v1/websites/generatesiteimage").post("",{uuid:siteid}).then(function(res){return res})},getPublicationJobs=function(website_id){return Restangular.one("/api/v1/publicationjobs/").customGET("",{website_id:website_id}).then(function(result){return result})},{getWebSite:getWebSite,getWebSites:getWebSites,createWebSite:createWebSite,destroyWebSite:destroyWebSite,publicateSite:publicateSite,setSiteName:setSiteName,updateWebSite:updateWebSite,setSiteCeosettings:setSiteCeosettings,unpublicateAll:unpublicateAll,setMetriks:setMetriks,setLogo:setLogo,setPageCeoSettings:setPageCeoSettings,setVerification:setVerification,createBlankSite:createBlankSite,setBgVideo:setBgVideo,setAutoredirect:setAutoredirect,setPageFont:setPageFont,copySite:copySite,setPageFontByTitle:setPageFontByTitle,unPin:unPin,publicateSiteWithPagepublic:publicateSiteWithPagepublic,websiteToTemplate:websiteToTemplate,updateTemplate:updateTemplate,publicateAllPages:publicateAllPages,blocksToTemplate:blocksToTemplate,getInboxCounter:getInboxCounter,createFeomWizars:createFeomWizars,setBlindMode:setBlindMode,setPush:setPush,getWebPushHistory:getWebPushHistory,sendWebsitePush:sendWebsitePush,showMsg:showMsg,setRedirect:setRedirect,set404Redirect:set404Redirect,updateArticleSettings:updateArticleSettings,getKeyPhrase:getKeyPhrase,getAdvstat:getAdvstat,updateVideoCall:updateVideoCall,getPublicWebsites:getPublicWebsites,getUnpublicatedWebSites:getUnpublicatedWebSites,searchWebsite:searchWebsite,getWebSitesLength:getWebSitesLength,getMoreWebsites:getMoreWebsites,clearSiteData:clearSiteData,setUserspace:setUserspace,getAllWebSites:getAllWebSites,getInitialContent:getInitialContent,getAllWebSitesList:getAllWebSitesList,updateUserspaceButton:updateUserspaceButton,generateImagePreview:generateImagePreview,getPublicationJobs:getPublicationJobs}})}.call(this),function(){angular.module("YepCom").directive("additionalelement",function($templateCache,$compile,$state,$timeout,iframeEvent,$animate,elementPreparer,Page,$window,$interval){return{restrict:"EA",replace:!0,link:function(scope,element,attrs){var containeridElm,newelem,ref,ref1,ref10,ref11,ref12,ref2,ref3,ref4,ref5,ref6,ref7,ref8,ref9,templ;return scope.currentstate=$state.current.name,scope.forusoberunopage=!1,scope.yeVersion=1,scope.siteid=scope.$parent.siteid||(null!=(ref=scope.$parent)&&null!=(ref1=ref.$parent)&&null!=(ref2=ref1.$parent)?ref2.siteid:void 0)||(null!=(ref3=scope.$parent)&&null!=(ref4=ref3.$parent)&&null!=(ref5=ref4.$parent)&&null!=(ref6=ref5.$parent)?ref6.siteid:void 0),scope.pubFlag=!1,("preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name)&&(scope.pubFlag=!0),scope.init=function(){return scope.elem&&"forusoberu"===scope.elem.template&&scope.elem.projectname_lat?"preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name?Page.getPreviewPages(scope.siteid).then(function(res){var page;return page=res.filter(function(obj){return obj.name===scope.elem.projectname_lat}),0===page.length?scope.forusoberunopage=!0:void 0}):Page.getPages(scope.siteid).then(function(res){var page;return page=res.filter(function(obj){return obj.name===scope.elem.projectname_lat}),0===page.length?scope.forusoberunopage=!0:void 0}):void 0},scope.stopI=$interval(function(){return scope.sitecontent?(scope.init(),$interval.cancel(scope.stopI)):void 0},1e3),scope.drawFakeElement=function(elm){return $timeout(function(){var height,left,position,top,width;return width=$(elm.children[0]).css("width"),height=$(elm.children[0]).css("height"),position=$(elm.children[0]).css("position"),top=$(elm.children[0]).css("top"),left=$(elm.children[0]).css("left"),$(elm).find(".fakeElementFrame").each(function(i,item){return $(item).css("top","0px"),$(item).css("left","0px"),$timeout(function(){var currentElmRect,dLeft,dTop,itemRect;return itemRect=elm.getBoundingClientRect(),currentElmRect=elm.children[0].getBoundingClientRect(),dTop=currentElmRect.top-itemRect.top,dLeft=currentElmRect.left-itemRect.left,$(item).css("top",dTop+"px"),$(item).css("left",dLeft+"px"),$(item).css("width",width),$(item).css("height",height)},100)})},7e3)},scope.checkIframeWidth=function(width,iframeelemid){if(null==width&&(width=null),null==iframeelemid&&(iframeelemid=null),width){if(element[0]&&element[0].children&&element[0].children.length>0&&element[0].children[0].attributes&&element[0].children[0].attributes.elementid&&element[0].children[0].attributes.elementid.nodeValue===iframeelemid)return"100%"===width?(element.addClass("fullwidth"),scope.drawFakeElement(element[0])):(element.removeClass("fullwidth"),scope.drawFakeElement(element[0]))}else if(element[0]&&element[0].children&&element[0].children.length>0&&element[0].children[0]&&element[0].children[0].width){if("100%"===element[0].children[0].width)return element.addClass("fullwidth"),scope.drawFakeElement(element[0]);if(element.removeClass("fullwidth"),!scope.pubFlag)return scope.yeVersion>1?($(element[0]).css("width",width),$(element[0]).css("height",height),$(element[0]).css("position",position),$(element[0]).css("top",top),$(element[0]).css("left",left),$(element[0].children[0]).css("top","0"),$(element[0].children[0]).css("left","0"),$(element[0]).find(".fakeElementFrame").each(function(i,item){return $(item).css("width",width),$(item).css("height",height)})):scope.drawFakeElement(element[0])}},$timeout(function(){return scope.checkIframeWidth()},10),scope.$on("updateIframeElement",function(e,width,iframeelemid){return scope.checkIframeWidth(width,iframeelemid)}),scope.$watch("chatsettingswindow.closed",function(newVal,oldval){return newVal?(scope.chatsettingswindow=void 0,scope.$broadcast("updateexternalwidgetElement")):void 0}),scope.openChatSettings=function(evt,uuid){var url;return url="https://www.chatbro.com/ru/constructor/"+uuid,scope.chatsettingswindow=$window.open(url,"_blank","width=1000,height=800")},scope.setForuFunding=function(event,elementid,project_id){var currElem,elem;return elem=$(event.target).closest("yelem").find("[elementid='"+elementid+"']"),currElem=elementPreparer.prepare(elem[0]),iframeEvent.broadcast({evt:"setIframeForuFunding",elem:currElem})},scope.setForuYaDirect=function(event,elementid){var currElem,elem;return elem=$(event.target).closest("yelem").find("[elementid='"+elementid+"']"),currElem=elementPreparer.prepare(elem[0]),iframeEvent.broadcast({evt:"setForuYaDirectEv",elem:currElem})},scope.updateFoRuCountDown=function(event,elementid){var currElem,elem;return event.preventDefault(),event.stopPropagation(),elem=$(event.target).closest("yelem").find("[elementid='"+elementid+"']"),currElem=elementPreparer.prepare(elem[0]),iframeEvent.broadcast({evt:"setFoRuCountDownEv",elem:currElem})},scope.editMessengersWidget=function(event,elementid){var currElem,elem;return event.preventDefault(),event.stopPropagation(),elem=$(event.target).closest("yelem").find("[elementid='"+elementid+"']"),currElem=elementPreparer.prepare(elem[0]),iframeEvent.broadcast({evt:"setIframeMessengerEv",elem:currElem})},scope.setIframeCurrent=function(event,elementid){var currElem,elem;return event.preventDefault(),event.stopPropagation(),elem=$(event.target).closest("yelem").find("[elementid='"+elementid+"']"),currElem=elementPreparer.prepare(elem[0]),iframeEvent.broadcast({evt:"setIframeCurrentEv",elem:currElem})},element.on("dragstart",function(e){return e.originalEvent.dataTransfer.setData("text/plain",null)}),scope.getTopFakeElm=function(top,height){return parseInt(top)-parseInt(height)+"px"},scope.pxFilter=function(size){return parseInt(size)+"px"},scope.clearForuTextClasses=function(elementid,classname){return scope.sitecontent[elementid].classes||(scope.sitecontent[elementid].classes=""),scope.sitecontent[elementid].classes=scope.sitecontent[elementid].classes.toString().replace(" forutext-left",""),scope.sitecontent[elementid].classes=scope.sitecontent[elementid].classes.toString().replace(" forutext-right",""),scope.sitecontent[elementid].classes=scope.sitecontent[elementid].classes.toString().replace(" forutext-center",""),scope.sitecontent[elementid].classes=scope.sitecontent[elementid].classes.toString().replace(" forutext-justify",""),scope.sitecontent[elementid].classes=scope.sitecontent[elementid].classes+" "+classname,scope.$apply()},scope.sitecontent={},scope.aligncls=null,(null!=scope&&null!=(ref7=scope.elem)?ref7.elementid:void 0)&&(scope.aligncls=null!=(ref8=scope.$parent)&&null!=(ref9=ref8.sitecontent[null!=scope&&null!=(ref10=scope.elem)?ref10.elementid:void 0])?ref9.align:void 0),scope.elem&&(scope.sitecontent[scope.elem.elementid]=scope.$parent.sitecontent[scope.elem.elementid],scope.$parent.sitecontent[scope.elem.elementid+"_icon"]&&(scope.sitecontent[scope.elem.elementid+"_icon"]=scope.$parent.sitecontent[scope.elem.elementid+"_icon"]),scope.$parent.sitecontent[scope.elem.elementid+"_link"]&&(scope.sitecontent[scope.elem.elementid+"_link"]=scope.$parent.sitecontent[scope.elem.elementid+"_link"]),scope.$parent.sitecontent[scope.elem.elementid+"_image"]&&(scope.sitecontent[scope.elem.elementid+"_image"]=scope.$parent.sitecontent[scope.elem.elementid+"_image"]),scope.$parent.sitecontent[scope.elem.elementid+"_price"]&&(scope.sitecontent[scope.elem.elementid+"_price"]=scope.$parent.sitecontent[scope.elem.elementid+"_price"]),templ="preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name?$templateCache.get("templates-preview/preview-additional/preview-additional_"+scope.elem.template+".html"):$templateCache.get("templates-editor/additional/additional_"+scope.elem.template+".html")),(null!=scope?scope.elem:void 0)&&(null!=(ref11=scope.sitecontent[scope.elem.elementid])?ref11.clickaction:void 0)&&("preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name)&&element.bind("click",function(event){var scrollelem;return event.preventDefault(),event.stopPropagation(),"href"===scope.sitecontent[scope.elem.elementid].clickaction.type&&window.open(scope.sitecontent[scope.elem.elementid].clickaction.url,"_blank"),"scroll"===scope.sitecontent[scope.elem.elementid].clickaction.type&&(scrollelem=0===$(scope.sitecontent[scope.elem.elementid].clickaction.url).length?$("[modelid="+scope.sitecontent[scope.elem.elementid].clickaction.url.replace("#","")+"]"):$(scope.sitecontent[scope.elem.elementid].clickaction.url),scrollelem&&$("html, body").animate({scrollTop:$(scrollelem).offset().top},300)),"image"===scope.sitecontent[scope.elem.elementid].clickaction.type?$.fancybox.open({src:scope.sitecontent[scope.elem.elementid].src,type:"image"}):void 0}),scope.elem&&$timeout(function(){var child,ref12,ref13,ref14;return(null!=(ref12=scope.sitecontent[scope.elem.elementid])?ref12.modelid:void 0)?(child=$(element).children()[0],"preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name?$(child).attr("id",null!=(ref13=scope.sitecontent[scope.elem.elementid])?ref13.modelid:void 0):$(child).attr("modelid",null!=(ref14=scope.sitecontent[scope.elem.elementid])?ref14.modelid:void 0)):void 0},1001),scope.$on("setadditionalelemalignEvent",function(evt,yelemid,elemid,align){return $(element)&&$(element).children()&&$(element).children().attr("elementid")&&$(element).children().attr("elementid").toString()===elemid?scope.aligncls=align.value:void 0}),scope.elem&&scope.sitecontent[scope.elem.elementid]&&(null!=(ref12=scope.sitecontent[scope.elem.elementid])?ref12.containerid:void 0)&&(containeridElm=$(element).closest(".foruadditionalelements").attr("containerid"),containeridElm&&scope.sitecontent[scope.elem.elementid].containerid.toString()===containeridElm.toString())?(newelem=$compile(templ)(scope),element.html(newelem)):void 0}}})}.call(this),function(){angular.module("YepCom").directive("additionallink",function($templateCache,$compile,$state,$timeout,iframeEvent,$animate){return{restrict:"EA",transclude:!0,link:function(scope,element,attrs){var templ,ulelemid;return scope.currentstate=$state.current.name,scope.elem&&(scope.elem.elementid||(scope.elem.elementid="elforunavbarlink"+scope.$index)),templ="preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name?$templateCache.get("templates-preview/preview-additional/preview-additionallink.html"):$templateCache.get("templates-editor/additional/additionallink.html"),ulelemid=element[0].attributes.ulelementid.nodeValue,-1===ulelemid.indexOf("elforu")&&(scope.cls=scope.$parent.sitecontent[scope.elem.lielementid].classes,scope.stl=scope.$parent.sitecontent[scope.elem.lielementid].style),ulelemid.toString()===$(element).closest("ul").attr("elementid").toString()?(element.attr("elementid",scope.elem.lielementid),element.append(templ),$compile(element.contents())(scope)):void 0}}})}.call(this),function(){angular.module("YepCom").directive("foruarticleblock",function($state,$templateCache,Layout,ExtraBlock,$compile,iframeEvent,$timeout,RandomString,$sce,$rootScope,$sanitize,$window,Website,Article,$interval){return{restrict:"EA",replace:!0,template:'<div class="foruarticleblock" extraname="forublockarticleblock" elementid="elforuarticleblockouter" ng-style="sitecontent.elforuarticleblockouter.style" ng-class="sitecontent.elforuarticleblockouter.classes" ></div>',link:function(scope,element,attrs){return scope.editModeFlag=!1,scope.article={},scope.articles=[],scope.localpreview=!1,scope.trustAsHtml=function(string){var res;return res=$sanitize(string),$sce.trustAsHtml(res)},scope.updateExtraTemplate=function(name){var id;return id=scope.elemdata.extrablock_id.$oid,Layout.updateTemplate(id,name).then(function(templ){return element.html(""),scope.elemdata.templatename=name,scope.elemdata.templatehtml=templ,$compile(templ)(scope,function(newelem){return element.html(newelem)})})},scope.$on("setLayoutelforuarticleblock",function(evt,template,yelemid,classes){var cls;return null==classes&&(classes=null),yelemid===scope.yeid?(cls=scope.sitecontent.elforuarticleblockouter.classes,classes?-1===cls.indexOf(classes)&&(scope.sitecontent.elforuarticleblockouter.classes=classes):-1===cls.indexOf(template)&&(scope.sitecontent.elforuarticleblockouter.classes=template),scope.updateExtraTemplate(template)):void 0}),scope.$on("articleblockchange",function(evt,data){return(null!=data?data.yeid:void 0)===scope.yeid?scope.loadArticle():void 0}),scope.$on("updateAllArticles",function(evt,data){return scope.loadArticle()}),scope.callPostLoadDraw=function(){return $timeout(function(){return scope.blockid?scope.$emit("postLoadDraw",scope.blockid):void 0},300)},scope.loadArticle=function(){var newelem,ref,ref1,ref10,ref11,ref12,ref13,ref14,ref15,ref16,ref17,ref18,ref19,ref2,ref20,ref21,ref22,ref23,ref24,ref27,ref28,ref29,ref3,ref30,ref31,ref4,ref5,ref6,ref7,ref8,ref9,templ;return scope.articles=[],1===(null!=(ref=scope.sitecontent)&&null!=(ref1=ref.articleblock)&&null!=(ref2=ref1.type)?ref2.id:void 0)&&(null!=(ref3=scope.sitecontent)&&null!=(ref4=ref3.articleblock)&&null!=(ref5=ref4.singlearticle)?ref5.id:void 0)&&(templ=$templateCache.get("preview/articles-single-"+scope.template+"/articles-single-"+scope.template+".html"),templ||(templ=$templateCache.get("preview/articles-single/articles-single.html"),newelem=$compile(templ)(scope)),scope.editModeFlag||scope.localpreview?(scope.article="",(null!=(ref6=scope.sitecontent)&&null!=(ref7=ref6.articleblock)&&null!=(ref8=ref7.singlearticle)?ref8.id:void 0)&&Article.getArticleById(scope.siteid,null!=(ref9=scope.sitecontent)&&null!=(ref10=ref9.articleblock)&&null!=(ref11=ref10.singlearticle)?ref11.id:void 0).then(function(){return function(res){var place;return scope.article=res,place=$(element).children().find("#singleArticle"),scope.article["public"]?place.html(newelem):place.html($compile('<h1 style="text-align: center; margin-top: 48px;">\u0414\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u0430</h1>')(scope)),scope.callPostLoadDraw()}}())["catch"](function(error){return void 0})):Article.getSingleArticlePreview(null!=(ref12=scope.sitecontent)&&null!=(ref13=ref12.articleblock)&&null!=(ref14=ref13.singlearticle)?ref14.transname:void 0).then(function(res){var place;return scope.article=res,scope.article["public"]&&(place=$(element).children().find("#singleArticle"),place.html(newelem)),scope.callPostLoadDraw()})),2===(null!=(ref15=scope.sitecontent)&&null!=(ref16=ref15.articleblock)&&null!=(ref17=ref16.type)?ref17.id:void 0)&&(scope.articles=[],templ=$templateCache.get("preview/articles-category-"+scope.template+"/articles-category-"+scope.template+".html"),templ||(templ=$templateCache.get("preview/articles-category/articles-category.html")),scope.editModeFlag||scope.localpreview?Article.getArticles(scope.siteid).then(function(res){var i,item,len,place;for(i=0,len=res.length;len>i;i++)item=res[i],item["public"]&&scope.articles.push(item);return scope.articles.length>0&&(place=$(element).children().find("#allArticles"),newelem=$compile(templ)(scope),place.html(newelem)),scope.callPostLoadDraw()}):Article.getArticlesPreview().then(function(res){var i,item,len,place;for(i=0,len=res.length;len>i;i++)item=res[i],item["public"]&&scope.articles.push(item);return scope.articles.length>0&&(place=$(element).children().find("#allArticles"),newelem=$compile(templ)(scope),place.html(newelem)),scope.callPostLoadDraw()})),3===(null!=(ref18=scope.sitecontent)&&null!=(ref19=ref18.articleblock)&&null!=(ref20=ref19.type)?ref20.id:void 0)&&(null!=(ref21=scope.sitecontent)&&null!=(ref22=ref21.articleblock.singlerubric)?ref22.id:void 0)&&(templ=$templateCache.get("preview/articles-category-"+scope.template+"/articles-category-"+scope.template+".html"),templ||(templ=$templateCache.get("preview/articles-category/articles-category.html")),scope.rubrics=[],scope.articles=[],scope.currentstate="rubrics-all-preview__",scope.editModeFlag||scope.localpreview?Article.getArticlesByRubricEditor(null!=(ref23=scope.sitecontent)&&null!=(ref24=ref23.articleblock.singlerubric)?ref24.id:void 0).then(function(res){var i,item,len,place,ref23;for(ref23=res.articles,i=0,len=ref23.length;len>i;i++)item=ref23[i],item["public"]&&scope.articles.push(item);return scope.articles.length>0&&(place=$(element).children().find("#allArticles"),newelem=$compile(templ)(scope),place.html(newelem)),scope.callPostLoadDraw()}):Article.getArticlesByRubric(null!=(ref27=scope.sitecontent)&&null!=(ref28=ref27.articleblock.singlerubric)?ref28.transname:void 0).then(function(res){var i,item,len,place;for(i=0,len=res.length;len>i;i++)item=res[i],item["public"]&&scope.articles.push(item);return scope.articles.length>0&&(place=$(element).children().find("#allArticles"),newelem=$compile(templ)(scope),place.html(newelem)),scope.callPostLoadDraw()})),4===(null!=(ref29=scope.sitecontent)&&null!=(ref30=ref29.articleblock)&&null!=(ref31=ref30.type)?ref31.id:void 0)?(scope.rubrics=[],templ=$templateCache.get("preview/articles-category-"+scope.template+"/articles-category-"+scope.template+".html"),templ||(templ=$templateCache.get("preview/articles-category/articles-category.html")),scope.currentstate="rubrics-all-preview",scope.editModeFlag||scope.localpreview?Article.getRubrics(scope.siteid).then(function(res){var place;return scope.rubrics=res,scope.rubrics.length>0&&(place=$(element).children().find("#allRubrics"),newelem=$compile(templ)(scope),place.html(newelem)),scope.callPostLoadDraw()}):Article.getAllRubricsPreview().then(function(res){var place;return scope.rubrics=res,scope.rubrics.length>0&&(place=$(element).children().find("#allRubrics"),newelem=$compile(templ)(scope),place.html(newelem)),scope.callPostLoadDraw()})):void 0},scope.loadFakeArticle=function(){var newelem,place,ref,ref1,ref10,ref11,ref12,ref13,ref14,ref2,ref3,ref4,ref5,ref6,ref7,ref8,ref9,templ;return scope.article={body:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",name:"<p>Lorem ipsum dolor sit amet, consectetur</p>",transname:"zapis-3","public":!0,color_theme:null,created_at:"2020-03-11T15:48:37.995+03:00",description:null,itemtype:null,updated_at:"2020-03-11T15:48:38.000+03:00",userdate:null},scope.articles.push(scope.article),scope.articles.push(scope.article),scope.articles.push(scope.article),scope.articles.push(scope.article),scope.articles.push(scope.article),1===(null!=(ref=scope.sitecontent)&&null!=(ref1=ref.articleblock)&&null!=(ref2=ref1.type)?ref2.id:void 0)&&(templ=$templateCache.get("preview/articles-single-"+scope.template+"/articles-single-"+scope.template+".html"),templ||(templ=$templateCache.get("preview/articles-single/articles-single.html")),newelem=$compile(templ)(scope),place=$(element).children().find("#singleArticle"),place.html(newelem),scope.callPostLoadDraw()),2===(null!=(ref3=scope.sitecontent)&&null!=(ref4=ref3.articleblock)&&null!=(ref5=ref4.type)?ref5.id:void 0),3===(null!=(ref6=scope.sitecontent)&&null!=(ref7=ref6.articleblock)&&null!=(ref8=ref7.type)?ref8.id:void 0)||4===(null!=(ref9=scope.sitecontent)&&null!=(ref10=ref9.articleblock)&&null!=(ref11=ref10.type)?ref11.id:void 0)||2===(null!=(ref12=scope.sitecontent)&&null!=(ref13=ref12.articleblock)&&null!=(ref14=ref13.type)?ref14.id:void 0)?(scope.currentstate="rubrics-all-preview__",templ=$templateCache.get("preview/articles-category-"+scope.template+"/articles-category-"+scope.template+".html"),templ||(templ=$templateCache.get("preview/articles-category/articles-category.html")),place=$(element).children().find("#allArticles"),newelem=$compile(templ)(scope),place.html(newelem),scope.callPostLoadDraw()):void 0},scope.init=function(){var i,key,keys,len,ref,ref1,ref2,ref3,ref4,templ;if(scope.settings={logoposition:"logo-hidden",logotext:"",logoimage:"",logotextvalue:""},scope.siteid=scope.$parent.$parent.siteid,(null!=(ref=scope.sitecontent)?ref.articleblock:void 0)||(scope.sitecontent.articleblock={}),!scope.sitecontent.articleblock.type&&(null!=(ref1=scope.sitecontent)&&null!=(ref2=ref1.articleblock)?ref2.articleTypes:void 0)&&(scope.sitecontent.articleblock.type=null!=(ref3=scope.sitecontent)&&null!=(ref4=ref3.articleblock)?ref4.articleTypes[0]:void 0),scope.sitecontent.articleblock.singlearticle||(scope.sitecontent.articleblock.sinlglearticle={}),scope.sitecontent.articleblock.singlerubric||(scope.sitecontent.articleblock.singlerubric=null),"localpreview"===$state.current.name&&(scope.localpreview=!0),"preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name){for(scope.editModeFlag=!1,templ=scope.elemdata.templatehtml.replace(/\&\#39\;/g,"'"),keys=Object.keys(scope.sitecontent),i=0,len=keys.length;len>i;i++)key=keys[i],scope.sitecontent[key]&&scope.sitecontent[key].text&&(templ=templ.replace("ng-model=\"sitecontent['"+key+"']['text']\"","ng-bind-html=\"trustAsHtml(sitecontent['"+key+"']['text'])\""));$compile(templ)(scope,function(newelem){return element.html(newelem)})}else scope.editModeFlag=!0,Website.getWebSite(scope.siteid).then(function(res){var j,len1,settings;if(res.articlesettings){for(settings=res.articlesettings[0],keys=Object.keys(settings),j=0,len1=keys.length;len1>j;j++)key=keys[j],scope.articleSettings[key]=settings[key];return scope.template=scope.articleSettings.theme}}),scope.elemdata&&scope.elemdata.templatename&&(scope.updateExtraTemplate(scope.elemdata.templatename),scope.sitecontent.elforucover&&(scope.sitecontent.elforucover.template=scope.elemdata.templatename));return scope.checkLoad=$interval(function(){var container;return container=$(element).children().find(".container"),container.length>0?($interval.cancel(scope.checkLoad),"previewimage"!==$state.current.name?scope.loadArticle():scope.loadFakeArticle()):void 0},500)},scope.init()}}})}.call(this),function(){angular.module("YepCom").directive("articlecategory",function($templateCache,$compile,Article,$stateParams,$state){return{restrict:"E",replace:!0,scope:{template:"=",settings:"="},link:function(scope,element,attrs){var templ;return scope.currentstate=$state.current.name,scope.rubrics=[],templ=$templateCache.get("preview/articles-category-"+scope.template+"/articles-category-"+scope.template+".html"),
templ||(templ=$templateCache.get("preview/articles-category/articles-category.html")),scope.rssLink=window.location.origin+"/foruarticles/feed",scope.getArticles=function(){return Article.getArticlesPreview().then(function(res){var newelem;return scope.articles=res,newelem=$compile(templ)(scope),element.html(newelem)})},"rubrics-all-preview"===scope.currentstate?Article.getAllRubricsPreview().then(function(res){var newelem;return scope.rubrics=res,newelem=$compile(templ)(scope),element.html(newelem)}):"rubrics-category-preview"===scope.currentstate?Article.getArticlesByRubric($stateParams.transname).then(function(res){var newelem;return scope.articles=res,newelem=$compile(templ)(scope),element.html(newelem)}):scope.getArticles()}}})}.call(this),function(){angular.module("YepCom").directive("articlesingle",function($templateCache,$compile,Article,$stateParams,$sce,$sanitize,$state,$rootScope,Metapreview){return{restrict:"E",replace:!0,scope:{template:"=",settings:"="},link:function(scope,element,attrs){var newelem,templ;return scope.currentstate=$state.current.name,scope.previewstate=!1,scope.previewarticle=!1,"localarticlepreview"===scope.currentstate&&(scope.previewstate=!0),scope.transname=$stateParams.transname,templ=$templateCache.get("preview/articles-single/articles-single-"+scope.template+".html"),templ||(templ=$templateCache.get("preview/articles-single/articles-single.html")),scope.rssLink=window.location.origin+"/foruarticles/feed",scope.getSingleArticle=function(){return Article.getSingleArticlePreview(scope.transname).then(function(res){var newelem;return $rootScope.description=res.name.toString().replace(/<\/?[^>]+(>|$)/g,"").replace(/&nbsp;/gi,""),$rootScope.title=res.name.toString().replace(/<\/?[^>]+(>|$)/g,"").replace(/&nbsp;/gi,""),Metapreview.setTitle($rootScope.title),Metapreview.setDescription($rootScope.description),Metapreview.setKeywords($rootScope.description),scope.article=res,newelem=$compile(templ)(scope),element.html(newelem)})},scope.trustAsHtml=function(string){var r,res;return r=$sanitize(string),res=$sce.trustAsHtml(r)},scope.goToRubric=function(rubric){return Article.getArticlesByRubric(rubric.transname).then(function(res){return void 0})},scope.previewstate?(scope.article=scope.$parent.article,scope.previewarticle=!0,scope.$emit("ArticleLoaded",scope.article),newelem=$compile(templ)(scope),element.html(newelem)):void scope.getSingleArticle()}}})}.call(this),function(){angular.module("YepCom").directive("bannerloader",function($timeout,$state,$ocLazyLoad){return{restrict:"E",replace:!0,link:function(scope,element,attr){"preview2"!==$state.current.name}}})}.call(this),function(){angular.module("YepCom").directive("ddadditionallink",function($templateCache,$compile,$state,$timeout,iframeEvent,$animate){return{restrict:"EA",replace:!0,link:function(scope,element,attrs){var templ,ulelemid;return scope.currentstate=$state.current.name,scope.showddmenu=!1,scope.ddel&&(scope.ddel.elementid||(scope.ddel.elementid="elforunavbarlink"+scope.$index)),scope.showhidemenu=function(val){return scope.showddmenu=!scope.showddmenu},templ="preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name?$templateCache.get("templates-preview/preview-additional/preview-ddadditionallink.html"):$templateCache.get("templates-editor/additional/ddadditionallink.html"),ulelemid=element[0].attributes.ulelementid.nodeValue,-1===ulelemid.indexOf("elforu")&&(scope.cls=scope.$parent.sitecontent[scope.ddel.lielementid].classes,scope.stl=scope.$parent.sitecontent[scope.ddel.lielementid].style),ulelemid.toString()===$(element).closest("ul").attr("elementid").toString()&&(element.attr("elementid",scope.ddel.lielementid),element.append(templ),$compile(element.contents())(scope)),scope.$on("hideNavbar",function(evt){return scope.$parent.showforunavbar=!1})}}})}.call(this),function(){angular.module("YepCom").directive("dynAttr",function(){return{restrict:"A",link:function(scope,element,attrs){var attrname;return attrname=scope.forusocial.replace("elforusoc",""),element.attr("data-foru-"+attrname,"")}}})}.call(this),function(){angular.module("YepCom").directive("fancybox",function($templateRequest,$compile,$templateCache,$timeout){return{scope:!0,restrict:"A",link:function(scope,element,attrs){return scope.usethisimg=function(url){return scope.hasOwnProperty("showCropper")?scope.showCropper(url):scope.$parent.$parent.$parent.$parent.$parent.showCropper(url),$.fancybox.close()},$("[data-fancybox]").fancybox({buttons:["thumbs","close"],arrows:!0,baseClass:"fancybox-gallery-editor",hash:!1,caption:function(instance,item){var author,caption,profile,url,urlImage;return caption=$(this).data("caption")||"",author=$(this).data("author")||"",urlImage=$(this).data("urlimage")||"",profile=$(this).data("profile")||"",url=$(this).attr("href"),"image"===item.type?caption=""!==author?$compile("<a href='"+profile+"?utm_source=Foru&utm_medium=referral' rel='nofollow noopener' target='_blank'>"+author+"</a> &nbsp;|&nbsp; <a href='http://unsplash.com?utm_source=Foru&utm_medium=referral' rel='nofollow noopener' target='_blank'>Unsplash</a>   <br> <span class='gallery-useimg' ng-click='usethisimg(\""+url+"\")'> "+caption+" </span> ")(scope):$compile("<span class='gallery-useimg' ng-click='usethisimg(\""+url+"\")' data-attr-url='"+url+"'  id='usethisimgbtn'> "+caption+" </span> ")(scope):void 0},lang:"ru",autoFocus:!1,backFocus:!1,i18n:{ru:{CLOSE:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",NEXT:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f",PREV:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"}},afterLoad:function(instance,current){return scope.$emit("openFancyBox",current.$image[0]),$timeout(function(){var caption,url;return caption=$("#usethisimgbtn").text(),url=$("#usethisimgbtn").attr("data-attr-url"),$(".fancybox-caption").html($compile("<span class='gallery-useimg' ng-click='usethisimg(\""+url+"\")' data-attr-url='"+url+"'  id='usethisimgbtn'> "+caption+" </span> ")(scope))},700)}})}}})}.call(this),function(){angular.module("YepCom").factory("foruabstractdirective",function($q,$state,Website,$httpParamSerializer,$location,$templateCache,$localStorage,Layout,ExtraBlock,$compile,ngDialog,$injector,$timeout){var updateExtraTemplate2;return $.extend(this),this.element={},this.updateExtraTemplate=function(scope,name,element){var id;return id=scope.elemdata.extrablock_id.$oid,Layout.updateTemplate(id,name).then(function(templ){return element.html(""),scope.elemdata.templatename=name,scope.elemdata.templatehtml=templ,$compile(templ)(scope,function(newelem){return element.html(newelem)})})},updateExtraTemplate2=function(scope,name,element){return new Promise(function(resolve,reject){var id;return id=scope.elemdata.extrablock_id.$oid,Layout.updateTemplate(id,name).then(function(templ){return element.html(""),scope.elemdata.templatename=name,scope.elemdata.templatehtml=templ,$compile(templ)(scope,function(newelem){return element.html(newelem),resolve(1)})})})},this.template=function(directiveName){return"<div class='"+directiveName+" extrablockngnew' extraname='"+directiveName+"' elementid='el"+directiveName+"outer' ng-style='sitecontent.el"+directiveName+"outer.style' ng-class='sitecontent.el"+directiveName+"outer.classes'></div>"},this.init=function(scope,directiveName,element){var i,key,keys,len,templ;if(scope.$on("setLayoutel"+directiveName,function(evt,classes,yelemid){return yelemid===scope.yeid?(scope.sitecontent["el"+directiveName+"outer"].classes=classes,this.updateExtraTemplate(scope,classes)):void 0}),"preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name){for(templ=scope.elemdata.templatehtml.replace(/\&\#39\;/g,"'"),keys=Object.keys(scope.sitecontent),i=0,len=keys.length;len>i;i++)key=keys[i],scope.sitecontent[key]&&scope.sitecontent[key].text&&(templ=templ.replace("ng-model=\"sitecontent['"+key+"']['text']\"","ng-bind-html=\"trustAsHtml(sitecontent['"+key+"']['text'])\""));return $compile(templ)(scope,function(newelem){return element.html(newelem)})}return scope.elemdata&&scope.elemdata.templatename&&(this.updateExtraTemplate(scope,scope.elemdata.templatename,element),scope.sitecontent["el"+directiveName])?scope.sitecontent["el"+directiveName].template=scope.elemdata.templatename:void 0},this.init2=function(scope,directiveName,element){return scope.$on("setLayoutel"+directiveName,function(evt,classes,yelemid){return yelemid===scope.yeid?(scope.sitecontent["el"+directiveName+"outer"].classes=classes,updateExtraTemplate2(scope,classes)):void 0}),new Promise(function(resolve,reject){var i,key,keys,len,templ;if("preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name){for(templ=scope.elemdata.templatehtml.replace(/\&\#39\;/g,"'"),keys=Object.keys(scope.sitecontent),i=0,len=keys.length;len>i;i++)key=keys[i],scope.sitecontent[key]&&scope.sitecontent[key].text&&(templ=templ.replace("ng-model=\"sitecontent['"+key+"']['text']\"","ng-bind-html=\"trustAsHtml(sitecontent['"+key+"']['text'])\""));return $compile(templ)(scope,function(newelem){return element.html(newelem),resolve(1)})}return scope.elemdata&&scope.elemdata.templatename?updateExtraTemplate2(scope,scope.elemdata.templatename,element).then(function(){return scope.sitecontent["el"+directiveName]&&(scope.sitecontent["el"+directiveName].template=scope.elemdata.templatename),resolve(2)}):void 0})},this})}.call(this),function(){angular.module("YepCom").directive("foruadditionalcolumns",function($compile,$interval,$localStorage,$timeout,$sce,elementPreparer,$templateCache,$rootScope,RandomString,$state){return{restrict:"EAC",replace:!0,transclude:!0,link:function(scope,element,attrs){var children,gg,html,ref,ref1;return scope.columnclass="",scope.ngStyle="",scope.replaceTinymce=function(obj){var item;for(item in obj)obj.hasOwnProperty(item)&&("object"==typeof obj[item]&&null!==obj[item]?scope.replaceTinymce(obj[item]):"uiTinymce"===item&&"tinymceOptions"===obj[item]&&(obj.ngBindHtml="trustAsHtml("+obj.ngModel+")",delete obj.uiTinymce))},scope.updateAttrs=function(){var cl,i,len,ref,ref1,ref10,ref11,ref12,ref13,ref14,ref15,ref16,ref17,ref2,ref3,ref4,ref5,ref6,ref7,ref8,ref9,resclasscnt;if(resclasscnt=0,(null!=(ref=scope.elem)&&null!=(ref1=ref.attributes)?ref1.className.length:void 0)>0)for(ref4=null!=(ref2=scope.elem)&&null!=(ref3=ref2.attributes)?ref3.className:void 0,i=0,len=ref4.length;len>i;i++)cl=ref4[i],cl||""===cl||(resclasscnt+=1);return resclasscnt>0?scope.columnclass=null!=(ref5=scope.elem)&&null!=(ref6=ref5.attributes)?ref6.className.join(" "):void 0:scope.columnclass=null!=(ref7=scope.sitecontent[null!=(ref8=scope.elem)&&null!=(ref9=ref8.attributes)?ref9.elementid:void 0])?ref7.classes:void 0,scope.ngStyle=null!=(ref10=scope.elem)&&null!=(ref11=ref10.attributes)?ref11.ngStyle:void 0,scope.ngClass=null!=(ref12=scope.elem)&&null!=(ref13=ref12.attributes)?ref13.ngClass:void 0,"none"===(null!=(ref14=scope.sitecontent[null!=(ref15=scope.elem)&&null!=(ref16=ref15.attributes)?ref16.elementid:void 0])&&null!=(ref17=ref14.style)?ref17.display:void 0)?$(element).attr({style:"display: none;"}):$(element).attr({style:""})},scope.elementid=null!=(ref=scope.elem)&&null!=(ref1=ref.attributes)?ref1.elementid:void 0,scope.updateAttrs(),scope.$on("changeAdditionalClass",function(event,classes,id){return id===scope.elementid?scope.updateAttrs():void 0}),("preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name)&&scope.replaceTinymce(scope.elem),children=Himalaytranslate.toHTML(scope.elem.children),children=children.replace(/\[\'/g,".").replace(/\'\]/g,""),html=""+children,gg=$compile(html)(scope),element.html(gg)}}})}.call(this),function(){angular.module("YepCom").directive("foruadvblockpreview",function(Advertisement,$state,$rootScope){return{restrict:"E",replace:!0,templateUrl:"/assets/templates-public/preview/foruadvblockpreview/foruadvblockpreview.html?"+(window.yepbuildversion||Math.floor(1e8*Math.random())),link:function(scope,element,attrs){var host;return scope.previewstate=!1,("preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name)&&(scope.previewstate=!0),scope.previewstate?(host=window.location.host,host.indexOf(":3000")>-1&&(host=host.replace(":3000","")),Advertisement.getRandomAdvertisement(host).then(function(res){var id;return res.text1?(scope.advcompanyname=res.text1,scope.advcompanydescr=res.text2,id=res._id.$oid,host=window.location.host,scope.sitelink2="/api/v1/eastereggs/redirecttoegg/?adv_id="+id+"&host="+host,scope.sitelink=res.alt_url||res.url):void 0})):void 0}}})}.call(this),function(){angular.module("YepCom").directive("foruclearblock",function($state,$templateCache,Layout,ExtraBlock,$compile,$interval){return{restrict:"EA",replace:!0,template:'<div class="foruclearblock extrablockngnew" extraname="foruclearblock" elementid="elforuclearblockouter" ng-style="sitecontent.elforuclearblockouter.style" ng-class="sitecontent.elforuclearblockouter.classes"></div>',link:function(scope,element,attrs){var i,key,keys,len,ref,ref1,templ;if(scope.updateExtraTemplate=function(name){var id;return id=scope.elemdata.extrablock_id.$oid,Layout.updateTemplate(id,name).then(function(templ){return element.html(""),scope.elemdata.templatename=name,scope.elemdata.templatehtml=templ,$compile(templ)(scope,function(newelem){return element.html(newelem)})})},scope.$on("setLayoutelforuclearblockouter",function(evt,template,yelemid,classes){var cls;return null==classes&&(classes=null),yelemid===scope.yeid?(cls=scope.sitecontent.elforuclearblockouter.classes,classes?-1===cls.indexOf(classes)&&(scope.sitecontent.elforuclearblockouter.classes=classes):-1===cls.indexOf(template)&&(scope.sitecontent.elforuclearblockouter.classes=template),scope.updateExtraTemplate(template)):void 0}),scope.sitecontent.elforuclearblockouter||(scope.sitecontent.elforuclearblockouter={}),scope.sitecontent.elforuclearblockouter.style||(scope.sitecontent.elforuclearblockouter.style={}),scope.sitecontent.elforuclearblockouter.style["min-height"]||(scope.sitecontent.elforuclearblockouter.style["min-height"]=null!=(ref=scope.sitecontent)&&null!=(ref1=ref.clearblock)?ref1.minheight:void 0),"preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name){for(templ=scope.elemdata.templatehtml.replace(/\&\#39\;/g,"'"),keys=Object.keys(scope.sitecontent),i=0,len=keys.length;len>i;i++)key=keys[i],scope.sitecontent[key]&&scope.sitecontent[key].text&&(templ=templ.replace("ng-model=\"sitecontent['"+key+"']['text']\"","ng-bind-html=\"trustAsHtml(sitecontent['"+key+"']['text'])\""));return $compile(templ)(scope,function(newelem){return element.html(newelem)})}return scope.elemdata&&scope.elemdata.templatename&&(scope.updateExtraTemplate(scope.elemdata.templatename),scope.sitecontent.elforuclearblock)?scope.sitecontent.elforuclearblock.template=scope.elemdata.templatename:void 0}}})}.call(this),function(){angular.module("YepCom").directive("forucountdown",function($state,$interval,$timeout,$compile,$ocLazyLoad){return{restrict:"EA",replace:!0,scope:{countdowndata:"="},link:function(scope,element,attrs){return scope.outerelementid=attrs.elementid.trim(),$ocLazyLoad.load({cache:!0},{name:"forucountdown-defer.js",files:["/assets/js/forucountdown-defer.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(){var tmpl;tmpl='<forucountdown-defer countdowndata="countdowndata" outerid="outerelementid"></forucountdown-defer>',$compile(tmpl)(scope,function(newelem){$(element).append(newelem)})})}}})}.call(this),function(){angular.module("YepCom").directive("foruDateTime",function($timeout,$ocLazyLoad){return{restrict:"EAC",replace:!0,template:'<input type="text" id="datetimepicker{{idpicker}}{{mode}}" class="form-control" placeholder="{{placeholderpicker}}">',scope:{ngModel:"=ngModel",timestamp:"=?",idpicker:"@",placeholderpicker:"@",mode:"@"},link:function(scope,element,attrs){return $timeout(function(){return $ocLazyLoad.load(["/assets/moment-with-locales.js","/script/bootstrap-datetimepicker.min.css","/script/angular-moment-picker.min.css"]).then(function(){return $ocLazyLoad.load(["/assets/bootstrap-datetimepicker.min.js?l=1"]).then(function(){var dateText;return dateText="","dateTimePicker"===scope.mode&&($("#datetimepicker"+scope.idpicker+scope.mode).datetimepicker({locale:"ru____"}),$("#datetimepicker"+scope.idpicker+scope.mode).on("dp.change",function(e){dateText=moment(e.date).format("DD.MM.YYYY HH:mm"),scope.ngModel=dateText,scope.$apply()})),"dateTimePickerUnix"===scope.mode&&($("#datetimepicker"+scope.idpicker+scope.mode).datetimepicker({locale:"ru____"}),$("#datetimepicker"+scope.idpicker+scope.mode).on("dp.change",function(e){dateText=moment(e.date).format("DD.MM.YYYY HH:mm"),scope.ngModel=dateText,scope.timestamp=moment(e.date),scope.$apply()})),"datePicker"===scope.mode?($("#datetimepicker"+scope.idpicker+scope.mode).datetimepicker({locale:"ru____",format:"DD.MM.YYYY"}),$("#datetimepicker"+scope.idpicker+scope.mode).on("dp.change",function(e){dateText=moment(e.date).format("DD.MM.YYYY"),scope.ngModel=dateText,scope.$apply()})):void 0})})},100)}}})}.call(this),function(){angular.module("YepCom").directive("foruhtmlblock",function($state,$templateCache,Layout,ExtraBlock,$compile,$interval,$ocLazyLoad,$timeout,RandomString,$sce,$sanitize){return{restrict:"EA",replace:!0,template:'<div class="foruhtmlblock extrablockngnew" extraname="foruhtmlblock" elementid="elforuhtmlblockouter" ng-style="sitecontent.elforuhtmlblockouter.style" ng-class="sitecontent.elforuhtmlblockouter.classes"></div>',link:function(scope,element,attrs){return scope.updateExtraTemplate=function(name){var id;return id=scope.elemdata.extrablock_id.$oid,Layout.updateTemplate(id,name).then(function(templ){return element.html(""),scope.elemdata.templatename=name,scope.elemdata.templatehtml=templ,$compile(templ)(scope,function(newelem){return element.html(newelem)})})},scope.$on("setLayoutelforuhtmlblockouter",function(evt,template,yelemid,classes){var cls;return null==classes&&(classes=null),yelemid===scope.yeid?(cls=scope.sitecontent.elforuhtmlblockouter.classes,classes?-1===cls.indexOf(classes)&&(scope.sitecontent.elforuhtmlblockouter.classes=classes):-1===cls.indexOf(template)&&(scope.sitecontent.elforuhtmlblockouter.classes=template),scope.updateExtraTemplate(template)):void 0}),scope.initEditor=function(){var edElm,editor;return edElm=$("[yelemid='"+scope.yeid+"']").find(".foruhtmleditorarea"),edElm&&edElm.length>0?(editor=ace.edit(edElm[0]),editor.setTheme("ace/theme/dawn"),editor.session.setMode("ace/mode/html"),editor.setFontSize(16),editor.setOptions({maxLines:Infinity}),editor.getSession().setUseWorker(!1),editor.setValue(scope.sitecontent.foruhtmlcontent.html),editor.clearSelection(),editor.gotoPageUp(),editor.on("change",function(e){return scope.sitecontent.foruhtmlcontent.html=editor.getValue()})):void 0},scope.hideAttr=function(attr){var edElm,eidElm,eqidElm,valElm;return edElm=$("[yelemid='"+scope.yeid+"']").find(".foruhtmleditorarea"),eidElm=$(edElm[0]).find("span:contains('"+attr+"')"),$(eidElm).css({display:"none",width:0}),eqidElm=$(eidElm).next(),$(eqidElm).css({display:"none",width:0}),valElm=$(eqidElm).next(),$(valElm).css({display:"none",width:0})},scope.hideAttrs=function(){return void 0},scope.switchHtmlviewmode=function(mode){return scope.foruHtmlBlockView=!scope.foruHtmlBlockView,scope.init()},scope.init=function(){var ref,templ;return scope.isForuHtmlBlock=!0,scope.sitecontent.foruhtmlcontent||(scope.sitecontent.foruhtmlcontent={}),(null!=(ref=scope.sitecontent.foruhtmlcontent)?ref.html:void 0)||(scope.sitecontent.foruhtmlcontent.html="<div>Insert your HTML here</div>"),"preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name?(jQuery.ajaxPrefilter("script",function(options){return options.cache=!0}),templ=scope.sitecontent.foruhtmlcontent.html,$compile(templ)(scope,function(newelem){return element.html(newelem),$timeout(function(){return jQuery.ajaxPrefilter("script",function(options){return options.cache=!1})},300)})):scope.foruHtmlBlockView?(templ="<div class='foruhtmlblockeditor container'><div class='row f-btn' ><div class='col-md-12'><pre class='foruhtmleditorarea' elementid='foruhtmlcontent'></pre></div></div>  </div>",$compile(templ)(scope,function(newelem){return element.html(newelem),$ocLazyLoad.load({files:["/assets/js/ace-builds/src-min/ace.js"]}).then(function(){return $timeout(function(){return scope.initEditor()},500)})["catch"](function(e){return void 0})})):(templ=$sanitize(scope.sitecontent.foruhtmlcontent.html),$compile(templ)(scope,function(newelem){return element.html(newelem)}))},scope.foruHtmlBlockView=!0,scope.init()}}})}.call(this),function(){angular.module("YepCom").directive("forunews",function($timeout,News,ngDialog,$rootScope,toaster,iframeEvent,$state,$sce,$stateParams,$sanitize,Metapreview,$ocLazyLoad,$compile){return{restrict:"E",templateUrl:function(elem,attrs){return attrs.templateUrl||"templates-editor-preview-forunews/forunews/forunews-default/forunews-default.html"},scope:{siteid:"=",sitecontent:"="},link:function(scope,element,attrs){var locationparams;return scope.pageName=$stateParams.pageid,scope.singlePagePostView=!1,scope.showPostComments=!0,scope.showPostShareButtons=!0,locationparams=window.location.search,scope.avatar="",scope.usrData={},"preview2"!==$state.current.name?scope.pointerclass="noclick":scope.pointerclass="",scope.$on("sendUserDataEvent",function(evt,data,from_auth_form){return data?(scope.usrData.data=data,scope.usrData.from_auth_form=from_auth_form,scope.$broadcast("userdataEvent",data,from_auth_form)):void 0}),scope.getUrlParameter=function(name){var regex,results;return name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),regex=new RegExp("[\\?&]"+name+"=([^&#]*)"),results=regex.exec(location.search),null===results?"":decodeURIComponent(results[1].replace(/\+/g," "))},scope.showItem=function(id,noScroll){return null==noScroll&&(noScroll=!1),scope.showitemsid[id]=!0,scope.sitecontent.elforublogsettings&&scope.sitecontent.elforublogsettings.singlepostview&&(scope.singlePagePostView=!0,scope.singlePagePostId=id),noScroll||$timeout(function(){return $("html, body").animate({scrollTop:$("[newsitemid="+id+"]").offset().top-50},300)},100),$timeout(function(){return window.prerenderReady=!0},2e3)},scope.showitemsid={},scope.newsdata={},scope.state=$state.current.name,scope.$on("updateBlogPosts",function(evt){return scope.showAllNews()}),scope.getAvatar=function(){return"templatepreview"===$state.current.name||"previewimage"===$state.current.name||"preview2"===$state.current.name?News.getAvatar(scope.siteid).then(function(res){return scope.avatar=res.image_url}):$timeout(function(){var ref,ref1,ref2;return scope.avatar=null!=(ref=scope.$parent.$parent.$parent.$parent)&&null!=(ref1=ref.user)&&null!=(ref2=ref1.usersettings)?ref2.image_url:void 0},1e3)},$timeout(function(){return scope.getAvatar()},10),scope.showAllNews=function(){return scope.sitecontent&&scope.sitecontent.elforublogsettings&&(scope.sitecontent.elforublogsettings.showpostcomments?scope.showPostComments=!0:scope.showPostComments=!1,scope.sitecontent.elforublogsettings.showpostsharebuttons?scope.showPostShareButtons=!0:scope.showPostShareButtons=!1),"preview2"!==$state.current.name?"previewimage"===$state.current.name?$ocLazyLoad.load({cache:!0},{name:"newsitemcommentform",files:["/assets/js/newsitemcommentform.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(){return News.getNewsPreviewBySiteId(scope.siteid).then(function(res){return scope.newsdata.forunews=res,scope.$emit("recalculateBlockHeight","newslist")})}):"templatepreview"===$state.current.name?$ocLazyLoad.load({cache:!0},{name:"newsitemcommentform",files:["/assets/js/newsitemcommentform.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(){return News.getNewsItemPreview().then(function(res){return scope.newsdata.forunews=res,scope.$emit("recalculateBlockHeight","newslist")})}):$ocLazyLoad.load({cache:!0},{name:"newsitemcommentform",files:["/assets/js/newsitemcommentform.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(){return News.getNews(scope.siteid).then(function(res){var blogarray,i,id,len,r,realid;for(scope.$emit("recalculateBlockHeight","newslist"),blogarray=[],i=0,len=res.length;len>i;i++)r=res[i],r["public"]&&blogarray.push(r);return scope.newsdata.forunews=blogarray,"true"===scope.getUrlParameter("showitem")?scope.showItem(scope.getUrlParameter("forunewsid")):(id=scope.getUrlParameter("forunewsid"),id&&id.toString().indexOf("rss_showitem")>-1?(realid=id.split("_")[0],scope.showItem(realid)):void 0)})}):(window.prerenderReady=!1,$ocLazyLoad.load({cache:!0},{name:"newsitemcommentform",files:["/assets/js/newsitemcommentform.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(){return News.getNewsPreview().then(function(res){var blogarray,i,id,len,r,realid;for(scope.$emit("recalculateBlockHeight","newslist"),blogarray=[],i=0,len=res.length;len>i;i++)r=res[i],r["public"]&&blogarray.push(r);return scope.newsdata.forunews=blogarray,"true"===scope.getUrlParameter("showitem")?scope.showItem(scope.getUrlParameter("forunewsid")):(id=scope.getUrlParameter("forunewsid"),id&&id.toString().indexOf("rss_showitem")>-1?(realid=id.split("_")[0],scope.showItem(realid)):window.prerenderReady=!0)})}))},scope.showAllNews(),scope.trustAsHtml=function(string){var res;return res=$sanitize(string),$sce.trustAsHtml(res)},scope.setLocation=function(newsitem,val,event){var ref,ref1;return event.preventDefault(),event.stopPropagation(),val===!0?(history.replaceState(null,null,document.location.pathname+"?forunewsid="+newsitem._id.$oid+"&showitem=true"),scope.showitemsid[newsitem._id.$oid]=!0,scope.showItem(newsitem._id.$oid,val)):(history.replaceState(null,null,document.location.pathname),scope.showitemsid[newsitem._id.$oid]=!1,Metapreview.setTitle(null!=(ref=scope.$root)?ref.title:void 0),Metapreview.setDescription((null!=(ref1=scope.$root)?ref1.description:void 0)||""),scope.singlePagePostView=!1)}}}})}.call(this),function(){angular.module("YepCom").directive("forupiechart",function($state,$interval,$timeout,RandomString,$ocLazyLoad){return{restrict:"EA",replace:!0,template:'<div><div id="{{chartId}}" style="width: 100%; height: 100%;" class="f-btn"></div></div>',scope:{chartdata:"="},link:function(scope,element,attrs){return scope.data=[],scope.setData=function(data){var intrvl;return intrvl=$interval(function(){return window.hasOwnProperty("am4themes_animated")?($interval.cancel(intrvl),scope.setData_(data)):void 0},100)},scope.setData_=function(data){return am4core.ready(function(){var colorList,i,item,len,ref;for(am4core.useTheme(am4themes_animated),scope.chart=am4core.create(scope.chartId,am4charts.PieChart3D),scope.chart.hiddenState.properties.opacity=0,scope.chart.responsive.enabled=!0,(null!=(ref=scope.chartdata)?ref.legend:void 0)&&(scope.chart.legend=new am4charts.Legend,scope.chart.legend.valueLabels.template.text="{value.value} ({value.percent.formatNumber('#.0')}%)"),scope.chart.data=data,colorList=[],i=0,len=data.length;len>i;i++)item=data[i],colorList.push(am4core.color(item.color));return scope.series=scope.chart.series.push(new am4charts.PieSeries3D),scope.series.dataFields.value="value",scope.series.dataFields.category="name",scope.series.colors.list=colorList,scope.series.labels.template.text="{category} {value.value} ({value.percent.formatNumber('#.0')}%)",scope.series.slices.template.tooltipText="{category} {value.value} ({value.percent.formatNumber('#.0')}%)"})},scope.drawChart=function(data){return window.am4core?$timeout(function(){return scope.setData(data)},2e3):$ocLazyLoad.load({cache:!0,files:["/assets/amcharts4/core.js"]}).then(function(){return $ocLazyLoad.load({cache:!0,files:["/assets/amcharts4/charts.js","/assets/amcharts4/themes/animated.js"]}).then(function(){return scope.setData(data)})})},scope.init=function(){var ref;return scope.chartId="chart_"+RandomString.generateRandomString(32).toLowerCase(),(null!=(ref=scope.chartdata)?ref.dataset.length:void 0)>0&&scope.drawChart(scope.chartdata.dataset),scope.$watchCollection("chartdata",function(newVal,oldVal){var ref1;return scope.chart&&(null!=(ref1=scope.chartdata)?ref1.dataset.length:void 0)>0?scope.setData(scope.chartdata.dataset):void 0}),scope.$watchCollection("chartdata.legend",function(newVal,oldVal){var ref1;return scope.chart&&(null!=(ref1=scope.chartdata)?ref1.dataset.length:void 0)>0?scope.drawChart(scope.chartdata.dataset):void 0})},$timeout(function(){return scope.init()},200)}}})}.call(this),function(){angular.module("YepCom").directive("forushopcategory",function($rootScope,$templateCache,$compile,$stateParams,$state,Previewshopsiteitems,Shopsite,Shopsitecategories,Previewshopsitecategories,$timeout,Metapreview,$sce,$sanitize,$ocLazyLoad){return{restrict:"E",replace:!0,scope:{template:"=",siteid:"=",shopsite:"="},link:function(scope,element,attrs){return scope.editMode=!1,scope.viewType={},scope.imageViewTypes=[{"class":"",name:"\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"},{"class":"shopImage-contain",name:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0446\u0435\u043b\u0438\u043a\u043e\u043c"}],scope.currentstate=$state.current.name,scope.previewstate=!1,scope.category_id=$stateParams.category_id,scope.showpagenotfound=!1,scope.currentCurrencyName="\u0440\u0443\u0431",scope.showproductloader=!0,scope.categoryLink=window.location.href,scope.addProductToCart=function(product){return scope.$emit("addToCartEvent",product)},scope.getCategoryProducts=function(){return Previewshopsitecategories.getCategoryProducts(scope.siteid,scope.category_id).then(function(res){return scope.forushopitems=res.items,scope.category=res,$rootScope.title=scope.category.name,$rootScope.description=scope.category.description,Metapreview.setTitle($rootScope.title),Metapreview.setDescription($rootScope.description),scope.showproductloader=!1})},scope.trustAsHtml=function(string){var r,res;return r=$sanitize(string),res=$sce.trustAsHtml(r)},scope.init=function(){var newelem,templ;return scope.shopsite&&(scope.shopsite.currency&&(scope.currentCurrencyName=scope.shopsite.currency),scope.shopsite.viewtype&&"default"!==scope.shopsite.viewtype&&$(element).addClass(scope.shopsite.viewtype),scope.shopsite.viewoptions&&(scope.viewOptions=scope.shopsite.viewoptions)),"forushop-category-preview"===scope.currentstate&&(scope.previewstate=!0),templ=$templateCache.get("preview/forushop-category/forushop-category-"+scope.template+"/forushop-category-"+scope.template+".html"),templ?void 0:(templ=$templateCache.get("preview/forushop-category/forushop-category-default/forushop-category-default.html"),scope.previewstate&&(scope.getCategoryProducts(),$timeout(function(){return scope.category_id?void 0:scope.showpagenotfound=!0},500)),newelem=$compile(templ)(scope),element.html(newelem))},$ocLazyLoad.load({cache:!0},{name:"addtocartbtn.js",files:["/assets/js/addtocartbtn.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(){return scope.init()})}}})}.call(this),function(){angular.module("YepCom").directive("forushopcollections",function($timeout,$state,$stateParams,Shopsitecategories,Previewshopsitecategories,toaster){return{restrict:"A",templateUrl:function(element,attrs){return"shopextrablocks/eb_"+attrs.type+"_"+attrs.layout+".html"},scope:{forusiteid:"=",type:"=",layout:"=",forupageid:"="},link:function(scope,element,attrs){return scope.currentstate=$state.current.name,scope.category_transname=$stateParams.category_transname,scope.$on("SitePagesAll",function(event,data){var i,len,page,results;for(results=[],i=0,len=data.length;len>i;i++)page=data[i],page.uuid===scope.forupageid?(scope.currentpage=page.name,results.push(void 0)):results.push(void 0);return results}),scope.getAllCollections=function(){return"category-preview"===scope.currentstate||"product-preview"===scope.currentstate||"preview2"===scope.currentstate?Previewshopsitecategories.getCategoriesList(scope.forusiteid).then(function(collections){
var collection,i,len,results;for(scope.shopcollections=collections,results=[],i=0,len=collections.length;len>i;i++)collection=collections[i],collection.transname===scope.category_transname?results.push(scope.currentcollection=collection):results.push(void 0);return results}):Shopsitecategories.getCategoriesList(scope.forusiteid).then(function(collections){return scope.shopcollections=collections,scope.currentcollection=collections[0]})},scope.getAllCollections()}}})}.call(this),function(){angular.module("YepCom").directive("forushoplogo",function($timeout,$rootScope){return{restrict:"A",templateUrl:function(element,attrs){return"shopextrablocks/eb_shoplogo_"+attrs.layout+".html"},scope:{forusiteid:"=",site:"=",layout:"="},link:function(scope,element,attrs){return void 0}}})}.call(this),function(){angular.module("YepCom").directive("forushopproduct",function($rootScope,$templateCache,$compile,$stateParams,$state,Previewshopsiteitems,Shopsite,Shopsitecategories,Previewshopsitecategories,$timeout,toaster,Metapreview,$sce,$sanitize,$ocLazyLoad){return{restrict:"E",replace:!0,scope:{template:"=",siteid:"=",shopsite:"="},link:function(scope,element,attrs){return scope.currentstate=$state.current.name,scope.previewstate=!1,scope.category_id=$stateParams.category_id,scope.product_id=$stateParams.product_id,scope.showpagenotfound=!1,scope.currentCurrencyName="\u0440\u0443\u0431",scope.viewOptions={sku:{enable:!0},amount:{enable:!0},oldprice:{enable:!0},color:{enable:!1},productColors:[],size:{enable:!1},productSizes:[]},scope.setCurrentImage=function(image){return scope.currentimage=image},scope.selectProductColor=function(product,color){return product.color=color.color,product.colorText=color.title},scope.addProductToCart=function(product){var ref,ref1;if(scope.viewOptions.color.enable&&!product.color){if((null!=product&&null!=(ref=product.colors)?ref.length:void 0)>1)return void toaster.pop("warning","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0446\u0432\u0435\u0442","\u0414\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0442\u043e\u0432\u0430\u0440\u0430 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443 \u043d\u0430\u0434\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0435\u0433\u043e \u0446\u0432\u0435\u0442");1===(null!=product&&null!=(ref1=product.colors)?ref1.length:void 0)&&(product.color=product.colors[0])}return scope.$emit("addToCartEvent",product)},scope.getForuShopCategoriesList=function(){return Previewshopsitecategories.getCategoriesList(scope.siteid).then(function(res){return scope.selectedcategory=res.filter(function(obj){return obj.id===parseInt(scope.category_id)})[0]})},scope.getSingleProductPreview=function(){return Previewshopsiteitems.getShopItem(scope.siteid,scope.category_id,scope.product_id).then(function(res){var arr,colors,i,item;if(scope.product=res,res.colors){for(colors=[],i=0;i<res.colors.length;)arr=res.colors[i].split(";"),item={color:arr[0],title:arr[1]||""},colors.push(item),i++;scope.product.colors=colors}return $rootScope.title=res.name,$rootScope.description=res.description,Metapreview.setTitle($rootScope.title),Metapreview.setDescription($rootScope.description),scope.showpagenotfound=!1,scope.product.images&&(scope.currentimage=scope.product.images[0]),scope.getForuShopCategoriesList()})},scope.trustAsHtml=function(string){var r,res;return r=$sanitize(string),res=$sce.trustAsHtml(r)},scope.init=function(){var newelem,ref,templ;return scope.shopsite&&(scope.shopsite.currency&&(scope.currentCurrencyName=scope.shopsite.currency),(null!=(ref=scope.shopsite)?ref.viewoptions:void 0)&&(scope.viewOptions=scope.shopsite.viewoptions)),"forushop-product-preview"===scope.currentstate&&(scope.previewstate=!0),templ=$templateCache.get("preview/forushop-product/forushop-product-"+scope.template+"/forushop-product-"+scope.template+".html"),templ||(templ=$templateCache.get("preview/forushop-product/forushop-product-default/forushop-product-default.html")),scope.previewstate&&(scope.getSingleProductPreview(),$timeout(function(){return scope.product?void 0:scope.showpagenotfound=!0},500)),newelem=$compile(templ)(scope),element.html(newelem)},$ocLazyLoad.load({cache:!0},{name:"addtocartbtn.js",files:["/assets/js/addtocartbtn.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(res){return scope.init()})}}})}.call(this),function(){angular.module("YepCom").directive("forushopproducts",function($timeout,$localStorage,ngDialog,Previewshopsiteitems,$state,$stateParams,Shopsitecategories,Previewshopsitecategories,toaster,$ocLazyLoad,$injector){var contentUrl;return contentUrl="",{restrict:"A",templateUrl:function(element,attrs,$ocLazyLoad){return"shopextrablocks/eb_"+attrs.type+"_"+attrs.layout+".html"},scope:{forusiteid:"=",type:"=",layout:"=",paginateval:"=",forupageid:"="},link:function(scope,element,attrs){return scope.currentstate=$state.current.name,scope.category_transname=$stateParams.category_transname,scope.product_transname=$stateParams.product_transname,scope.prodquantity=1,scope.getColProducts=function(id){return"category-preview"===scope.currentstate||"product-preview"===scope.currentstate||"preview2"===scope.currentstate?Previewshopsitecategories.getCategoryProducts(scope.forusiteid,id).then(function(collection){var i,len,product,ref,results;for(scope.currentcollection=collection,ref=collection.items,results=[],i=0,len=ref.length;len>i;i++)product=ref[i],product.transname===scope.product_transname?results.push(scope.getCurrentProduct(scope.currentcollection.id,product.id)):results.push(void 0);return results}):Shopsitecategories.getCategoryProducts(scope.forusiteid,id).then(function(collection){return scope.currentcollection=collection,scope.firstproduct=collection.items[0],scope.getCurrentProduct(scope.currentcollection.id,scope.firstproduct.id)})},scope.watchAllCollections=function(){return"category-preview"===scope.currentstate||"product-preview"===scope.currentstate||"preview2"===scope.currentstate?Previewshopsitecategories.getCategoriesList(scope.forusiteid).then(function(collections){var collection,i,j,len,len1,results,results1;if(scope.shopcollections=collections,"preview2"===scope.currentstate){for(results=[],i=0,len=collections.length;len>i;i++)collection=collections[i],collection.maincat?(scope.currentcollection=collection,results.push(scope.getColProducts(scope.currentcollection.id))):results.push(void 0);return results}for(results1=[],j=0,len1=collections.length;len1>j;j++)collection=collections[j],collection.transname===scope.category_transname?(scope.currentcollection=collection,results1.push(scope.getColProducts(scope.currentcollection.id))):results1.push(void 0);return results1}):Shopsitecategories.getCategoriesList(scope.forusiteid).then(function(collections){return scope.shopcollections=collections,scope.getColProducts(scope.shopcollections[0].id)})},scope.watchAllCollections(),scope.getCurrentProduct=function(category_id,item_id){return"category-preview"===scope.currentstate||"product-preview"===scope.currentstate||"preview2"===scope.currentstate?Previewshopsiteitems.getShopItem(scope.forusiteid,category_id,item_id).then(function(res){return scope.product=res}):$ocLazyLoad.load({cache:!0},{name:"shopsiteitems.js",files:["/assets/js/services/shopsiteitems.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(){var Shopsiteitems;return Shopsiteitems=$injector.get("Shopsiteitems"),Shopsiteitems.getShopItem(scope.forusiteid,category_id,item_id).then(function(res){return scope.product=res})})},scope.addToCart=function(product,quantity){return scope.$emit("addToCartEvent",product,quantity)}}}})}.call(this),function(){angular.module("YepCom").directive("forusidemenu",function($state,$timeout){return{restrict:"EA",replace:!0,template:'<div class="forusidemenu"><foru-data-structure></foru-data-structure></div>',scope:{},link:function(scope,element,attrs){}}})}.call(this),function(){angular.module("YepCom").directive("forusoberu",function($state,Layout,ExtraBlock,$templateCache,$rootScope,$compile,toaster,ngDialog,$stateParams,Image,Page,$localStorage){return{restrict:"EA",replace:!0,template:'<div class="forusoberu extrablockngnew" extraname="forusoberu" elementid="elforusoberuouter" ng-style="sitecontent.elforusoberuouter.style" ng-class="sitecontent.elforusoberuouter.classes"></div>',link:function(scope,element,attrs){var i,key,keys,len,templ;if(scope.updateExtraTemplate=function(name){var id;return id=scope.elemdata.extrablock_id.$oid,Layout.updateTemplate(id,name).then(function(templ){return element.html(""),scope.elemdata.templatename=name,scope.elemdata.templatehtml=templ,$compile(templ)(scope,function(newelem){return element.html(newelem)})})},scope.$on("setLayoutelforusoberu",function(evt,template,yelemid,classes){var cls;return null==classes&&(classes=null),yelemid===scope.yeid?(cls=scope.sitecontent.elforusoberuouter.classes,classes?-1===cls.indexOf(classes)&&(scope.sitecontent.elforusoberuouter.classes=classes):-1===cls.indexOf(template)&&(scope.sitecontent.elforusoberuouter.classes=template),scope.updateExtraTemplate(template)):void 0}),"preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name){for(templ=scope.elemdata.templatehtml.replace(/\&\#39\;/g,"'"),keys=Object.keys(scope.sitecontent),i=0,len=keys.length;len>i;i++)key=keys[i],scope.sitecontent[key]&&scope.sitecontent[key].text&&(templ=templ.replace("ng-model=\"sitecontent['"+key+"']['text']\"","ng-bind-html=\"trustAsHtml(sitecontent['"+key+"']['text'])\""));return $compile(templ)(scope,function(newelem){return element.html(newelem)})}return scope.elemdata&&scope.elemdata.templatename&&(scope.updateExtraTemplate(scope.elemdata.templatename),scope.sitecontent.elforusoberu)?scope.sitecontent.elforusoberu.template=scope.elemdata.templatename:void 0}}})}.call(this),function(){angular.module("YepCom").directive("forustopcarousel",function($timeout){return{restrict:"E",link:function(scope,element,attrs){return $timeout(function(){return $(".carousel").carousel({interval:!1})},1e3)}}})}.call(this),function(){angular.module("YepCom").directive("foruwmmerchant",function($state,$rootScope,$compile,toaster,ngDialog,$timeout,$ocLazyLoad){return{restrict:"EA",link:function(scope,element,attrs){return scope.loadMerchant=function(){var elemid,radiotheme,widgetid,widgettype,wmamount,wmdescr,wmpurse,wmwmid,wmx20;return elemid=scope.elem.elementid,widgettype=scope.sitecontent[elemid].radiotype,widgetid=scope.sitecontent[elemid].widgetid,wmamount=scope.sitecontent[elemid].wmamount,wmdescr=scope.sitecontent[elemid].wmdescr,radiotheme=scope.sitecontent[elemid].radiotheme,wmpurse=scope.sitecontent[elemid].wmpurse,wmwmid=scope.sitecontent[elemid].wmwmid,wmx20=scope.sitecontent[elemid].wmx20,"button"===widgettype&&window.webmoney.widgets().button.create({lang:"ru",data:{amount:wmamount,purse:wmpurse,desc:wmdescr},style:{theme:radiotheme,showAmount:!0}}).mount(widgetid),"wmForm"===widgettype&&window.webmoney.widgets().wmForm.create({lang:"ru",data:{amount:wmamount,purse:wmpurse,wmid:wmwmid,x20Key:wmx20,desc:wmdescr}}).mount(widgetid),"PWYW"===widgettype?window.webmoney.widgets().PWYW.create({lang:"ru",data:{amount:wmamount,purse:wmpurse,desc:wmdescr}}).mount(widgetid):void 0},$timeout(function(){return $ocLazyLoad.load({cache:!0,files:["https://merchant.wmtransfer.com/conf/lib/widgets/wmApp.js?v=1.0"]}).then(function(){return scope.loadMerchant()})},50)}}})}.call(this),function(){angular.module("YepCom").directive("img",function($timeout){return{link:function(scope,element,attrs){return $timeout(function(){return $timeout(function(){var elemid,ref,ref1,ref2;return elemid=null!=(ref=element[0])&&null!=(ref1=ref.attributes)&&null!=(ref2=ref1.elementid)?ref2.nodeValue:void 0,elemid&&scope.sitecontent&&scope.sitecontent[elemid]&&(scope.sitecontent[elemid].imgalt&&$(element).attr("alt",scope.sitecontent[elemid].imgalt),scope.sitecontent[elemid].imgtitle)?$(element).attr("title",scope.sitecontent[elemid].imgtitle):void 0},0)},0),element.bind("error",function(){return attrs.$set("src","/img/no-image.png"),$(element).css("width","100%")})}}})}.call(this),function(){angular.module("YepCom").directive("jivochat",function($state,$compile,ngDialog,$timeout){return{restrict:"E",replace:!0,scope:{jivoid:"="},link:function(scope,element,attrs){return void 0}}})}.call(this),function(){angular.module("YepCom").directive("ngSrcc",function($timeout,$compile){return{restrict:"A",replace:!0,scope:{ngSrc:"@"},link:function(scope,element,attrs){return scope.$watch("ngSrc",function(newValue,oldValue){var newUrl,tmpArr,vImg;return(null!=attrs?attrs.elementid:void 0)?(tmpArr=attrs.ngSrc.split("/"),tmpArr[tmpArr.length-1]="tempfile_blured.png",newUrl=tmpArr.join("/"),attrs.$set("src",newUrl),vImg=document.createElement("IMG"),(null!=attrs?attrs["class"]:void 0)&&$(vImg).attr("class",attrs["class"]),(null!=attrs?attrs.ngClass:void 0)&&$(vImg).attr("ng-class",attrs.ngClass),(null!=attrs?attrs.elementid:void 0)&&$(vImg).attr("elementid",attrs.elementid),$compile(vImg)(scope),vImg.onload=function(){return element.replaceWith(vImg)},$timeout(function(){return vImg.src=attrs.ngSrc},500)):attrs.$set("src",attrs.ngSrc)}),element.bind("error",function(){return attrs.$set("src","/img/no-image.png")})}}})}.call(this),function(){angular.module("YepCom").directive("owlCarousel",function($timeout,elementPreparer,Page,$state){return{restrict:"E",transclude:!1,link:function(scope,element,attrs){var carouselka;return carouselka=$(element),scope.destroyCarousel=function(element){return $(element).trigger("destroy.owl.carousel"),$(element).find(".owl-stage-outer").children().unwrap()},scope.initCarousel=function(element){var customOptions,defaultOptions,key;defaultOptions={},customOptions=scope.$eval($(element).attr("data-options"));for(key in customOptions)defaultOptions[key]=customOptions[key];carouselka.owlCarousel(defaultOptions)},carouselka.on("changed.owl.carousel",function(event){var dotbtn,nextbtn,prevbtn;return prevbtn=carouselka.find(".owl-prev"),nextbtn=carouselka.find(".owl-next"),dotbtn=carouselka.find(".owl-dot"),$(dotbtn)&&$(dotbtn).addClass("f-btn"),$(prevbtn)&&$(prevbtn).addClass("f-btn"),$(nextbtn)?$(nextbtn).addClass("f-btn"):void 0}),scope.tonextpage=function(){return $(element).trigger("next.owl")},scope.toprevpage=function(){return $(element).trigger("prev.owl")}}}})}.call(this),function(){angular.module("YepCom").directive("owlCarouselItem",function($timeout,elementPreparer,Page,$state,$ocLazyLoad){return{restrict:"A",transclude:!1,link:function(scope,element,attrs){return scope.$last||scope.$watch(function(){return{width:element.parent().width()}},function(newValue,oldValue){return newValue&&newValue.width&&newValue.width>0&&"last"===attrs.owlItem?$timeout(function(){return $ocLazyLoad.load({files:["/script/owl.carousel.min.js"]}).then(function(){return void scope.initCarousel(element.parent())})["catch"](function(e){return void 0})},0):void 0},!0),scope.$last?$timeout(function(){return void 0!==$.fn.owlCarousel?scope.initCarousel(element.parent()):$ocLazyLoad.load({files:["/script/owl.carousel.min.js"]}).then(function(){return void scope.initCarousel(element.parent())})["catch"](function(e){})},0):void 0}}})}.call(this),function(){angular.module("YepCom").directive("piwik",function($state,$compile,ngDialog){return{restrict:"E",replace:!0,scope:{id:"="},link:function(scope,element,attrs){}}})}.call(this),function(){angular.module("YepCom").directive("placesAutocomplete",function($ocLazyLoad){return{restrict:"A",replace:!0,link:function(scope,element,attrs){return scope.init=function(){return $ocLazyLoad.load({name:"places.js",files:["/assets/js/places.js"]}).then(function(res){var placesAutocomplete;return placesAutocomplete=places({appId:"plWKPLNSGBZF",apiKey:"1ffd235eb236e2ba321f9dc67019ee83",container:element[0]})})},scope.init()}}})}.call(this),function(){angular.module("YepCom").directive("recaptcha",function($compile,$timeout,$ocLazyLoad){return{restrict:"EA",replace:!0,scope:{token:"="},template:'<div class="foru-recaptcha"><input type="text" name="recaptcha_response" ng-value="{{token}}></div>',link:function(scope,element,attrs){return void 0}}})}.call(this),function(){angular.module("YepCom").directive("scrollToBottom",function($timeout,Socketchat){return{restrict:"A",scope:{scrollToBottom:"="},link:function(scope,element,attrs){return scope.firstMessageScrollId=null,scope.$watchCollection("scrollToBottom",function(newVal,oldVal){var bottom,chel,chelh;newVal&&!oldVal?$timeout(function(){return element[0].scrollTop=element[0].scrollHeight,$(element).find(".c-socket-chat-messages__window-inner")[0].scrollTop=$(element).find(".c-socket-chat-messages__window-inner")[0].scrollHeight},10):oldVal&&oldVal.length>0?newVal.length-oldVal.length===1?$timeout(function(){return element[0].scrollTop=element[0].scrollHeight,$(element).find(".c-socket-chat-messages__window-inner")[0].scrollTop=$(element).find(".c-socket-chat-messages__window-inner")[0].scrollHeight},50):($(element).css("overflow-y","visible"),chel=$(element).children(".c-socket-chat-messages__window-inner"),bottom=element[0].scrollHeight,chelh=0,$timeout(function(){var scrv;return chelh=chel[0].clientHeight,scrv=chelh-bottom+40,chel.css("position","static"),element[0].scrollTop=scrv},0)):$timeout(function(){return element[0].scrollTop=element[0].scrollHeight,scope.watchUnreadMessages()},10)}),scope.scrollEvt=function(){var elms,messagesInner,scrTop;return scope.watchUnreadMessages(),messagesInner=$(".c-socket-chat-messages__window-inner"),scrTop=messagesInner[0].scrollTop,0===scrTop&&messagesInner.length>0?(elms=$(messagesInner[0]).children(),elms&&elms.length>0&&(scope.firstMessageScrollId=$(elms[0]).attr("id")),scope.$emit("loadMoreMessEv")):void 0},$(element).find(".c-socket-chat-messages__window-inner").on("scroll",function(evt){return scope.scrollEvt()}),$(element).on("scroll",function(evt){return scope.scrollEvt()}),scope.watchUnreadMessages=function(){var allscrollheight,chat,clientheight,el,i,j,lastMsg,len,maxval,ref,results,scrolltop,top;if(i=0,scope.scrollToBottom){for(ref=scope.scrollToBottom,results=[],j=0,len=ref.length;len>j;j++)el=ref[j],scope.$parent.useradmin?el.admin_read?results.push(void 0):(allscrollheight=element[0].scrollHeight,clientheight=element[0].clientHeight,scrolltop=element[0].scrollTop,maxval=allscrollheight-scrolltop+1,chat=el.userchat_id||el.to,lastMsg=$("#message_"+el._id.$oid),lastMsg.length>0?(top=lastMsg[0].getBoundingClientRect().top,clientheight+120>top?(el.admin_read=!0,window.socketEvt&&window.socketEvt.emit("statusread",chat.$oid,el._id.$oid,"admin_read"),Socketchat.setStatusReadAdmin(chat.$oid,el._id.$oid),results.push(void 0)):$("#message_"+el._id.$oid)[0].offsetTop<=maxval?(el.admin_read=!0,window.socketEvt&&window.socketEvt.emit("statusread",chat.$oid,el._id.$oid,"admin_read"),Socketchat.setStatusReadAdmin(chat.$oid,el._id.$oid),results.push(void 0)):results.push(void 0)):results.push(void 0)):el.read?results.push(void 0):(clientheight=element[0].clientHeight,scrolltop=element[0].scrollTop,maxval=allscrollheight-scrolltop+1,chat=el.userchat_id||el.to,lastMsg=$("#message_"+el._id.$oid),lastMsg.length>0?lastMsg[0].getBoundingClientRect().top<clientheight+50?(el.read=!0,window.socketEvt&&window.socketEvt.emit("statusread",chat.$oid,el._id.$oid,"read"),Socketchat.setStatusRead(el._id.$oid),results.push(void 0)):$("#message_"+el._id.$oid)[0].offsetTop<=maxval?(el.read=!0,window.socketEvt&&window.socketEvt.emit("statusread",chat.$oid,el._id.$oid,"read"),Socketchat.setStatusRead(el._id.$oid),results.push(void 0)):results.push(void 0):results.push(void 0));return results}},scope.$on("addedMessageEv",function(evt){var messagesInner;return messagesInner=$(".c-socket-chat-messages__window-inner"),messagesInner.length>0?messagesInner[0].scrollTop=messagesInner[0].scrollHeight:void 0}),scope.$on("loadPartOfMessages",function(evt){return $timeout(function(){var firstElm,messagesInner,miRect,rect;return scope.firstMessageScrollId&&(messagesInner=$(".c-socket-chat-messages__window-inner"),firstElm=$("#"+scope.firstMessageScrollId),firstElm.length>0)?(rect=firstElm[0].getBoundingClientRect(),miRect=messagesInner[0].getBoundingClientRect(),messagesInner[0].scrollTop=rect.top-miRect.top,scope.firstMessageScrollId=null):void 0},500)})}}})}.call(this),function(){angular.module("YepCom").directive("scrollWatch",function($rootScope,$timeout,$interval){return{restrict:"EAC",replace:!0,link:function(scope,element,attrs){return scope.scrolling=!1,scope.scrollTop=0,window.addEventListener("scroll",function(event){return scope.scrollTop=window.pageYOffset,scope.scrolling=!0}),$("body").on("scroll",function(e){return scope.scrollTop=e.target.scrollTop,scope.scrolling=!0}),$interval(function(){return scope.scrolling?(scope.scrolling=!1,scope.scrollTop>10?$rootScope.$broadcast("scrollView",!0,scope.scrollTop):$rootScope.$broadcast("scrollView",!1,scope.scrollTop)):void 0},200)}}})}.call(this),function(){angular.module("YepCom").directive("uiSrefIf",function($state,$compile){return{restrict:"EA",scope:{val:"@uiSrefVal","if":"=uiSrefIf"},link:function(scope,element,attrs){return element.removeAttr("ui-sref-if"),$compile(element)(scope),scope.$watch("if",function(bool){bool?element.attr("ui-sref",scope.val):(element.removeAttr("ui-sref"),element.removeAttr("href")),$compile(element)(scope)})}}})}.call(this),function(){angular.module("YepCom").directive("videocontrols",function($state){return{restrict:"EA",link:function(scope,element,attrs){var video;return video=element[0].previousElementSibling,scope.playPauseButton="play",scope.playPause=function(){return video.paused===!0?(video.play(),scope.playPauseButton="pause"):(video.pause(),scope.playPauseButton="play")}}}})}.call(this),function(){angular.module("YepCom").directive("viewdirectiveloader",function($timeout,$state,$compile){return{restrict:"AE",replace:!0,link:function(scope,element,attr){var tmpl;if("preview2"===$state.current.name)return scope.defaultgaid="UA-118127381-1",tmpl='<yepga gaid="gaid" ng-if="gaid"></yepga><yepga gaid="defaultgaid" ng-if="defaultgaid"></yepga><yepmet metid="metid" ng-if="metid"> </yepmet> <jivochat jivoid="jivoid" ng-if="jivoid"> </jivochat> <zadarma ng-if="zadarmaid"  zadarmaid="zadarmaid"></zadarma>  <torrowfake ng-if="website && website.torrowurl" siteid="website.uuid"></torrowfake>   <tinkoffchat ng-if="tinkoffid" tinkoffid="tinkoffid"> </tinkoffchat> <leadbackwidget leadbackid="leadbackid" ng-if="leadbackid"> </leadbackwidget> <yepcounter counter="wmcounter" ng-if="wmcounter"> </yepcounter> <forushopcart forusiteid="siteid" shoppage="shopsitepage" ng-if="shopsitepage"> </forushopcart> <forubgvideolocal class="preview" ng-if="localvideo" url="localvideo"> </forubgvideolocal> <forubgvideo class="preview" ng-if="videoBGURL"> </forubgvideo> <member-panel ng-if="userData" user-data="userData"> </member-panel>',$timeout(function(){return $compile(tmpl)(scope,function(newelem){return $(element).append(newelem)})},100)}}})}.call(this),function(){angular.module("YepCom").directive("widget",function($templateCache,$timeout,$compile,$state,$stateParams,Shopsitecategories,Previewshopsitecategories,toaster){return{restrict:"A",scope:{name:"=",widg:"="},link:function(scope,element,attrs){var templ,widgetid;return scope.widgetcontent=void 0,scope.widg&&scope.widg.widgetcontent&&scope.widg.widgetcontent.data&&(scope.widgetcontent=scope.widg.widgetcontent.data),scope.widgettype=scope.widgtype,widgetid=Math.floor(1e7*Math.random()+26987999997),scope.widgid=widgetid,element.attr("widgetid",widgetid),templ=$templateCache.get("templates-editor-preview/widgets/widget_"+scope.name+"/widget_"+scope.name+".html"),element.html(templ),$compile(element.contents())(scope),scope.$on("editWidgetSettings",function(event,data){return data.toString()===scope.widgid.toString()?scope.$emit("editWidgetSettingsPanel",scope.widgetcontent,scope.name):void 0})}}})}.call(this),function(){angular.module("YepCom").directive("yepadsense",function($state,$compile,ngDialog){return{restrict:"E",replace:!0,scope:{senseid:"="},link:function(scope,element,attrs){var codebody;return scope.sensecode='<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({google_ad_client: "'+scope.senseid+'",enable_page_level_ads: true});</script>',codebody=scope.sensecode,element.html(codebody)}}})}.call(this),function(){angular.module("YepCom").directive("yepcounter",function($state,$compile,ngDialog){return{restrict:"E",replace:!0,scope:{counter:"="},link:function(scope,element,attrs){return scope.countercode='<script type="text/javascript">var _cwb = _cwb || [];(function (d, w, s) {	var cwbSrc = "https://counter.web.money/h.js";_cwb.push(["'+scope.counter+'", d, w, s, cwbSrc]);  var s = document.createElement("script"); s.type = "text/javascript"; s.async = true;s.src = cwbSrc;var b = document.getElementsByTagName("script")[0]; b.parentNode.insertBefore(s, b);})(document, window, screen);</script>',element.html(scope.countercode)}}})}.call(this),function(){angular.module("YepCom").directive("yepdirect",function($state,$compile,ngDialog,$timeout,$window){return{restrict:"E",replace:!0,scope:{directid:"="},link:function(scope,element,attrs){var i,len,script,scripts;for(scope.directcode='<div id="yandex_rtb_'+scope.directid+'"></div> <script type="text/javascript"> (function(w, d, n, s, t) { w[n] = w[n] || []; w[n].push(function() { Ya.Context.AdvManager.render({ blockId: "'+scope.directid+'", renderTo: "yandex_rtb_'+scope.directid+'", async: true }); }); t = d.getElementsByTagName("script")[0]; s = d.createElement("script"); s.type = "text/javascript"; s.src = "//an.yandex.ru/system/context.js"; s.async = true; t.parentNode.insertBefore(s, t); })(window, window.document, "yandexContextAsyncCallbacks"); </script>',scripts=$(script),i=0,len=scripts.length;len>i;i++)script=scripts[i],script.src.indexOf("an.yandex.ru")>-1&&$(script).remove();return $timeout(function(){var codebody;return codebody=scope.directcode,element.html(codebody)},200)}}})}.call(this),function(){angular.module("YepCom").directive("yepga",function($state,$compile,ngDialog,$interval,$window){return{restrict:"E",replace:!0,scope:{gaid:"="},link:function(scope,element,attrs){return scope.metrname=scope.gaid.toString().replace(/\-/gi,"").toString().toLowerCase(),scope.loadGa=function(){return ga("create",scope.gaid,{name:scope.metrname}),ga("foo.require","displayfeatures"),ga(scope.metrname+".send","pageview")},scope.expectGa=$interval(function(){return(null!=$window?$window.ga:void 0)?($interval.cancel(scope.expectGa),scope.loadGa()):void 0},100)}}})}.call(this),function(){angular.module("YepCom").directive("yepmet",function($state,$compile,ngDialog,$window,$interval){return{restrict:"E",replace:!0,scope:{metid:"="},link:function(scope,element,attrs){return scope.loadMetrika=function(){var e,fromStateUrl,toStateUrl;try{if($window["yaCounter"+scope.metid]||($window["yaCounter"+scope.metid]=new $window.Ya.Metrika({id:scope.metid,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0})),$window["yaCounter"+scope.metid])return toStateUrl=$window.location.href,fromStateUrl=$window.referrer,fromStateUrl||toStateUrl===$window.oldOrigin||(fromStateUrl=null!=$window?$window.oldOrigin:void 0),fromStateUrl||(fromStateUrl=""),$window["yaCounter"+scope.metid].hit(toStateUrl,{referer:fromStateUrl})}catch(error){return void(e=error)}},scope.expectYaMetrika=$interval(function(){var ref;return(null!=$window&&null!=(ref=$window.Ya)?ref.Metrika:void 0)?($interval.cancel(scope.expectYaMetrika),scope.loadMetrika()):void 0},100)}}})}.call(this),function(){angular.module("YepCom").directive("yepnotifypush",function($state,$compile,ngDialog,$window,$timeout,$location){return{restrict:"E",replace:!0,scope:{serverkey:"="},link:function(scope,element,attrs){var hasSubscription,info,msie,serviceWorkerRegistration,subscriptionData,ua;return scope.requestPermission=function(){return new Promise(function(resolve,reject){var permissionResult;permissionResult=Notification.requestPermission(function(result){resolve(result)}),permissionResult&&permissionResult.then(resolve,reject)}).then(function(permissionResult){if("granted"!==permissionResult)throw new Error("Permission not granted.");hasSubscription||scope.subscribeUser()})},ua=window.navigator.userAgent,msie=ua.indexOf("MSIE "),msie&&!navigator.userAgent.match(/Trident.*rv\:11\./)?(hasSubscription=!1,serviceWorkerRegistration=null,subscriptionData=!1,navigator.serviceWorker.register("/sw.js?"+parseInt(1e7*Math.random(100)).toString()).then(function(sw){return serviceWorkerRegistration=sw,serviceWorkerRegistration.pushManager.getSubscription().then(function(subscription){return hasSubscription=!(null===subscription),scope.requestPermission()})})["catch"](function(error){})):(info=document.createElement("p"),info.className="message message--error",info.textContent="",document.body.appendChild(info)),scope.urlB64ToUint8Array=function(base64String){var base64,i,outputArray,padding,rawData;for(padding="=".repeat((4-base64String.length%4)%4),base64=(base64String+padding).replace(/\-/g,"+").replace(/_/g,"/"),rawData=window.atob(base64),outputArray=new Uint8Array(rawData.length),i=0;i<rawData.length;)outputArray[i]=rawData.charCodeAt(i),++i;return outputArray},scope.subscribeUser=function(){serviceWorkerRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:scope.urlB64ToUint8Array(scope.serverkey)}).then(function(subscription){fetch("/api/v1/webpush",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(subscription)}).then(function(response){return response}).then(function(text){hasSubscription=!0})["catch"](function(error){hasSubscription=!1})})["catch"](function(err){})},scope.unsubscribeUser=function(){serviceWorkerRegistration.pushManager.getSubscription().then(function(subscription){return subscription?(subscriptionData={endpoint:subscription.endpoint},fetch("/api/v1/webpush",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(subscriptionData)}).then(function(response){return response}).then(function(text){hasSubscription=!1})["catch"](function(error){hasSubscription=!0}),hasSubscription=!1,subscription.unsubscribe()):void 0})}}}})}.call(this),function(){angular.module("YepCom").directive("yepview",function($compile,$templateCache,$interval,$timeout,$ocLazyLoad,ExtraBlock,$sce,Msgservice,deviceDetector,$rootScope,$state){return{restrict:"E",scope:{elemdata:"=",mousehover:"=",jsoncontent:"=",shopscript:"=",siteid:"=",forusite:"=",metid:"=",currentLang:"=?",statichost:"=?"},transclude:!0,link:function(scope,element,attrs){var findObjectByKey,hideBlockFlag,hideblockFlag,hideblockFlag_,item,j,keys,len,navBarElement,oldExtraBlocks,oldVal,ref,ref1,ref2,ref3,ref4,showblockdevice,showblockdeviceFlag,yelemid;if(scope.myelement=element,yelemid=Math.floor(1e7*Math.random()+26987999997),$(element).attr("yelemid",""),scope.yeid=yelemid,scope.myyelemid=yelemid,scope.mobileEnabled=!1,scope.tabletEnabled=!1,scope.isMobile=!1,scope.animateOnStart=!1,scope.mask=["left","top","width","position","margin-top","margin-bottom","margin-left","margin-right","padding-right","padding-left","padding-top","padding-bottom","height","min-width","max-width","min-height","max-height","background-size","background-position","opacity","visibility","font-size"],scope.currentLang||(scope.currentLang="rus"),scope.isNavBar=!1,scope.elemdata&&(scope.widgets=scope.elemdata.widgets),scope.widgetscontainer=$templateCache.get("editor/widgetcontainer/widgetcontainer.html"),scope.statichost||(scope.statichost=""),scope.currentViewType="desktop",scope.wastedAnimatedList=[],scope.animationBlock=!1,scope.animationBlockShowKeys=[],scope.types={get:function(prop){return Object.prototype.toString.call(prop)},"null":"[object Null]",object:"[object Object]",array:"[object Array]",string:"[object String]","boolean":"[object Boolean]",number:"[object Number]",date:"[object Date]"},scope.addCloneElement=function(newElid,originalid,parentElementId){var allattrs,elemattrs,elementtype,mainattrs,myhtml,newElm,resulthtml,tagname;return newElm=scope.sitecontent[parentElementId].childrencopies[newElid],elementtype=newElm.elementtype,tagname=newElm.tagname,mainattrs="elementid="+newElid+' ng-style="sitecontent.'+newElid+'.style" ng-class="sitecontent.'+newElid+'.classes"',newElm.hasOwnProperty("classList")&&(mainattrs+=' class="'+newElm.classList+'" '),"text"===elementtype&&(elemattrs="ng-bind-html=\"trustAsHtml(sitecontent['"+newElid+"'].text)\""),
"image"===elementtype&&(elemattrs='ng-src="{{sitecontent.'+newElid+'.src}}"'),"link"===elementtype&&(elemattrs='ng-href="{{sitecontent.'+newElid+'.href}}" ',scope.sitecontent[newElid].text&&(elemattrs+="ng-bind-html=\"trustAsHtml(sitecontent['"+newElid+"'].text)\""),scope.sitecontent[newElid].hasOwnProperty("target")&&(elemattrs+='target="{{sitecontent.'+newElid+'.target}}" ')),allattrs=mainattrs+" "+elemattrs,resulthtml="<"+tagname.toLowerCase()+" "+allattrs+"></"+tagname.toLowerCase()+">",myhtml=$sce.trustAsHtml(resulthtml),$compile(myhtml.toString())(scope,function(newelem){return $timeout(function(){var ref,ref1,trgt;return"none"===(null!=(ref=scope.sitecontent[originalid])&&null!=(ref1=ref.style)?ref1.display:void 0)?$("[yelemid="+scope.myyelemid+"]").find("[elementid="+parentElementId+"]").append(newelem):(trgt=$("[yelemid="+scope.myyelemid+"]").find("[elementid="+originalid+"]"),$(newelem).insertAfter(trgt))},50)})},scope.addCloneElements=function(){return $timeout(function(){var checkElm,itemKey,j,key,len,ref,results;for(ref=Object.keys(scope.sitecontent),results=[],j=0,len=ref.length;len>j;j++)key=ref[j],scope.sitecontent[key]&&scope.sitecontent[key].childrencopies?results.push(function(){var l,len1,ref1,results1;for(ref1=Object.keys(scope.sitecontent[key].childrencopies),results1=[],l=0,len1=ref1.length;len1>l;l++)itemKey=ref1[l],checkElm=$("[yelemid="+scope.myyelemid+"]").find("[elementid="+itemKey+"]"),checkElm&&0===checkElm.length?results1.push(scope.addCloneElement(itemKey,scope.sitecontent[key].childrencopies[itemKey].originalid,key)):results1.push(void 0);return results1}()):results.push(void 0);return results},100)},scope.runResizeCalc=function(){return $timeout(function(){var cont,j,key,left,len,ref,results,value,windowWidth;for(windowWidth=parseInt($(window).width()),ref=scope.jsoncontent.data,results=[],j=0,len=ref.length;len>j;j++)cont=ref[j],key=Object.keys(cont)[0],value=cont[key],value&&value.hasOwnProperty("sizes")&&value.sizes.hasOwnProperty(currentViewType)?(left=0,left=windowWidth/100*value.sizes[currentViewType].left,results.push(value.style.left=left)):results.push(void 0);return results},200)},scope.prepareMobileStyle=function(value,styleType){var j,len,ref,results,styleItem;if(styleType&&(value[styleType]||(value[styleType]={},angular.copy(value.style,value[styleType]),value[styleType]&&(value[styleType].position&&delete value[styleType].position,value[styleType].top&&delete value[styleType].top,value[styleType].left&&delete value[styleType].left,value[styleType].width&&delete value[styleType].width,value[styleType].height&&delete value[styleType].height)),value[styleType])){for(ref=Object.keys(value[styleType]),results=[],j=0,len=ref.length;len>j;j++)styleItem=ref[j],scope.mask.indexOf(styleItem)>-1?results.push(value.style[styleItem]=value[styleType][styleItem]):results.push(void 0);return results}},scope.prepareSmDesktopStyle=function(value,styleType){var j,len,ref,results,styleItem;if(styleType&&(value[styleType]||(value[styleType]={},angular.copy(value.style,value[styleType])),value[styleType])){for(ref=Object.keys(value[styleType]),results=[],j=0,len=ref.length;len>j;j++)styleItem=ref[j],scope.mask.indexOf(styleItem)>-1?results.push(value.style[styleItem]=value[styleType][styleItem]):results.push(void 0);return results}},scope.$on("createNavbarContentEv",function(event,forunavbaryelemid,pages){return scope.forunavpages=pages}),scope.prepareStaticImageUrl=function(url){return url&&(url=url.replace(/https?:\/\/editor\.fo\.ru/gim,""),url&&/^\/system\/useruploads/.test(url)&&(url=scope.statichost+url)),url},scope.drawSiteContent=function(){var cont,currentViewType,emptyStyleDesktop,imgurl,imgurl_,item,j,key,l,len,len1,len2,len3,len4,len5,len6,m,matchStl,mykey,n,needLangBtn,newstyle,p,q,r,ref,ref1,ref2,ref3,ref4,ref5,ref6,ref7,ref8,ref9,sortedStyleKeys,stl,styleItem,styleKeys,text_rus,tmp,tmppos,tmpsize,usetranslations,value,width;if(scope.sitecontent={},scope.jsoncontent&&(emptyStyleDesktop=!1,scope.jsoncontent.data)){for(width=$(window).width(),currentViewType="desktop",scope.currentViewType="desktop",width>=968&&1200>width&&(currentViewType="sm-desktop",scope.currentViewType="sm-desktop"),deviceDetector.isMobile()&&(scope.mobileEnabled=!0,scope.isMobile=!0,width>=768&&(scope.tabletEnabled=!0)),scope.mobileEnabled&&(currentViewType="mobile",scope.currentViewType="mobile",scope.tabletEnabled&&(currentViewType="tablet",scope.currentViewType="tablet")),needLangBtn=null,usetranslations=!0,(null!=(ref=scope.forusite)?ref.usetranslations:void 0)||(usetranslations=!1),ref1=scope.jsoncontent.data,j=0,len=ref1.length;len>j;j++){if(cont=ref1[j],key=Object.keys(cont)[0],value=cont[key]){if((null!=value&&null!=(ref2=value.animations)?ref2.blockShow:void 0)&&!scope.animateOnStart&&"dont-animate"!==value.animations.blockShow&&($("[elementid="+key+"]").addClass("beforeTrigger"),value.classes=value.classes+" beforeTrigger",scope.animationBlock=!0,scope.animationBlockShowKeys.push(key)),value.style_desktop?emptyStyleDesktop=Object.keys(value.style_desktop).length>0?!1:!0:(value.style_desktop={},emptyStyleDesktop=!0),value.style_sm_desktop||(value.style_sm_desktop={}),tmp={},angular.copy(value.style,tmp),value.style={},scope.mobileEnabled&&!scope.tabletEnabled&&scope.prepareMobileStyle(value,"style_mobile"),scope.mobileEnabled&&scope.tabletEnabled&&scope.prepareMobileStyle(value,"style_tablet"),!scope.mobileEnabled)if(emptyStyleDesktop)for(ref5=Object.keys(tmp),n=0,len3=ref5.length;len3>n;n++)styleItem=ref5[n],value.style[styleItem]=tmp[styleItem];else{if("desktop"===currentViewType)for(ref3=Object.keys(value.style_desktop),l=0,len1=ref3.length;len1>l;l++)styleItem=ref3[l],scope.mask.indexOf(styleItem)>-1&&(value.style[styleItem]=value.style_desktop[styleItem]);if("sm-desktop"===currentViewType)for(ref4=Object.keys(value.style_sm_desktop),m=0,len2=ref4.length;len2>m;m++)styleItem=ref4[m],scope.mask.indexOf(styleItem)>-1&&(value.style[styleItem]=value.style_sm_desktop[styleItem])}for(ref6=Object.keys(tmp),p=0,len4=ref6.length;len4>p;p++)styleItem=ref6[p],-1===scope.mask.indexOf(styleItem)&&(value.style[styleItem]=tmp[styleItem]);if(tmp.hasOwnProperty("background-size")&&("desktop"===currentViewType&&(value.style_desktop.hasOwnProperty("background-size")?value.style["background-size"]=value.style_desktop["background-size"]:value.style["background-size"]=tmp["background-size"]),"sm-desktop"===currentViewType&&(value.style_sm_desktop.hasOwnProperty("background-size")?value.style["background-size"]=value.style_sm_desktop["background-size"]:value.style["background-size"]=tmp["background-size"]),"tablet"===currentViewType&&(value.style_tablet.hasOwnProperty("background-size")?value.style["background-size"]=value.style_tablet["background-size"]:value.style["background-size"]=tmp["background-size"]),"mobile"===currentViewType&&(value.style_mobile.hasOwnProperty("background-size")?value.style["background-size"]=value.style_mobile["background-size"]:value.style["background-size"]=tmp["background-size"])),tmp.hasOwnProperty("background-position")&&("desktop"===currentViewType&&(value.style_desktop.hasOwnProperty("background-position")?value.style["background-position"]=value.style_desktop["background-position"]:value.style["background-position"]=tmp["background-position"]),"sm-desktop"===currentViewType&&(value.style_sm_desktop.hasOwnProperty("background-position")?value.style["background-position"]=value.style_sm_desktop["background-position"]:value.style["background-position"]=tmp["background-position"]),"tablet"===currentViewType&&(value.style_tablet.hasOwnProperty("background-position")?value.style["background-position"]=value.style_tablet["background-position"]:value.style["background-position"]=tmp["background-position"]),"mobile"===currentViewType&&(value.style_mobile.hasOwnProperty("background-position")?value.style["background-position"]=value.style_mobile["background-position"]:value.style["background-position"]=tmp["background-position"])),scope.sitecontent[key]=value,scope.sitecontent[key].hasOwnProperty("deleted")&&"true"===scope.sitecontent[key].deleted.toString()&&(scope.sitecontent[key].src="",scope.sitecontent[key].text="",scope.sitecontent[key].hasOwnProperty("text_rus")&&(scope.sitecontent[key].text_rus=""),scope.sitecontent[key].hasOwnProperty("text_eng")&&(scope.sitecontent[key].text_eng="")),scope.sitecontent[key].hasOwnProperty("style")&&scope.sitecontent[key].style.hasOwnProperty("display")&&"none"===scope.sitecontent[key].style.display.toString()&&(scope.sitecontent[key].src="",scope.sitecontent[key].text="",scope.sitecontent[key].hasOwnProperty("text_rus")&&(scope.sitecontent[key].text_rus=""),scope.sitecontent[key].hasOwnProperty("text_eng")&&(scope.sitecontent[key].text_eng="")),scope.sitecontent[key].hasOwnProperty("text_eng")&&usetranslations&&(needLangBtn=scope.currentLang),"eng"===scope.currentLang&&scope.sitecontent[key].hasOwnProperty("text_eng")&&usetranslations&&(text_rus=scope.sitecontent[key].text,scope.sitecontent[key].text=scope.sitecontent[key].text_eng,scope.sitecontent[key].text_rus=text_rus),(null!=(ref7=scope.sitecontent[key])?ref7.style:void 0)&&(scope.sitecontent[key].style.hasOwnProperty("background-size")&&(tmpsize=scope.sitecontent[key].style["background-size"],delete scope.sitecontent[key].style["background-size"],scope.sitecontent[key].style["background-size"]=tmpsize),scope.sitecontent[key].style.hasOwnProperty("background-position")&&(tmppos=scope.sitecontent[key].style["background-position"],delete scope.sitecontent[key].style["background-position"],scope.sitecontent[key].style["background-position"]=tmppos),scope.sitecontent[key].style.hasOwnProperty("background-image")&&(stl=scope.sitecontent[key].style["background-image"],stl&&(matchStl=stl.match(/url\(\".*\"\)/),matchStl&&(imgurl=matchStl[0].replace("url(","").replace(")","").replace('"',"").replace('"',""),imgurl_=scope.prepareStaticImageUrl(imgurl),imgurl_&&(scope.sitecontent[key].style["background-image"]=stl.replace(imgurl,imgurl_))))),scope.sitecontent[key].style.hasOwnProperty("backgroundImage")&&(stl=scope.sitecontent[key].style.backgroundImage,stl&&(matchStl=stl.match(/url\(\".*\"\)/),matchStl&&(imgurl=matchStl[0].replace("url(","").replace(")","").replace('"',"").replace('"',""),imgurl_=scope.prepareStaticImageUrl(imgurl),imgurl_&&(scope.sitecontent[key].style.backgroundImage=stl.replace(imgurl,imgurl_))))),scope.sitecontent[key].hasOwnProperty("src")&&(scope.sitecontent[key].src=scope.prepareStaticImageUrl(scope.sitecontent[key].src)),"galleryimages"===key))for(ref8=scope.sitecontent[key],q=0,len5=ref8.length;len5>q;q++)item=ref8[q],item.url=scope.prepareStaticImageUrl(item.url),item.fullImageUrl=scope.prepareStaticImageUrl(item.fullImageUrl);if((null!=(ref9=scope.sitecontent[key])?ref9.style:void 0)&&scope.types.get(scope.sitecontent[key].style)===scope.types.object&&scope.sitecontent[key].style.margin){for(styleKeys=Object.keys(scope.sitecontent[key].style),sortedStyleKeys=_.sortBy(styleKeys,[function(o){return o}]),newstyle={},r=0,len6=sortedStyleKeys.length;len6>r;r++)mykey=sortedStyleKeys[r],newstyle[mykey]=scope.sitecontent[key].style[mykey];scope.sitecontent[key].style=newstyle}}scope.$emit("setCurrentLang",needLangBtn)}return scope.addCloneElements()}},scope.drawSiteContent(),scope.$on("drawSiteContent",function(event){return scope.drawSiteContent(),$timeout(function(){return scope.calcBlockSize()},800)}),scope.trustSrc=function(src){return $sce.trustAsResourceUrl(src)},scope.startCountDownActionDate=function(){var actiondate,k,parts,results,stopTimer,stopTimer_;results=[];for(k in scope.sitecontent)scope.sitecontent[k]&&scope.sitecontent[k]["data-foru-actiondate"]?(actiondate=scope.sitecontent[k]["data-foru-actiondate"],stopTimer_=actiondate.replace(".","/").replace(".","/").replace(" ","/").replace(":","/").replace(":","/"),parts=stopTimer_.split("/"),stopTimer=new Date(parseInt(parts[2],10),parseInt(parts[1],10)-1,parseInt(parts[0],10),parseInt(parts[3],10),parseInt(parts[4],10),parseInt(parts[5],10)),scope.xint&&$interval.cancel(scope.xint),results.push(scope.xint=$interval(function(){var days,duration_,hours,k2,minutes,now_,seconds;for(k2 in scope.sitecontent)""===scope.sitecontent[k2]["data-foru-day"]&&(scope.sitecontent[k2].text="0"),""===scope.sitecontent[k2]["data-foru-sec"]&&(scope.sitecontent[k2].text="0"),""===scope.sitecontent[k2]["data-foru-hour"]&&(scope.sitecontent[k2].text="0"),""===scope.sitecontent[k2]["data-foru-min"]&&(scope.sitecontent[k2].text="0");now_=(new Date).getTime(),duration_=stopTimer-now_,0>=duration_&&$interval.cancel(scope.xint),days=Math.floor(duration_/864e5),hours=Math.floor(duration_%864e5/36e5),minutes=Math.floor(duration_%36e5/6e4),seconds=Math.floor(duration_%6e4/1e3),$("[data-foru-day]").text(days),$("[data-foru-hour]").text(hours),$("[data-foru-min]").text(minutes),$("[data-foru-sec]").text(seconds)},1e3))):results.push(void 0);return results},scope.startCountDownActionDate(),scope.tinymceOptions={setup:function(editor){return editor.on("myNewEvent",function(){return $timeout(function(){var getElementid,getNewHref;return getElementid=editor.targetElm.attributes.elementid.nodeValue,getNewHref=editor.bodyElement.hash,scope.sitecontent[getElementid].href=getNewHref},0)})},plugins:"link autolink textcolor paste",toolbar:"cut copy | undo redo | bold italic subscript superscript underline strikethrough | link | forecolor backcolor | fontselect fontsizeselect | image ",inline:!0,menubar:!1,themes:"inlite",inline_styles:!1,entity_encoding:"raw",forced_root_block:"",language:"ru"},scope.elemdata&&(yelemid=scope.elemdata.yelemid,scope.yeid=yelemid,element.attr("yelemid",yelemid)),scope.initid={},scope.frinit={},scope.MyInitLinkEditor=function(initcontrols,divname){return scope.frinit[divname]=initcontrols},scope.fixNavbar=function(){return scope.navbar="fixed",element.children().attr("fixed","true")},scope.triggerAnimate=function(elementid,classs){var arr,index,ref;return $(scope.getLocalElement(elementid)).removeClass("beforeTrigger"),scope.animateOnStart=!0,(null!=(ref=scope.sitecontent[elementid])?ref.classes:void 0)&&(arr=scope.sitecontent[elementid].classes.split(" "),index=arr.indexOf("beforeTrigger"),index>-1&&arr.splice(index,1),scope.sitecontent[elementid].classes=arr.join(" ")),$(scope.getLocalElement(elementid)).addClass("magictime")},scope.initAnimation=function(){return void 0},scope.getLocalElement=function(elementid){var element_;return element_=$("[yelemid="+scope.myyelemid+"][elementid="+elementid+"]"),0===element_.length&&(element_=$("[yelemid="+scope.myyelemid+"]").contents().find("[elementid="+elementid+"]")),element_},scope.animation=function(){var element_,item,j,len,offset,ref,results,windowHeight;if(scope.animationBlock&&scope.sitecontent&&scope.wastedAnimatedList.length<scope.animationBlockShowKeys.length){for(windowHeight=$(window).height(),ref=scope.animationBlockShowKeys,results=[],j=0,len=ref.length;len>j;j++)item=ref[j],element_=scope.getLocalElement(item),element_[0]?(offset=element_[0].getBoundingClientRect(),(offset.top>=-100&&offset.top<windowHeight||offset.bottom<windowHeight)&&scope.wastedAnimatedList.indexOf(item)<0?($(element_).addClass(scope.sitecontent[item].animations.blockShow),scope.wastedAnimatedList.push(item),results.push(scope.triggerAnimate(item))):results.push(void 0)):results.push(void 0);return results}},scope.rebuildInlineStyle=function(){var item,j,key,l,len,len1,ref,ref1,stl,styles;for(styles="",ref=Object.keys(scope.sitecontent),j=0,len=ref.length;len>j;j++)if(key=ref[j],scope.sitecontent[key].hasOwnProperty("animations")&&scope.sitecontent[key].animations.hasOwnProperty("elementShow")&&scope.sitecontent[key].animations.elementShow.hasOwnProperty("enableHoverStyles")&&scope.sitecontent[key].animations.elementShow.enableHoverStyles&&scope.sitecontent[key].animations.elementShow.hasOwnProperty("hoverStyle")){for(stl="",ref1=Object.keys(scope.sitecontent[key].animations.elementShow.hoverStyle),l=0,len1=ref1.length;len1>l;l++)item=ref1[l],stl+=item+":"+scope.sitecontent[key].animations.elementShow.hoverStyle[item]+"!important; ";stl.length>0&&(styles+='[yelemid="'+scope.myyelemid+'"] [elementid='+key+"]:hover{"+stl+"} ",styles+='[yelemid="'+scope.myyelemid+'"] a:link[elementid='+key+"]:hover{"+stl+"} ")}return $("#style"+scope.myyelemid).remove(),styles.length>0?$("[yelemid="+scope.myyelemid+"]").append("<style id='style"+scope.myyelemid+"'>"+styles+"</style>"):void 0},scope.$on("loadedBlock",function(){var ref,ref1,stopInterval;return(null!=(ref=scope.sitecontent)&&null!=(ref1=ref.countdown)?ref1.stopTimer:void 0)&&(stopInterval=$interval(function(){var days,duration,hours,minutes,now,ref2,ref3,seconds,stopTimer;return stopTimer=1e3*parseInt(null!=(ref2=scope.sitecontent)&&null!=(ref3=ref2.countdown)?ref3.stopTimer:void 0),now=(new Date).getTime(),duration=stopTimer-now,days=Math.floor(duration/864e5),hours=Math.floor(duration%864e5/36e5),minutes=Math.floor(duration%36e5/6e4),seconds=Math.floor(duration%6e4/1e3),0>=days&&(days="00"),10>days&&days>0&&(days="0"+days),0>=hours&&(hours="00"),10>hours&&hours>0&&(hours="0"+hours),0>=minutes&&(minutes="00"),10>minutes&&minutes>0&&(minutes="0"+minutes),0>=seconds&&(seconds="00"),10>seconds&&seconds>0&&(seconds="0"+seconds),$("[data-foru-day]").text(days),$("[data-foru-hour]").text(hours),$("[data-foru-min]").text(minutes),$("[data-foru-sec]").text(seconds)},500)),scope.addTargetBlankAttrs(),scope.initBaseDropZone(),scope.initAnimation(),$timeout(function(){return scope.animation(),scope.rebuildInlineStyle()},400),$timeout(function(){return scope.calcBlockSize()},300)}),scope.calcBlockSize=function(){var currentBlock,elid,oh,ref,ref1,sh,stretchblokheight;if(currentBlock=$("[yelemid="+scope.myyelemid+"]"),stretchblokheight=!0,elid=$(currentBlock).attr("elementid"),currentBlock.length>0&&elid){if(scope.sitecontent[elid]&&scope.sitecontent[elid].hasOwnProperty("stretchblokheight")&&(scope.sitecontent[elid].stretchblokheight||(stretchblokheight=!1)),!stretchblokheight)return scope.sitecontent[elid].style["overflow-y"]="hidden";if(sh=parseInt(currentBlock[0].scrollHeight),oh=parseInt($(currentBlock).css("height")),$(currentBlock).find("*").each(function(i,item){}),sh>oh&&"foruclearblock"!==(null!=(ref=scope.elemdata)&&null!=(ref1=ref.content)?ref1.tagName:void 0)&&"elforunavbarouter"!==elid)return scope.sitecontent[elid]||(scope.sitecontent[elid]={}),scope.sitecontent[elid].style||(scope.sitecontent[elid].style={}),delete scope.sitecontent[elid].style.height,$(currentBlock).css("height",""),scope.sitecontent[elid].style["min-height"]=sh+"px"}},scope.initBaseDropZone=function(){var block,dz,str;return!scope.checkNavBar()&&(block=$("[yelemid="+scope.myyelemid+"]"),block&&block.length>0&&(dz=$(block).find("[elementid=basewidgetcontainer0]"),dz&&0===dz.length))?(str="<div class='basewidgetcontainer0' elementid='basewidgetcontainer0' style='height: 0px;'>",str+="<div class='foruadditionalelements basedz' containerid='basewidgetcontainer0' elementid='l3c7h0potfdtwgff64ibsdg' style=''>",str+="<additionalelement draggable='true' ng-class='aligncls' ng-if='sitecontent[elem.elementid].deleted!= true' ng-repeat='elem in sitecontent.basewidgetcontainer0.additional_widgets'></additionalelement>",str+="</div>",str+="</div>",$(block[0]).prepend($compile($(str))(scope))):void 0},scope.checkNavBar=function(){var hasNavTags,hasNavbarClasses,yelem;return yelem=$("[yelemid="+scope.myyelemid+"]"),hasNavbarClasses=$(yelem).find("[class*=forunavbar2]"),hasNavTags=$(yelem).find("nav"),hasNavbarClasses&&hasNavbarClasses.length>0||hasNavTags&&hasNavTags.length>0?!0:!1},scope.findNavBarData=function(dataSource){var classes,classesString,index,item;for(index in dataSource)if(item=dataSource[index]){if(item.navBarData)return{elm:item,key:index};if(item&&item.classes&&(classesString=item.classes.toString(),classes=classesString.indexOf(",")>-1?classesString.split(","):classesString.split(" "),classes.indexOf("navbar-fixed-top")>-1))return{elm:item,key:index}}return null},scope.InitLinkEditor=function(initcontrols){return $timeout(function(){return initcontrols.initialize()},500)},scope.findsettedpopovers=function(data){var child,j,k,len,ref,results;if("a"===data.tagName)for(k in scope.sitecontent)scope.sitecontent[k]&&scope.sitecontent[k]["data-toggle"]&&data.attributes&&(data.attributes.elementid&&data.attributes.elementid===k&&(data.attributes["data-toggle"]=scope.sitecontent[k]["data-toggle"],data.attributes.title=scope.sitecontent[k].title,data.attributes["data-content"]=scope.sitecontent[k]["data-content"],data.attributes["data-placement"]=scope.sitecontent[k]["data-placement"]),data.attributes.elid&&data.attributes.elid===k&&(data.attributes["data-toggle"]=scope.sitecontent[k]["data-toggle"],data.attributes.title=scope.sitecontent[k].title,data.attributes["data-content"]=scope.sitecontent[k]["data-content"],data.attributes["data-placement"]=scope.sitecontent[k]["data-placement"]));if(data.children){for(ref=data.children,results=[],j=0,len=ref.length;len>j;j++)child=ref[j],results.push(scope.findsettedpopovers(child));return results}},scope.findandsetIDs=function(data){var k,results;results=[];for(k in scope.sitecontent)scope.sitecontent[k].id?results.push(data.attributes.id=scope.sitecontent[k].id):results.push(void 0);return results},scope.findIDsFromModel=function(data,func){var data2,f,obj;data2=data.elemdata.content,scope.arrayOfID=[];for(f in data.sitecontent)data.sitecontent[f]&&data.sitecontent[f].modelid&&(obj={},obj[f]=data.sitecontent[f].modelid,scope.arrayOfID.push(obj));return func(data2,scope.arrayOfID)},scope.setIDsFromModel_=function(data,arr){var child,i,j,key,len,ref,results;for(i=0,results=[];i<arr.length;){if(key=Object.keys(arr[i])[0],data.attributes&&data.attributes.elementid&&data.attributes.elementid===Object.keys(arr[i])[0]&&(data.attributes.id&&""!==data.attributes.id.toString()?data.attributes.modelid=Object.keys(arr[i])[0]:data.attributes.id=Object.keys(arr[i])[0]),data.children)for(ref=data.children,j=0,len=ref.length;len>j;j++)child=ref[j],scope.setIDsFromModel(child,arr);results.push(i++)}return results},scope.setIDsFromModel=function(data,arr){var child,itemArr,j,key,l,len,len1,ref,results,val;for(j=0,len=arr.length;len>j;j++)itemArr=arr[j],key=Object.keys(itemArr)[0],val=itemArr[key],data.attributes&&data.attributes.elementid&&data.attributes.elementid===key&&(data.attributes.id&&""!==data.attributes.id.toString()?data.attributes.modelid=val:data.attributes.id=val);if(data.children){for(ref=data.children,results=[],l=0,len1=ref.length;len1>l;l++)child=ref[l],results.push(scope.setIDsFromModel(child,arr));return results}},scope.findandsetImages=function(data){var imgelid,k,nest,results,s;results=[];for(k in scope.sitecontent)scope.sitecontent[k]&&scope.sitecontent[k].additional_elements?(s=0,results.push(function(){var results1;for(results1=[];s<scope.sitecontent[k].additional_elements.length;)imgelid=scope.sitecontent[k].additional_elements[s].elementid,nest=k,scope.find_nest=function(data){var child,j,len,objImg,parent_nest,ref,results2;if(data.attributes&&data.attributes.elementid&&data.attributes.elementid===nest&&(parent_nest=data,objImg={},objImg.tagName="img",objImg.type="Element",objImg.attributes={className:[],elementid:imgelid,ngClass:"sitecontent."+imgelid+".classes",ngSrc:"{{sitecontent."+imgelid+".src}}",ngStyle:"sitecontent."+imgelid+".style"},data.children?data.children.push(objImg):(data.children=[],data.children.push(objImg))),data.children){for(ref=data.children,results2=[],j=0,len=ref.length;len>j;j++)child=ref[j],results2.push(scope.find_nest(child));return results2}},scope.find_nest(data),results1.push(s++);return results1}())):results.push(void 0);return results},scope.getChilds=function(obj,list){var results;results=[];for(element in obj)obj.hasOwnProperty(element)&&obj.hasOwnProperty(element)?"object"==typeof obj[element]&&null!==obj[element]?results.push(scope.getChilds(obj[element],list)):"elementid"===element&&"{{elementid}}"!==obj[element]?results.push(list.push(obj[element])):results.push(void 0):results.push(void 0);return results},scope.cloneTree=function(obj){var item,ref,ref1,ref2,ref3,ref4,ref5,result,tmpObj;if(Array.isArray(obj)){if(result=[],"none"!==(null!=(ref=scope.sitecontent[null!=obj&&null!=(ref1=obj.attributes)?ref1.elementid:void 0])&&null!=(ref2=ref.style)?ref2.display:void 0))for(item in obj)obj.hasOwnProperty(item)&&("object"==typeof obj[item]&&null!==obj[item]?(tmpObj=scope.cloneTree(obj[item]),angular.equals(tmpObj,{})||result.push(angular.copy(tmpObj))):result.push(obj[item]))}else if(result={},"none"!==(null!=(ref3=scope.sitecontent[null!=obj&&null!=(ref4=obj.attributes)?ref4.elementid:void 0])&&null!=(ref5=ref3.style)?ref5.display:void 0))for(item in obj)obj.hasOwnProperty(item)&&("object"==typeof obj[item]&&null!==obj[item]?(tmpObj=scope.cloneTree(obj[item]),angular.equals(tmpObj,{})||(result[item]=angular.copy(tmpObj))):result[item]=obj[item]);return result},findObjectByKey=function(array,key,value){var i;for(i=0;i<array.length;){if(array[i][key]===value)return array[i];i++}return null},scope.addTargetBlankAttrs=function(){var k,ref,ref1,results,yelm;yelm=$("[yelemid="+scope.myyelemid+"]"),results=[];for(k in scope.sitecontent)"none"!==(null!=(ref=scope.sitecontent[k])&&null!=(ref1=ref.style)?ref1.display:void 0)&&scope.sitecontent[k].hasOwnProperty("href")&&scope.sitecontent[k].hasOwnProperty("target")&&"_blank"===scope.sitecontent[k].target?results.push(yelm.find("[elementid="+k+"]").attr("target","_blank")):results.push(void 0);return results},scope.addAdditionalDiv=function(data){var a,additionalColumns,additionalColumnshimalaydiv,additionaldiv,additionalhimalaydiv,blockelems,child,elementid,i,insertAtIndex,li;if(blockelems=["div","section","h2"],data.children){for(i=0;i<data.children.length;)child=data.children[i],"ul"===child.tagName&&child.children&&child.children.length>0&&(li=findObjectByKey(child.children,"tagName","li"),li&&li.children&&li.children.length>0&&(a=findObjectByKey(li.children,"tagName","a"),a&&child.attributes&&(child.attributes.forulist="",elementid=child.attributes.elementid,scope.sitecontent[elementid]&&(additionaldiv='<li additionallink="" ng-if="sitecontent[elem.elementid].deleted!= true" ng-class="cls" ng-style="stl" ulelementid="'+elementid+'" ng-repeat="elem in sitecontent.'+elementid+'.additional_links track by $index"></li>',additionalhimalaydiv=himalaya.parse(additionaldiv.toString())[0],insertAtIndex=child.children.length+1,child.children.splice(insertAtIndex,0,additionalhimalaydiv))))),child&&child.attributes&&child.attributes.className&&(-1===child.attributes.className.indexOf("foruadditionalelements")||-1===child.attributes.className.indexOf("foruaddli"))&&scope.addAdditionalDiv(child),i++;if(blockelems.indexOf(data.tagName)>-1&&(elementid=data.attributes.elementid,"div"===data.tagName&&scope.sitecontent[elementid]&&scope.sitecontent[elementid].classes&&((scope.sitecontent[elementid].classes.indexOf("container")>-1||scope.sitecontent[elementid].classes.indexOf("col-")>-1)&&(additionaldiv='<div class="foruadditionalelements" containerid="'+elementid+'"><additionalelement ng-if="sitecontent[elem.elementid].deleted!= true" ng-repeat="elem in sitecontent.'+elementid+'.additional_widgets track by $index"></additionalelement></div>',additionalhimalaydiv=himalaya.parse(additionaldiv.toString())[0],data.children.push(additionalhimalaydiv)),scope.sitecontent[elementid].classes.indexOf("row")>-1)))return scope.sitecontent[elementid].additional_columns_=scope.cloneTree(scope.sitecontent[elementid].additional_columns),additionalColumns="<div class='foruadditionalcolumns {{columnclass}}' elementid='{{elementid}}' ng-style='{{ngStyle}}' ng-class='{{ngClass}}'  ng-repeat='elem in sitecontent."+elementid+".additional_columns_ track by $index'  position={{elem.position}}></div> ",additionalColumnshimalaydiv=himalaya.parse(additionalColumns.toString())[0],data.children.push(additionalColumnshimalaydiv)}},scope.callChangeBG=function($event){return $event.stopPropagation()},scope.find_form=function(data){var child,j,len,ref,results;if("form"===data.tagName&&data.attributes&&(data.attributes.action="/sendmessage"),data.children){for(ref=data.children,results=[],j=0,len=ref.length;len>j;j++)child=ref[j],results.push(scope.find_form(child));return results}},scope.clear_inputs=function(data){var child,j,len,ref,results;if("input"===data.tagName&&data.attributes&&"submit"!==data.attributes.type&&(data.attributes.value=""),data.children){for(ref=data.children,results=[],j=0,len=ref.length;len>j;j++)child=ref[j],results.push(scope.clear_inputs(child));return results}},scope.trustAsHtml=function(string){return $sce.trustAsHtml(string)},scope.findNavbarElems=function(){var forunavlinks,j,k,len,ref,results;for(forunavlinks=[],ref=scope.sitecontent,results=[],j=0,len=ref.length;len>j;j++)k=ref[j],"elforunavbarul"===k&&scope.sitecontent[k].additional_links?(forunavlinks=scope.sitecontent[k].additional_links,results.push($timeout(function(){return scope.$emit("sendforunavlinks",forunavlinks)},800))):results.push(void 0);return results},scope.clear_editor=function(elem){var child,j,len,modelid,modelvalue,ref,results;if(elem.attributes&&"tinymceOptions"===elem.attributes.uiTinymce&&(delete elem.attributes.uiTinymce,modelvalue=elem.attributes.ngModel,modelid=modelvalue.split(".")[1],elem.attributes.ngBindHtml="trustAsHtml("+modelvalue+")"),elem.children){for(ref=elem.children,results=[],j=0,len=ref.length;len>j;j++)child=ref[j],results.push(scope.clear_editor(child));return results}},scope.setattributes=function(data){var child,elementid,j,k,len,modelid,modelvalue,ref,results;if(data){if("input"===data.tagName&&data.attributes&&"submit"!==data.attributes.type&&(data.attributes.value=""),"a"===data.tagName)for(k in scope.sitecontent)scope.sitecontent[k]&&scope.sitecontent[k]["data-toggle"]&&data.attributes&&(data.attributes.elementid&&data.attributes.elementid===k&&(data.attributes["data-toggle"]=scope.sitecontent[k]["data-toggle"],data.attributes.title=scope.sitecontent[k].title,data.attributes["data-content"]=scope.sitecontent[k]["data-content"],data.attributes["data-placement"]=scope.sitecontent[k]["data-placement"]),data.attributes.elid&&data.attributes.elid===k&&(data.attributes["data-toggle"]=scope.sitecontent[k]["data-toggle"],data.attributes.title=scope.sitecontent[k].title,data.attributes["data-content"]=scope.sitecontent[k]["data-content"],data.attributes["data-placement"]=scope.sitecontent[k]["data-placement"]));if("iframe"===data.tagName&&(null!=data?data.attributes.hasOwnProperty("onload"):void 0)&&(data.attributes.onload=""),"form"===data.tagName&&data.attributes&&(data.attributes.action="/sendmessage"),data.attributes&&(data.attributes.elementid&&(elementid=data.attributes.elementid,scope.sitecontent[elementid]&&(""===scope.sitecontent[elementid].classes&&delete data.attributes.ngClass,0===Object.keys(scope.sitecontent[elementid].style).length&&"localpreview"!==$state.current.name&&delete data.attributes.ngStyle,scope.sitecontent[elementid].clickaction&&(data.attributes.clickaction=scope.sitecontent[elementid].clickaction.url))),"tinymceOptions"===data.attributes.uiTinymce&&(delete data.attributes.uiTinymce,modelvalue=data.attributes.ngModel,modelvalue&&(modelid=modelvalue.split(".")[1],data.attributes.ngBindHtml="trustAsHtml("+modelvalue+")"))),data.children){for(ref=data.children,results=[],j=0,len=ref.length;len>j;j++)child=ref[j],results.push(scope.setattributes(child));return results}}},scope.$on("setCurrentLangBtn",function(evt,lang){return scope.switchLang(lang)}),scope.switchLang=function(lang){var j,key,l,len,len1,objectsList;if(objectsList=Object.keys(scope.sitecontent),"eng"===lang)for(j=0,len=objectsList.length;len>j;j++)key=objectsList[j],scope.sitecontent[key].text_eng&&(scope.sitecontent[key].text=angular.copy(scope.sitecontent[key].text_eng));if("rus"===lang)for(l=0,len1=objectsList.length;len1>l;l++)key=objectsList[l],scope.sitecontent[key].text_rus&&(scope.sitecontent[key].text=angular.copy(scope.sitecontent[key].text_rus));return scope.currentLang=lang},scope.analiticsGoal=function(){return $(document).on("click",function(e){var elmentid,trackers;return"BUTTON"===e.target.nodeName&&(elmentid=$(e.target).attr("elementid"),elmentid&&scope.sitecontent[elmentid]&&(scope.sitecontent[elmentid].ga&&"function"==typeof ga&&(trackers=ga.getAll(),trackers.length>1&&trackers[1].send("event",scope.sitecontent[elmentid].ga.category,scope.sitecontent[elmentid].ga.action)),scope.sitecontent[elmentid].ym&&"function"==typeof window["yaCounter"+scope.metid].reachGoal))?window["yaCounter"+scope.metid].reachGoal(scope.sitecontent[elmentid].ym.action):void 0;
})},scope.checkHiddenWidget=function(elementid){var c,item,j,len,ref,ref1,ref2,result;if(result=!1,c=0,!scope.isMobile)return!1;if(null!=(ref=scope.sitecontent[elementid])?ref.additional_widgets:void 0){for(ref1=scope.sitecontent[elementid].additional_widgets,j=0,len=ref1.length;len>j;j++)item=ref1[j],(null!=item?item.elementid:void 0)&&scope.sitecontent[item.elementid].deleted&&c++;(null!=(ref2=scope.sitecontent[elementid])?ref2.additional_widgets.length:void 0)===c&&(result=!0)}else result=!0;return result},scope.findOldExtrablockInPreview=function(cls){var classes,classesString,item,j,keys,len,ref,ref1,ref2,ref3,ref4,ref5;if((null!=(ref=scope.elemdata)&&null!=(ref1=ref.content)&&null!=(ref2=ref1.attributes)?ref2.className:void 0)&&scope.elemdata.content.attributes.className.indexOf(cls)>-1)return!0;if(null!=(ref3=scope.elemdata)&&null!=(ref4=ref3.usercontent)?ref4.data:void 0)for(ref5=scope.elemdata.usercontent.data,j=0,len=ref5.length;len>j;j++)if(item=ref5[j],keys=Object.keys(item),item[keys[0]]&&item[keys[0]].classes&&(classesString=item[keys[0]].classes.toString(),classes=classesString.indexOf(",")>-1?classesString.split(","):classesString.split(" "),classes.indexOf(cls)>-1))return!0;return!1},scope.compileTemplate=function(){var html,htmll,myhtml,uiViewAttr;return html=Himalaytranslate.toHTML(scope.elemdata.content),uiViewAttr=$(html).attr("ui-view"),"undefined"!=typeof uiViewAttr&&uiViewAttr!==!1&&(htmll=$(html).removeAttr("ui-view"),htmll&&htmll.length>0&&(html=htmll[0].outerHTML)),myhtml=$sce.trustAsHtml(html+scope.widgetscontainer),$compile(myhtml.toString())(scope,function(newelem){return $timeout(function(){var ref,ref1,ref2;return $(newelem).addClass("yepAnimation"),scope.animationBlock?scope.intervarYepAnimationHandler=$interval(function(){return window.siteAnimationsloadStyles?($(newelem).addClass("finished"),$interval.cancel(scope.intervarYepAnimationHandler)):void 0},10):$(newelem).addClass("finished"),$(newelem).attr("yelemid",scope.myyelemid),(null!=(ref=scope.elemdata)&&null!=(ref1=ref.usercontent)&&null!=(ref2=ref1._id)?ref2.$oid:void 0)&&$(newelem).attr("blockid",scope.elemdata.usercontent._id.$oid),element.replaceWith(newelem),scope.$emit("loadedBlock",scope.myyelemid)},10)}),$timeout(function(){return $("[yelemid="+scope.myyelemid+"]").click(function(evt){var elementid,scrollelem;return elementid=$(evt.target).attr("elementid"),"IMG"===$(evt.target).prop("tagName")&&elementid&&scope.sitecontent[elementid]&&scope.sitecontent[elementid].hasOwnProperty("clickaction")&&(evt.stopPropagation(),evt.preventDefault(),"href"===scope.sitecontent[elementid].clickaction.type&&window.open(scope.sitecontent[elementid].clickaction.url,"_blank"),"scroll"===scope.sitecontent[elementid].clickaction.type&&scope.sitecontent[elementid].clickaction.url.indexOf("#")>-1&&(scrollelem=0===$(scope.sitecontent[elementid].clickaction.url).length?$("[modelid="+scope.sitecontent[elementid].clickaction.url.replace("#","")+"]"):$(scope.sitecontent[elementid].clickaction.url),scrollelem&&$("html, body").animate({scrollTop:$(scrollelem).offset().top},300)),"image"===scope.sitecontent[elementid].clickaction.type)?$.fancybox.open({src:scope.sitecontent[elementid].src,type:"image"}):void 0})},500)},$rootScope.$on("scrollView",function(evt,val,offset){return scope.animation()}),scope.elemdata){if(oldExtraBlocks=["extrablock","extrablock_ng"],oldExtraBlocks.forEach(function(_this){return function(item,index){var foundedInPreview;return foundedInPreview=scope.findOldExtrablockInPreview(item),foundedInPreview?scope.$emit("foundedOldExtrablockPreview",item):void 0}}(this)),"foruarticleblock"===(null!=(ref=scope.elemdata)&&null!=(ref1=ref.content)?ref1.tagName:void 0)&&scope.$emit("foundedArticleBlockPreview"),showblockdeviceFlag=!1,showblockdevice={},hideblockFlag=!1,hideblockFlag_=!1,null!=(ref2=scope.elemdata)&&null!=(ref3=ref2.usercontent)?ref3.data:void 0)for(keys=Object.keys(scope.elemdata.usercontent.data),ref4=scope.elemdata.usercontent.data,j=0,len=ref4.length;len>j;j++)item=ref4[j],keys=Object.keys(item),"hideblock"===keys[0]&&item.hideblock&&(hideBlockFlag=!0),"showblockdevice"===keys[0]&&(showblockdeviceFlag=!0,showblockdevice=item.showblockdevice);if(showblockdeviceFlag&&(hideblockFlag_=showblockdevice[scope.currentViewType]?!1:!0),hideBlockFlag||hideblockFlag_)return scope.$emit("loadedBlock",scope.myyelemid);if("json"!==scope.elemdata.blocktype)return element.html(scope.elemdata.content+"<div class='handle'></div>"),$compile(element.contents())(scope),scope.$emit("loadedBlock",scope.myyelemid);if(scope.elemdata.content){if("script"===scope.elemdata.content.tagName)return void scope.$emit("loadedBlock",scope.myyelemid);if("Text"!==scope.elemdata.content.type&&"Comment"!==scope.elemdata.content.type){if(("preview2"===$state.current.name||"templatepreview"===$state.current.name)&&scope.addAdditionalDiv(scope.elemdata.content),scope.elemdata.content=scope.cloneTree(scope.elemdata.content),scope.setattributes(scope.elemdata.content),scope.findandsetImages(scope.elemdata.content),scope.analiticsGoal(),scope.findIDsFromModel(scope,scope.setIDsFromModel),scope.findNavbarElems(),scope.sitecontent&&(navBarElement=scope.findNavBarData(scope.sitecontent),navBarElement&&(scope.isNavBar=!0,$timeout(function(){var ref5,ref6,ref7;return null!==navBarElement&&(null!=navBarElement&&null!=(ref5=navBarElement.elm)?ref5.navBarData:void 0)&&(null!=navBarElement&&null!=(ref6=navBarElement.elm)&&null!=(ref7=ref6.navBarData)?ref7.fixedNavBarModel:void 0)===!0?$("[elementid="+navBarElement.key+"]").removeClass("navbar-fixed-top"):(null!=navBarElement?navBarElement.elm.classes.split(" ").indexOf("navbar-fixed-top"):void 0)>-1&&($("[elementid="+navBarElement.key+"]").css({position:"static"}),$("#fake-nav-bar").remove()),$(".advpreview")&&$(".advpreview").length>0?$("[elementid="+navBarElement.key+"]").css("margin-top","0"):void 0},100),oldVal=!1,$rootScope.$on("scrollView",function(evt,val,offset){var bgColor,childItem,childList,elm,height,l,len1,len2,len3,len4,m,n,p,ref10,ref5,ref6,ref7,ref8,ref9,results;if(oldVal!==val&&null!==navBarElement&&navBarElement.elm.navBarData&&navBarElement.elm.navBarData.fixedNavBarModel===!0){if(oldVal=val,childList=[],scope.getChilds(scope.elemdata,childList),val){if($("[elementid="+navBarElement.key+"]").addClass("navbar-fixed-top"),$(".advpreview")&&$(".advpreview").length>0&&$("[elementid="+navBarElement.key+"]").css("margin-top","50px"),navBarElement.elm.navBarData.changeColorsOnScroll){for(l=0,len1=childList.length;len1>l;l++)childItem=childList[l],$("[elementid="+childItem+"]").css("color",navBarElement.elm.navBarData.altColor),$("[elementid="+childItem+"]").css("background-color","rgba(0,0,0,0)");return $("[elementid="+navBarElement.key+"]").css("background-color",navBarElement.elm.navBarData.altBgColor),$("[elementid="+navBarElement.key+"]").css("color",navBarElement.elm.navBarData.altColor)}}else if($("[elementid="+navBarElement.key+"]").css({position:"static"}),$("#fake-nav-bar").remove(),$("[elementid="+navBarElement.key+"]").removeClass("navbar-fixed-top"),$(".advpreview")&&$(".advpreview").length>0&&$("[elementid="+navBarElement.key+"]").css("margin-top","0px"),navBarElement.elm.navBarData.changeColorsOnScroll){if(navBarElement.elm.style.hasOwnProperty("background-color"))$("[elementid="+navBarElement.key+"]").css("background-color",navBarElement.elm.style["background-color"]);else for(ref5=$("[elementid="+navBarElement.key+"]"),m=0,len2=ref5.length;len2>m;m++)item=ref5[m],item.style.removeProperty("background-color");for(results=[],n=0,len3=childList.length;len3>n;n++){if(childItem=childList[n],null!=(ref6=scope.sitecontent[childItem])&&null!=(ref7=ref6.style)?ref7.hasOwnProperty("color"):void 0)$("[elementid="+childItem+"]").css("color",scope.sitecontent[childItem].style.color);else for(ref8=$("[elementid="+childItem+"]"),p=0,len4=ref8.length;len4>p;p++)item=ref8[p],item.style.removeProperty("color");(null!=(ref9=scope.sitecontent[childItem])&&null!=(ref10=ref9.style)?ref10.hasOwnProperty("background-color"):void 0)?results.push($("[elementid="+childItem+"]").css("background-color",scope.sitecontent[childItem].style["background-color"])):results.push(function(){var len5,q,ref11,results1;for(ref11=$("[elementid="+childItem+"]"),results1=[],q=0,len5=ref11.length;len5>q;q++)item=ref11[q],results1.push(item.style.removeProperty("background-color"));return results1}())}return results}}else if((null!=navBarElement?navBarElement.elm.classes.split(" ").indexOf("navbar-fixed-top"):void 0)>-1){if(!val)return $("[elementid="+navBarElement.key+"]").css({position:"static"}),$("#fake-nav-bar").remove(),void($(".advpreview")&&$(".advpreview").length>0&&$("[elementid="+navBarElement.key+"]").css("margin-top","0px"));if(elm=$("#fake-nav-bar"),elm&&0===elm.length&&(height=$("[elementid="+navBarElement.key+"]").css("height"),bgColor=$("[elementid="+navBarElement.key+"]").css("background-color"),$("<div style='height: "+height+"; background-color: "+bgColor+"' id='fake-nav-bar'></div>").insertAfter("[yelemid="+scope.myyelemid+"]")),$("[elementid="+navBarElement.key+"]").css({position:"fixed"}),$(".advpreview")&&$(".advpreview").length>0)return $("[elementid="+navBarElement.key+"]").css("margin-top","50px")}}))),"nav"===scope.elemdata.content.tagName&&"true"===scope.elemdata.content.attributes.fixed&&scope.elemdata.content.attributes.className.push("navbar-fixed-top"),0===Object.keys(scope.elemdata.content).length)return void scope.$emit("loadedBlock",scope.myyelemid);if(!(scope.elemdata&&scope.elemdata.content&&scope.elemdata.content.tagName))return scope.compileTemplate();switch(scope.elemdata.content.tagName){case"formdesignerru":return $ocLazyLoad.load({cache:!0},{name:"formdesignerru.js",files:["/assets/js/formdesignerru.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(res){return scope.compileTemplate()});case"forutopbtn":return $ocLazyLoad.load({cache:!0},{name:"forutopbtn.js",files:["/assets/js/forutopbtn.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(res){return scope.compileTemplate()});case"forumap":return $ocLazyLoad.load({cache:!0},{name:"forumap.js",files:["/assets/js/forumap.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(res){return scope.compileTemplate()});case"forumodalblock":return $ocLazyLoad.load({cache:!0},{name:"forumodalblock.js",files:["/assets/js/forumodalblock.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(res){return scope.compileTemplate()});case"foruecwid":return $ocLazyLoad.load({cache:!0},{name:"foruecwid.js",files:["/assets/js/foruecwid.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(res){return scope.compileTemplate()});case"foruvkgroup":return $ocLazyLoad.load({cache:!0},{name:"foruvkgroup.js",files:["/assets/js/foruvkgroup.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random())),"/assets/js/services/vkinfo.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random())),"/assets/js/services/socialtoken.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(res){return scope.compileTemplate()});case"forudyngallery":return $ocLazyLoad.load({cache:!0},{name:"forudyngallery.js",files:["/assets/js/forudyngallery.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(res){return scope.compileTemplate()});case"foruinsta":return $ocLazyLoad.load({cache:!0},{name:"foruinsta.js",files:["/assets/js/foruinsta.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random())),"/assets/js/services/socialtoken.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(res){return scope.compileTemplate()});case"foruvk":return $ocLazyLoad.load({cache:!0},{name:"foruvk.js",files:["/assets/js/foruvk.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random())),"/assets/js/services/vkinfo.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random())),"/assets/js/services/socialtoken.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(res){return scope.compileTemplate()});case"forudigiseller":return $ocLazyLoad.load({cache:!0},{name:"forudigiseller.js",files:["/assets/js/forudigiseller.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(res){return scope.compileTemplate()});case"foruvkgroupproducts":return $ocLazyLoad.load({cache:!0},{name:"foruvkgroupproducts.js",files:["/assets/js/foruvkgroupproducts.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random())),"/assets/js/services/vkinfo.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random())),"/assets/js/services/socialtoken.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(res){return scope.compileTemplate()});case"foruproducts":return $ocLazyLoad.load({cache:!0},{name:"foruproducts.js",files:["/assets/js/foruproducts.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random())),"/assets/js/addtocartbtn.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(res){return scope.compileTemplate()});case"foruformconstructor":return $ocLazyLoad.load({cache:!0},{name:"foruformconstructor.js",files:["/assets/js/foruformconstructor.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(res){return $timeout(function(){return scope.compileTemplate()},50)});default:return scope.compileTemplate()}}}}}}})}.call(this),function(){angular.module("YepCom").directive("youtube",function($state,$compile,ngDialog,$stateParams,$timeout,$window){return{restrict:"E",scope:{height:"@",width:"@",videoid:"@"},template:'<div id="forubackgroundvideoid"></div>',link:function(scope,element){var aonready,firstScriptTag,tag;return tag=document.createElement("script"),tag.src="https://www.youtube.com/iframe_api",firstScriptTag=document.getElementsByTagName("script")[0],firstScriptTag.parentNode.insertBefore(tag,firstScriptTag),scope.player=void 0,scope.onPlayerReady=function(event){return void 0},aonready=function(event){return event.target.setPlaybackQuality("medium"),event.target.playVideo()},scope.setPlayer=function(){var newurl,vidid;newurl=scope.videoid,vidid=newurl.split("/").reverse()[0],vidid=vidid.substring(0,vidid.indexOf("?")),scope.player=new YT.Player("forubackgroundvideoid",{playerVars:{html5:1,theme:"light",modesbranding:0,color:"white",iv_load_policy:3,showinfo:0,controls:0,loop:1,mute:1,showCover:0,disablekb:1,enablejsapi:1,fs:0,modestbranding:1,rel:0},height:scope.height,width:scope.width,videoId:vidid,events:{onReady:aonready,onError:function(e){return void 0},onPlaybackQualityChange:function(e){return void 0},onStateChange:function(e){return e.data===YT.PlayerState.ENDED&&scope.player.playVideo(),e.data===YT.PlayerState.UNSTARTED?$timeout(function(){return scope.player.setPlaybackQuality("small"),scope.player.playVideo()},1e3):void 0}}})},$window.onYouTubeIframeAPIReady=function(){return scope.setPlayer()},scope.$on("setplayer",function(event,videoid){var newurl,vidid;return scope.videoid=videoid,newurl=videoid,vidid=newurl.split("/").reverse()[0],vidid=vidid.substring(0,vidid.indexOf("?")),void scope.player.loadVideoById(vidid)}),scope.$on("playVideEv",function(event){return scope.player.playVideo()}),scope.$on("initPlayer",function(event){return scope.setPlayer()})}}})}.call(this),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("preview/articlepages/articlepages.html",'<articlecategory\n  ng-if="currentstate == \'article-all-preview\' || currentstate ==  \'rubrics-all-preview\' || currentstate ==  \'rubrics-category-preview\'"\n  settings="articleSettings"\n  template="articleSettings.theme"></articlecategory>\n<articlesingle ng-if="currentstate == \'article-single-preview\'"\n  settings="articleSettings"\n  template="articleSettings.theme"></articlesingle>\n<div class="container center"\n  ng-show="!priority && proclam">\n  <div class="illiciumItem"\n    data-placeid="78"\n    data-role="illicium"\n    id="place78"\n    style="margin-top:5px;margin-bottom:5px;"></div>\n</div>\n<bannerloader></bannerloader>\n\n<div class="container-fluid"\n  ng-if="!priority && proclam">\n  <div class="row"\n    ng-show="gotsite">\n    <div class="col-xs-12"\n      style="text-align: center;"><br /><span style="color: #c5c5c5;">\u041f\u0440\u0438 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0435 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u044b - &nbsp</span><a\n        href="https://fo.ru">Fo.ru</a><br /><span style="color: #c5c5c5;">Copyright \xa9 2011\u20132017</span></div>\n  </div>\n</div>\n<forucounter></forucounter>\n<yepga gaid="gaid"\n  ng-if="gaid"></yepga>\n\n<yepmet metid="metid"\n  ng-if="metid"></yepmet>\n<jivochat jivoid="jivoid"\n  ng-if="jivoid"></jivochat>\n<zadarma ng-if="zadarmaid"\n  zadarmaid="zadarmaid">\n</zadarma>\n<torrow-widget ng-if="torrowurl"\n  torrowurl="torrowurl">\n</torrow-widget>\n<tinkoffchat ng-if="tinkoffid"\n  tinkoffid="tinkoffid"></tinkoffchat>\n<leadbackwidget leadbackid="leadbackid"\n  ng-if="leadbackid"></leadbackwidget>\n<yepcounter counter="wmcounter"\n  ng-if="wmcounter"></yepcounter>\n<blindmode ng-if="blindmodeenabled"></blindmode>\n<foruvideocall ng-if="foruvideocallenabled"></foruvideocall>\n<toaster-container class="c-toaster"\n  toaster-options="{\'time-out\': 7000, \'position-class\': \'toast-center\', \'close-button\': true}">\n</toaster-container>\n<yepga gaid="\'UA-118127381-1\'"></yepga>\n<c-online-users-listener></c-online-users-listener>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("preview/articles-category/articles-category.html",'<div class="articles__category"\n  ng-class="\'articles__category--\' + template">\n  <div ng-if="articles.length > 0 && currentstate != \'rubrics-all-preview\'">\n    <articleheader>\n    </articleheader>\n    <div>\n      <div ng-if="settings.breadcrumbs == \'breadcrumbs-visible\'">\n        <div class="col-article-content">\n          <nav aria-label="breadcrumb"\n            class="nav-breadcrumb">\n            <ol class="breadcrumb">\n              <li class="breadcrumb-item">\n                <a href="/">\u0413\u043b\u0430\u0432\u043d\u0430\u044f</a>\n              </li>\n              <li class="breadcrumb-item active">\u0412\u0441\u0435 \u0437\u0430\u043f\u0438\u0441\u0438</li>\n            </ol>\n          </nav>\n        </div>\n      </div>\n      <div>\n        <div class="col-article-content">\n          <div class="category__list">\n            <div class="category__article fr__margin--b-24 clearfix"\n              ng-if="article.public"\n              ng-repeat="article in articles track by $index">\n              <a class="article__link"\n                ng-if="!editModeFlag"\n                ui-sref="article-single-preview({transname: article.transname})">{{article.name |\n                htmlToPlaintext}}</a>\n              <a class="article__link"\n                ng-if="editModeFlag">{{article.name | htmlToPlaintext}}</a>\n              <div class="single_date">{{article.created_at | date:\'dd/MM/yyyy HH:mm\'}}</div>\n              <div class="article__body">{{article.body | htmlToPlaintext | truncate: 250}}</div>\n              <a class="article__btn fr__float--right"\n                ng-if="!editModeFlag"\n                ui-sref="article-single-preview({transname: article.transname})">\u041f\u0435\u0440\u0435\u0439\u0442\u0438</a>\n              <a class="article__btn fr__float--right f-btn"\n                ng-if="editModeFlag">\u041f\u0435\u0440\u0435\u0439\u0442\u0438</a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div ng-if="rubrics.length > 0 && currentstate == \'rubrics-all-preview\'">\n    <articleheader>\n    </articleheader>\n    <div>\n      <div>\n        <div class="col-article-content">\n          <div class="category__list">\n            <div class="category__article fr__margin--b-24 clearfix"\n              ng-repeat="rubric in rubrics track by $index">\n              <a class="article__link"\n                ng-if="!editModeFlag"\n                ui-sref="rubrics-category-preview({transname: rubric.transname})">{{rubric.name |\n                htmlToPlaintext}}</a>\n              <a class="article__link"\n                ng-if="editModeFlag">{{rubric.name | htmlToPlaintext}}</a>\n              <a class="article__btn fr__float--right"\n                ng-if="!editModeFlag"\n                ui-sref="rubrics-category-preview({transname: rubric.transname})">\u041f\u0435\u0440\u0435\u0439\u0442\u0438</a>\n              <a class="article__btn fr__float--right f-btn"\n                ng-if="editModeFlag">\u041f\u0435\u0440\u0435\u0439\u0442\u0438</a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div ng-if="articles.length == 0 && currentstate == \'rubrics-category-preview\'">\n    <articleheader>\n    </articleheader>\n    <div>\n      <div>\n        <div class="col-article-content text-center"\n          style="margin-top: 32px;">\u0412 \u0434\u0430\u043d\u043d\u043e\u0439 \u0440\u0443\u0431\u0440\u0438\u043a\u0435 \u043d\u0435\u0442 \u0437\u0430\u043f\u0438\u0441\u0435\u0439.</div>\n      </div>\n    </div>\n  </div>\n  <div>\n    <div class="col-article-content">\n      <div class="articles-footer">\n        <a class="b-rss-link"\n          ng-href="{{rssLink}}"\n          ng-if="rssLink"\n          target="_blank">\n          <img class="c-image-fluid"\n            src="assets/images/admin/icons/pages/icon-dark-blue-rss.svg" />\n          <span>rss -\n            feed</span>\n        </a>\n      </div>\n    </div>\n  </div>\n  <pagenotfound ng-if="articles.length == 0 && rubrics.length == 0 && currentstate != \'rubrics-category-preview\'">\n  </pagenotfound>\n</div>')}]),angular.module("YepCom").directive("articleheader",function($sce,$sanitize){return{restrict:"E",replace:!0,templateUrl:"preview/articles-header/articles-header.html",link:function(scope,element,attrs){return scope.trustAsHtml=function(string){var r,res;return string?(r=$sanitize(string),res=$sce.trustAsHtml(r)):void 0}}}}),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("preview/articles-header/articles-header.html",'<div class="articles__header"\n  ng-class="settings.logoposition">\n  <div class="container"\n    ng-hide="settings.logoimage.length == 0"\n    ng-if="settings.logoposition != \'logo-hidden\' || settings.logotext != \'logotext-hidden\'">\n    <div class="row">\n      <div class="col-xs-12">\n        <div class="header__logo-container"><a class="header__logo-img"\n            href="/foruposts"\n            ng-if="settings.logoposition != \'logo-hidden\'"><img ng-src="{{settings.logoimage}}" /></a>\n          <div class="header__logo-text"\n            ng-bind-html="trustAsHtml(settings.logotextvalue)"\n            ng-if="settings.logotext == \'logotext-visible\'"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("preview/articles-single/articles-single.html",'<div class="articles__single clearfix"\n  ng-class="\'articles__single--\' + template">\n  <div class="articles__single--inner"\n    ng-if="article.public || previewarticle">\n    <articleheader>\n    </articleheader>\n    <div>\n      <div ng-if="settings.breadcrumbs == \'breadcrumbs-visible\'">\n        <div class="col-article-content">\n          <nav aria-label="breadcrumb"\n            class="nav-breadcrumb">\n            <ol class="breadcrumb">\n              <li class="breadcrumb-item">\n                <a href="/">\u0413\u043b\u0430\u0432\u043d\u0430\u044f</a>\n              </li>\n              <li class="breadcrumb-item">\n                <a ng-if="!previewarticle"\n                  ui-sref="article-all-preview">\u0412\u0441\u0435 \u0437\u0430\u043f\u0438\u0441\u0438</a>\n                <a href="#"\n                  ng-if="previewarticle">\u0412\u0441\u0435 \u0437\u0430\u043f\u0438\u0441\u0438</a>\n              </li>\n              <li aria-current="page"\n                class="breadcrumb-item active">{{article.name | htmlToPlaintext}}</li>\n            </ol>\n          </nav>\n        </div>\n      </div>\n      <div>\n        <div class="col-article-content">\n          <div class="articles__single__content">\n            <div class="h1 single__header"\n              ng-bind-html="trustAsHtml(article.name)">\n            </div>\n            <div class="single_date"\n              ng-if="settings.date == \'date-visible\'">{{article.created_at | date:\'dd/MM/yyyy HH:mm\'}}</div>\n            <div class="single__body"\n              ng-bind-html="trustAsHtml(article.body)">\n            </div>\n            <div class="single__rubrics-list"\n              ng-if="settings.rubrics == \'rubrics-visible\'">\n              <a class="rubric-link"\n                ng-repeat="rubric in article.rubrics"\n                ui-sref="rubrics-category-preview({transname: rubric.transname})">{{rubric.name}}</a>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div>\n        <div class="col-article-content">\n          <div class="articles-footer">\n            <a class="b-rss-link"\n              ng-href="{{rssLink}}"\n              ng-if="rssLink"\n              target="_blank">\n              <img class="c-image-fluid"\n                src="assets/images/admin/icons/pages/icon-dark-blue-rss.svg" />\n              <span>rss -\n                feed</span>\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <pagenotfound ng-if="!article.public && !previewstate">\n  </pagenotfound>\n</div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("preview/c-online-users-listener/c-online-users-listener.html",'<div class="c-online-users-listener">\n\n</div>')}]),angular.module("YepCom").directive("cOnlineUsersListener",function(Onlineusers,$state){return{restrict:"EA",replace:!0,templateUrl:"preview/c-online-users-listener/c-online-users-listener.html",link:function(scope,element,attrs){"preview2"==$state.current.name.toString()&&(navigator.onLine&&(Onlineusers.createOnlineUser(),scope.myTimer=setInterval(function(){navigator.onLine&&Onlineusers.createOnlineUser()},12e4)),window.onbeforeunload=function(){scope.myTimer&&clearInterval(scope.myTimer),Onlineusers.deleteOnlineUser().then(function(result){return result.onlinecount})},scope.$on("$destroy",function(){scope.myTimer&&clearInterval(scope.myTimer),Onlineusers.deleteOnlineUser().then(function(result){return result.onlinecount})}))}}}),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("preview/failpayment/failpayment.html",'<div class="t-page t-page--payment-status t-page--fail-payment">\n  <div class="b-payment-status b-payment-status--fail">\n    <div class="b-payment-status__title">\n      \u041f\u043b\u0430\u0442\u0451\u0436 \u043d\u0435 \u043f\u0440\u043e\u0448\u0451\u043b\n    </div>\n    <div class="b-payment-status__description">\n      \u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u043f\u043b\u0430\u0442\u0451\u0436 \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c. \u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u0432 \u0441\u043b\u0443\u0436\u0431\u0443 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438\n      <a href="mailto:support@fo.ru">support@fo.ru</a>\n      <br />\n      \u0421\u0435\u0439\u0447\u0430\u0441 \u0432\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u0432 \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442.\n    </div>\n    <div class="b-payment-status__timer">\n      <timer countdown="7"\n        interval="1000">\u041f\u0435\u0440\u0435\u0445\u043e\u0434 \u0447\u0435\u0440\u0435\u0437 {{countdown}} \u0441\u0435\u043a\u0443\u043d\u0434</timer>\n    </div>\n    <div class="b-payment-status__actions">\n      <a href="{{ user ? \'/home\' : \'/login\'}}"\n        class="c-button c-button--salmon c-button--big">\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442</a>\n    </div>\n  </div>\n</div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("preview/foruadditionalelements/foruadditionalelements.html",'<div class="foruadditionalelements">\n  <additionalelement></additionalelement>\n</div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("preview/forubgvideo/forubgvideo.html",'<div>\n  <div class="forubgvideo">\n    <div class="forubgvideocont">\n      <youtube height="100%"\n        videoid="{{bgvideolink}}"\n        width="100%"></youtube>\n    </div>\n  </div>\n  <div class="btnPlayVideo"\n    ng-click="playBgVideo()"\n    ng-show="showPlayBtn"><i class="fa fa-play"></i></div>\n</div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("preview/forubgvideolocal/forubgvideolocal.html",'<div>\n  <div class="forubgvideo">\n    <div class="forubgvideocont"><video async="true"\n        autoplay=""\n        id="localvideobg"\n        loop="loop"\n        muted="true"\n        ng-src="{{url}}"\n        playsinline="true"\n        style="width:100%;height:100%;"\n        webkit-playsinline="true"></video></div>\n  </div>\n  <div class="btnPlayVideo"\n    ng-click="playBgVideo()"\n    ng-show="showPlayBtn"><i class="fa fa-play"></i></div>\n</div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("preview/foruprocbanner/foruprocbanner.html",'<div class="foruprocbanner">\n  <div><span class="pull-left">\u041f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u0441\u044f \u0441\u0430\u0439\u0442? \u0421\u043e\u0437\u0434\u0430\u0439 \u0441\u0432\u043e\u0439 \u0441\u0430\u0439\u0442 \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e \u043d\u0430 FO.RU</span>&nbsp<noindex><a\n        class="salmon-btn"\n        href="https://fo.ru/userregister?utm_source=foru&amp;utm_medium=banner&amp;utm_campaign=client&amp;utm_content=link-2"\n        rel="nofollow"\n        target="_blank">\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0421\u0430\u0439\u0442</a></noindex>\n  </div>\n</div>')}]),angular.module("YepCom").directive("forushopcart",function($timeout,$compile,$ocLazyLoad,$injector){return{restrict:"E",scope:{forusiteid:"=",forupageid:"=",shoppage:"="},link:function(scope,element,attrs){$ocLazyLoad.load({cache:!0},{name:"forushopcart-defer.js",files:["/assets/js/forushopcart-defer.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(){var tmpl='<forushopcart-defer forusiteid="forusiteid" shoppage="shoppage"></forushopcart-defer>';$compile(tmpl)(scope,function(newelem){$(element).append(newelem)})})}}}),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("preview/forusoberuform/forusoberuform.html",'<div class="forusoberuform f-btn">\n  <div class="forusoberuform-container clearfix f-btn">\n    <div class="forusoberuform-top clearfix f-btn">\n      <div class="forusoberuform-header f-btn">\u0412\u0430\u0448 \u043f\u0435\u0440\u0435\u0432\u043e\u0434</div>\n      <div class="forusoberuform-input-amount f-btn"><input class="form-control f-btn"\n          ng-keypress="keyPressed($event)"\n          ng-model="forusoberuamount"\n          type="text" /></div>\n      <div class="forusoberuform-input-amount-currency f-btn"\n        ng-bind="currency"></div>\n    </div>\n    <div class="forusoberuform-input-descr f-btn"><textarea class="form-control f-btn"\n        ng-model="forusoberudescr"\n        placeholder="\u0412\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"></textarea></div>\n    <div class="forusoberuform-button f-btn"\n      ng-click="sendToPayment(forusoberuamount, forusoberudescr)">\u0414\u0430\u043b\u044c\u0448\u0435</div>\n  </div>\n</div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("preview/page404/page404.html",'<div class="t-page t-page--centered-info t-page--404">\n  <div class="b-flex-content">\n    <div class="b-flex-content__logo">\n      <img src="/assets/images/logo.svg" />\n    </div>\n    <div class="b-flex-content__title--big">\n      404\n    </div>\n    <div class="b-flex-content__title b-flex-content__title--no-icon">\n      \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430\n    </div>\n    <div class="b-flex-content__description">\n      \u0427\u0435\u0440\u0435\u0437 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434, \u0412\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043d\u0430 &nbsp<a href="https://fo.ru">https://fo.ru</a>.\n    </div>\n    <div class="b-flex-content__timer">\n      <timer countdown="7"\n        interval="1000">\u041f\u0435\u0440\u0435\u0445\u043e\u0434 \u0447\u0435\u0440\u0435\u0437 {{countdown}} \u0441\u0435\u043a\u0443\u043d\u0434</timer>\n    </div>\n    <div class="b-flex-content__description">\n      \u041f\u043e \u0432\u0441\u0435\u043c \u0432\u043e\u043f\u0440\u043e\u0441\u0430\u043c \u043e\u0431\u0440\u0430\u0449\u0430\u0439\u0442\u0435\u0441\u044c \u043d\u0430 &nbsp<a href="mailto:support@fo.ru">support@fo.ru\n    </div>\n    <div class="b-flex-content__actions">\n      <a class="c-button c-button--salmon c-button--big"\n        href="https://fo.ru">\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0430\u0439\u0442 \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e</a>\n    </div>\n  </div>\n</div>');
}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("preview/pagenotfound/pagenotfound.html",'<div class="not-found-page" id="notfoundpage">\n  <div class="not-found-page__inner">\n    <div class="not-found-page__title">\n      <div class="title__header">404</div><img class="title__image"\n        src="/assets/images/boy-with-concealing-face.svg" />\n      <div class="title__text">\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430</div>\n    </div>\n    <div class="not-found-page__text"><a class="btn btn-circle-salmon big"\n        href="https://fo.ru">\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0430\u0439\u0442 \u043d\u0430 fo.ru \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e</a></div>\n  </div>\n</div>')}]),angular.module("YepCom").directive("pagenotfound",function(){return{restrict:"E",replace:!0,templateUrl:"preview/pagenotfound/pagenotfound.html",link:function(scope,element,attrs){}}}),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("preview/successpayment/successpayment.html",'<div class="t-page t-page--payment-status t-page--success-payment">\n  <div class="b-payment-status b-payment-status--success">\n    <div class="b-payment-status__title">\n      \u0423\u0441\u043f\u0435\u0448\u043d\u0430\u044f \u043e\u043f\u043b\u0430\u0442\u0430\n    </div>\n    <div class="b-payment-status__description">\n      \u041f\u043b\u0430\u0442\u0451\u0436 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d. \u0427\u0435\u0440\u0435\u0437 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434, \u0412\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u0432 \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442.\n    </div>\n    <div class="b-payment-status__timer">\n      <timer countdown="7"\n        interval="1000">\u041f\u0435\u0440\u0435\u0445\u043e\u0434 \u0447\u0435\u0440\u0435\u0437 {{countdown}} \u0441\u0435\u043a\u0443\u043d\u0434</timer>\n    </div>\n    <div class="b-payment-status__actions">\n      <a href="{{ user ? \'/home\' : \'/login\'}}"\n        class="c-button c-button--salmon c-button--big">\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442</a>\n    </div>\n  </div>\n</div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("preview/waitmsg/waitmsg.html",'<div class="wait-msg">\n\n    <div class="c-loader--bricks" style="position: absolute; top: 0; right: 0; bottom: 0; left: 0; background: transparent url(https://editor.fo.ru/assets/images/admin/loaders/animation-loader-bricks.svg) center center no-repeat;  background-size: 40px;">\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n</div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("preview/waitpayment/waitpayment.html",'<div class="t-page t-page--payment-status t-page--wait-payment">\n  <div class="b-payment-status b-payment-status--success">\n    <div class="b-payment-status__title">\n      \u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u0442\u0435\u0436\u0430\n    </div>\n    <div class="b-payment-status__description">\n      \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434, \u043f\u043b\u0430\u0442\u0435\u0436 \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u0442\u0441\u044f.\n    </div>\n    <!-- div class="b-payment-status__timer">\n      <timer countdown="7"\n        interval="1000">\u041f\u0435\u0440\u0435\u0445\u043e\u0434 \u0447\u0435\u0440\u0435\u0437 {{countdown}} \u0441\u0435\u043a\u0443\u043d\u0434</timer>\n    </div -->\n    <div class="b-payment-status__loader">\n      <div class="c-loader c-loader--bricks ng-isolate-scope">\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n    <!-- div class="b-payment-status__actions">\n      <a href="{{ user ? \'/home\' : \'/login\'}}"\n        class="c-button c-button--salmon c-button--big">\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442</a>\n    </div -->\n  </div>\n</div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-editor-preview-forunews/forunews/forunews-default/forunews-default.html",'<div class="forunews forunews-default">\n  <div class="content forunewsList">\n    <div class="text-center"\n      ng-if="newsdata.forunews.length == 0">\n      <div class="descr">\u0412 \u0431\u043b\u043e\u0433\u0435 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0437\u0430\u043f\u0438\u0441\u0435\u0439<br />\n        <br />\n        <a class="btn btn-circle-dark f-btn"\n          href="#"\n          ng-show="state != \'preview2\' && state != \'localpreview\'">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c\n          \u0437\u0430\u043f\u0438\u0441\u044c</a>\n        <br />\n        <br />\n      </div>\n    </div>\n    <div class="text-center"\n      ng-if="newsdata.forunews.length > 0">\n      <div class="foruNewsListInner">\n        <div class="foruNewsList">\n          <div class="foruNewsListItem"\n            ng-class="newsitem.public ? \'newsitemPublicated\' : \'\'"\n            ng-if="(newsitem.public && !singlePagePostView) || (newsitem.public && singlePagePostView && newsitem[\'_id\'][\'$oid\'] == singlePagePostId)"\n            ng-repeat="newsitem in newsdata.forunews | orderBy: \'-publicationdate\' ">\n            <div newsitemid="{{newsitem[\'_id\'][\'$oid\']}}">\n              <div class="foruNewsListItemZag">\n                <div class="col-md-8"\n                  style="padding-left:0px;">\n                  <span>{{newsitem.name}}</span>\n                </div>\n                <div class="col-md-4">\n                  <small class="pull-right">\n                    <span class="is-flex">\n                      <img class="avatar"\n                        ng-show="!avatar"\n                        ng-src="{{newsitem.author.image_url}}" />\n                      <img class="avatar"\n                        ng-show="avatar"\n                        ng-src="{{avatar}}" />\n                        <span>{{newsitem.author.name}}</span>\n                    </span>\n                    <c-button-subscribe-blog type="link"\n                      usr-data="usrData"></c-button-subscribe-blog>\n                    <span>\n                      &nbsp; {{newsitem.publicationdate || newsitem.created_at |\n                      date:\'dd/MM/yyyy\'}}\n                    </span>\n                  </small>\n                </div>\n              </div>\n              <div class="foruNewsCover">\n                <img class="img-responsive img-rounded f-btn"\n                  ng-if="newsitem.mainimage_url"\n                  ng-src="{{newsitem.mainimage_url}}" />\n                <img class="img-responsive img-rounded f-btn"\n                  ng-if="!newsitem.mainimage_url"\n                  ng-src="/assets/images/no-photo-bg.png" />\n              </div>\n              <div class="foruNewsListItemDescr"\n                ng-class="{\'full-text-is-visible\' : showitemsid[newsitem[\'_id\'][\'$oid\']]}">\n                <span ng-bind-html="trustAsHtml(newsitem.description)">\n                </span>\n              </div>\n              <div class="foruNewsItemBody slide-down"\n                ng-if="showitemsid[newsitem[\'_id\'][\'$oid\']]">\n                <forunewsitembody item="newsitem">\n                </forunewsitembody>\n                <div class="foruBlogShareBtn"\n                  ng-class="pointerclass"\n                  ng-show="showPostShareButtons">\n                  <div class="a2a_kit a2a_kit_size_32 a2a_default_style">\n                    <a class="a2a_button_facebook">\n                    </a>\n                    <a class="a2a_button_twitter">\n                    </a>\n                    <a class="a2a_button_google_plus">\n                    </a>\n                    <a class="a2a_button_vk">\n                    </a>\n                    <a class="a2a_button_linkedin">\n                    </a>\n                    <a class="a2a_button_telegram">\n                    </a>\n                    <a class="a2a_button_whatsapp">\n                    </a>\n                    <a class="a2a_button_odnoklassniki">\n                    </a>\n                  </div>\n                  <script async\n                    src="https://static.addtoany.com/menu/page.js">\n                    </script>\n                </div>\n              </div>\n              <div class="foruNewsBottom">\n                <div class="foruReadMore pull-right">\n                  <a class="foruReadMore__button f-btn"\n                    ng-click="setLocation(newsitem, true, $event)"\n                    ng-href="{{pageName}}?forunewsid={{newsitem[\'_id\'][\'$oid\']}}&showitem=true"\n                    ng-show="!showitemsid[newsitem[\'_id\'][\'$oid\']]"\n                    stopscroll="true">\u0427\u0438\u0442\u0430\u0442\u044c \u0434\u0430\u043b\u0435\u0435</a>\n                  <a class="foruReadMore__button f-btn"\n                    ng-click="setLocation(newsitem, false, $event)"\n                    ng-show="showitemsid[newsitem[\'_id\'][\'$oid\']]"\n                    stopscroll="true">\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c</a>\n                </div>\n                <div class="foruNewsBottom__date">\n                  {{newsitem.publicationdate || newsitem.created_at |\n                  date:\'dd MMM yyyy\'}}\n                </div>\n              </div>\n              <c-button-blog-favourites item="newsitem" usr-data="usrData"></c-button-blog-favourites>\n              <newsitemcommentform item="newsitem"\n                usr-data="usrData"\n                newsitemcomments="newsitemcomments"\n                ng-if="showitemsid[newsitem[\'_id\'][\'$oid\']] && showPostComments">\n              </newsitemcommentform>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-editor-preview-forunews/forunews/forunews-fiore/forunews-fiore.html",'<div class="forunews forunews-fiore">\n  <div class="container"\n    ng-if="newsdata.forunews.length == 0">\n    <div class="row empty-block">\n      <div class="col-md-9">\n        <div class="descr">\u0412 \u0431\u043b\u043e\u0433\u0435 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0437\u0430\u043f\u0438\u0441\u0435\u0439</div>\n        <a class="c-button c-button--dark-blue c-button--big f-btn"\n          href="#"\n          ng-show="state != \'preview2\' && state != \'localpreview\'">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c</a>\n      </div>\n    </div>\n  </div>\n  <div ng-if="newsdata.forunews.length > 0">\n    <div class="col-md-9">\n      <div class="news-list">\n        <div class="news-item"\n          ng-class="newsitem.public ? \'newsitemPublicated\' : \'\'"\n          ng-if="(newsitem.public && !singlePagePostView) || (newsitem.public && singlePagePostView && newsitem[\'_id\'][\'$oid\'] == singlePagePostId)"\n          ng-repeat="newsitem in newsdata.forunews | orderBy: \'-publicationdate\' ">\n          <div class="row"\n            newsitemid="{{newsitem[\'_id\'][\'$oid\']}}">\n            <div ng-class="showitemsid[newsitem[\'_id\'][\'$oid\']] ? \'col-md-12 news-full-width\' : \'col-md-5\'">\n              <div class="news-item-cover">\n                <img class="img-responsive img-rounded f-btn" ng-if="newsitem.mainimage_url"\n                  ng-src="{{newsitem.mainimage_url}}" />\n                <img class="img-responsive img-rounded f-btn" ng-if="!newsitem.mainimage_url"\n                  ng-src="/assets/images/no-photo-bg.png" />\n              </div>\n            </div>\n            <div ng-class="showitemsid[newsitem[\'_id\'][\'$oid\']] ? \'col-md-12 news-full-width\' : \'col-md-7\'">\n              <div class="news-item-info">\n                <h2>{{newsitem.name}}</h2>\n                <p class="short-descr"\n                  ng-bind-html="trustAsHtml(newsitem.description)">\n                </p>\n                <div class="foruNewsItemBody"\n                  ng-if="showitemsid[newsitem[\'_id\'][\'$oid\']]">\n                  <forunewsitembody item="newsitem">\n                  </forunewsitembody>\n                  <div class="foruBlogShareBtn"\n                    ng-class="pointerclass" ng-show="showPostShareButtons">\n                    <div class="a2a_kit a2a_kit_size_32 a2a_default_style">\n                      <a class="a2a_button_facebook">\n                      </a>\n                      <a class="a2a_button_twitter">\n                      </a>\n                      <a class="a2a_button_google_plus">\n                      </a>\n                      <a class="a2a_button_vk">\n                      </a>\n                      <a class="a2a_button_linkedin">\n                      </a>\n                      <a class="a2a_button_telegram">\n                      </a>\n                      <a class="a2a_button_whatsapp">\n                      </a>\n                      <a class="a2a_button_odnoklassniki">\n                      </a>\n                    </div>\n                    <script async\n                      src="https://static.addtoany.com/menu/page.js">\n                      </script>\n                  </div>\n                </div>\n                <a class="btn-show-more f-btn"\n                  ng-click="setLocation(newsitem, true, $event)"\n                  ng-href="{{pageName}}?forunewsid={{newsitem[\'_id\'][\'$oid\']}}&showitem=true"\n                  ng-show="!showitemsid[newsitem[\'_id\'][\'$oid\']]"\n                  stopscroll="true">\u0427\u0438\u0442\u0430\u0442\u044c \u0434\u0430\u043b\u044c\u0448\u0435</a>\n                <a class="btn-show-more f-btn"\n                  ng-click="setLocation(newsitem, false, $event)"\n                  ng-show="showitemsid[newsitem[\'_id\'][\'$oid\']]"\n                  stopscroll="true">\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c</a>\n                <c-button-blog-favourites item="newsitem" usr-data="usrData"></c-button-blog-favourites>\n                <newsitemcommentform item="newsitem"\n                  usr-data="usrData"\n                  newsitemcomments="newsitemcomments"\n                  ng-if="showitemsid[newsitem[\'_id\'][\'$oid\']] && showPostComments">\n                </newsitemcommentform>\n                <div class="news-item-meta">\n                  <span class="news-item-meta-name">\n                    <img class="avatar"\n                      ng-src="{{newsitem.author[\'image_url\']}}" />{{newsitem.author.name}}</span>\n                  <span>\n                    <i aria-hidden="true"\n                      class="fa fa-clock-o">\n                    </i>{{newsitem.publicationdate || newsitem.created_at |\n                    date:\'dd/MM/yyyy\'}}</span>\n                  <span ng-show="showPostComments">\n                    <i aria-hidden="true"\n                      class="fa fa-comment-o">\n                    </i>{{newsitemcomments.length}}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-editor-preview-forunews/forunews/forunews-text-card/forunews-text-card.html",'<div class="forunews forunews-text-card">\n  <div class="container"\n    ng-if="newsdata.forunews.length == 0">\n    <div class="row empty-block">\n      <div class="col-xs-12">\n        <div class="c-text--small s-margin-bottom-xs">\u0412 \u0431\u043b\u043e\u0433\u0435 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0437\u0430\u043f\u0438\u0441\u0435\u0439</div>\n        <a class="c-button-dark f-btn"\n          href="#"\n          ng-show="state != \'preview2\' && state != \'localpreview\'">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c</a>\n      </div>\n    </div>\n  </div>\n  <div ng-if="newsdata.forunews.length > 0">\n    <div class="row">\n      <div class="col-xs-12">\n        <div class="b-posts">\n          <div class="b-posts-item"\n            ng-class="newsitem.public ? \'newsitemPublicated\' : \'\'"\n            ng-if="(newsitem.public && !singlePagePostView) || (newsitem.public && singlePagePostView && newsitem[\'_id\'][\'$oid\'] == singlePagePostId)"\n            ng-repeat="newsitem in newsdata.forunews | orderBy: \'-publicationdate\' ">\n            <div class="b-posts-item-full-text__top"\n              ng-if="showitemsid[newsitem[\'_id\'][\'$oid\']]">\n              <div class="b-posts-item-full-text__title">{{newsitem.name}}</div>\n              <a class="b-posts-item-full-text__button f-btn"\n                ng-click="setLocation(newsitem, false, $event)"\n                ng-style="sitecontent[\'elforublogsettings\'][\'postclosebutton\'][\'style\']"\n                stopscroll="true">\u041d\u0430\u0437\u0430\u0434</a>\n            </div>\n            <div class="b-posts-item-wrapper"\n              newsitemid="{{newsitem[\'_id\'][\'$oid\']}}">\n              <div class="b-posts-item-image-wrapper">\n                <img class="b-posts-item-image img-responsive f-btn" ng-if="newsitem.mainimage_url"\n                  ng-src="{{newsitem.mainimage_url}}" />\n                <img class="b-posts-item-image img-responsive f-btn" ng-if="!newsitem.mainimage_url"\n                ng-src="/assets/images/no-photo-bg.png" />\n              </div>\n              <div class="b-posts-item-card"\n                ng-if="!showitemsid[newsitem[\'_id\'][\'$oid\']]">\n                <div class="b-posts-item-card__title">{{newsitem.name}}</div>\n                <div class="b-posts-item-card__description"\n                  ng-bind-html="trustAsHtml(newsitem.description)"></div>\n                <a class="b-posts-item-card__button f-btn"\n                  ng-click="setLocation(newsitem, true, $event)"\n                  ng-href="{{pageName}}?forunewsid={{newsitem[\'_id\'][\'$oid\']}}&showitem=true"\n                  ng-style="sitecontent[\'elforublogsettings\'][\'postopenbutton\'][\'style\']"\n                  stopscroll="true">\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435</a>\n              </div>\n            </div>\n            <div class="b-posts-item-full-text"\n              ng-if="showitemsid[newsitem[\'_id\'][\'$oid\']]">\n              <div class="b-posts-item-full-text__description"\n                ng-bind-html="trustAsHtml(newsitem.description)"></div>\n              <forunewsitembody item="newsitem">\n              </forunewsitembody>\n              <div class="b-posts-item-full-text__bottom">\n                <div class="b-posts-item-full-text__date">\n                  \u0414\u0430\u0442\u0430: {{newsitem.publicationdate || newsitem.created_at |\n                  date:\'dd.MM.yyyy\'}}\n                </div>\n                <div class="b-posts-item-full-text__comments"\n                  ng-show="showPostComments">\n                  \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438: {{newsitemcomments.length}}\n                </div>\n              </div>\n\n              <div class="b-posts-item-full-text__share-buttons"\n                ng-class="pointerclass"\n                ng-show="showPostShareButtons">\n                <div class="a2a_kit a2a_kit_size_32 a2a_default_style">\n                  <a class="a2a_button_facebook">\n                  </a>\n                  <a class="a2a_button_twitter">\n                  </a>\n                  <a class="a2a_button_google_plus">\n                  </a>\n                  <a class="a2a_button_vk">\n                  </a>\n                  <a class="a2a_button_linkedin">\n                  </a>\n                  <a class="a2a_button_telegram">\n                  </a>\n                  <a class="a2a_button_whatsapp">\n                  </a>\n                  <a class="a2a_button_odnoklassniki">\n                  </a>\n                </div>\n                <script async\n                  src="https://static.addtoany.com/menu/page.js">\n                  </script>\n              </div>\n              <c-button-blog-favourites item="newsitem" usr-data="usrData"></c-button-blog-favourites>\n              <newsitemcommentform item="newsitem"\n                usr-data="usrData"\n                newsitemcomments="newsitemcomments"\n                ng-if="showitemsid[newsitem[\'_id\'][\'$oid\']] && showPostComments">\n              </newsitemcommentform>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-editor-preview/dynamicblocks/foru-data-structure/foru-data-structure.html",'<div class="foru-data-structure-element">\n\n  <span ng-show="!showLoader">\n    <forutreenodeitem ng-repeat=\'item in tree | orderBy: "node.obj.position" track by $index\'\n      nodeitem=\'item\'\n      siteuuid=\'forusite.uuid\'></forutreenodeitem>\n    <div ng-if="showMessage"\n      class="foru-data-structure-element-content"\n      noelementid>\n      <p class="h5-like">\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0435 \u043c\u0435\u043d\u044e</p>\n      <button class="burgermenu-footer-btn f-btn"\n        ng-click="openConfig()">+</button>\n      <br>\n      <span noelementid=""\n        class="myNewoutliner foru-data-structure-element-content-text">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e</span>\n    </div>\n  </span>\n\n  <div ng-show="showLoader"\n    class="foru-data-structure-element-loader">\n    <div class="c-loader c-loader--bricks ng-isolate-scope">\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n  </div>\n\n</div>')}]),angular.module("YepCom").directive("foruDataStructure",function($state,NodeTrees,$timeout){return{restrict:"EA",templateUrl:"templates-editor-preview/dynamicblocks/foru-data-structure/foru-data-structure.html",link:function(scope,element,attrs){scope.tree=[],scope.showMessage=!1,scope.showLoader=!0,scope.initS=function(){if("preview2"!==$state.current.name&&"localpreview"!==$state.current.name&&"templatepreview"!==$state.current.name&&"previewimage"!==$state.current.name)NodeTrees.getNodeTree($state.params.siteid).then(function(res){scope.tree=res,0===res.length?scope.showMessage=!0:scope.showMessage=!1,scope.showLoader=!1});else{scope.showMessage=!1;var ref,ref1,ref2,ref3,ref4,ref5,ref6,siteid=scope.$parent.siteid||(null!=(ref=scope.$parent)&&null!=(ref1=ref.$parent)&&null!=(ref2=ref1.$parent)?ref2.siteid:void 0)||(null!=(ref3=scope.$parent)&&null!=(ref4=ref3.$parent)&&null!=(ref5=ref4.$parent)&&null!=(ref6=ref5.$parent)?ref6.siteid:void 0);NodeTrees.getNodeTreeView(siteid).then(function(res){scope.tree=res,scope.showLoader=!1})}},scope.openConfig=function(){scope.$parent.$parent.$parent.showContentEditor()},$timeout(function(){scope.initS(),"preview2"!==$state.current.name&&"localpreview"!==$state.current.name&&"templatepreview"!==$state.current.name&&"previewimage"!==$state.current.name&&scope.$on("foruDataStructureRefresh",function(event,yelemid){scope.initS()})},100)}}}),angular.module("YepCom").directive("foruaccordion",function($state,Layout,$compile,RandomString,$timeout){return{restrict:"EA",replace:!0,template:'<div class="foruaccordion extrablockngnew" extraname="forublockaccordion" elementid="elforuaccordionouter" ng-style="sitecontent.elforuaccordionouter.style" ng-class="sitecontent.elforuaccordionouter.classes"></div>',link:function(scope,element,attrs){var key,keys,templ,_i,_len;if(scope.randomString=RandomString.generateRandomString(32).toLowerCase(),scope.updateExtraTemplate=function(name){var id;id=scope.elemdata.extrablock_id.$oid,Layout.updateTemplate(id,name).then(function(templ){element.html(""),scope.elemdata.templatename=name,scope.elemdata.templatehtml=templ,$compile(templ)(scope,function(newelem){element.html(newelem)})})},scope.$on("setLayoutelforuaccordion",function(evt,template,yelemid,classes){var cls;null==classes&&(classes=null),yelemid===scope.yeid&&(cls=scope.sitecontent.elforuaccordionouter.classes,classes?-1===cls.indexOf(classes)&&(scope.sitecontent.elforuaccordionouter.classes=classes):-1===cls.indexOf(template)&&(scope.sitecontent.elforuaccordionouter.classes=template),scope.updateExtraTemplate(template))}),"preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name){for(templ=scope.elemdata.templatehtml.replace(/\&\#39\;/g,"'"),keys=Object.keys(scope.sitecontent),_i=0,_len=keys.length;_len>_i;_i++)key=keys[_i],scope.sitecontent[key]&&scope.sitecontent[key].text&&(templ=templ.replace(/ng-model="sitecontent\[(.+?)\]\['text'\]/g,"ng-bind-html=\"trustAsHtml(sitecontent[$1]['text'])"));$compile(templ)(scope,function(newelem){element.html(newelem)})}else scope.elemdata&&scope.elemdata.templatename&&(scope.updateExtraTemplate(scope.elemdata.templatename),scope.sitecontent.elforuaccordion&&(scope.sitecontent.elforuaccordion.template=scope.elemdata.templatename))}}}),angular.module("YepCom").directive("foruadvantage",function($state,Layout,$compile){return{restrict:"EA",replace:!0,template:'<div class="foruadvantage extrablockngnew" extraname="forublockadvantages" elementid="elforuadvantageouter" ng-style="sitecontent.elforuadvantageouter.style" ng-class="sitecontent.elforuadvantageouter.classes"></div>',link:function(scope,element,attrs){var key,keys,templ,_i,_len;if(scope.updateExtraTemplate=function(name){var id;return id=scope.elemdata.extrablock_id.$oid,Layout.updateTemplate(id,name).then(function(templ){return element.html(""),scope.elemdata.templatename=name,scope.elemdata.templatehtml=templ,$compile(templ)(scope,function(newelem){return element.html(newelem)})})},scope.$on("setLayoutelforuadvantage",function(evt,template,yelemid,classes){var cls;return null==classes&&(classes=null),yelemid===scope.yeid?(cls=scope.sitecontent.elforuadvantageouter.classes,classes?-1===cls.indexOf(classes)&&(scope.sitecontent.elforuadvantageouter.classes=classes):-1===cls.indexOf(template)&&(scope.sitecontent.elforuadvantageouter.classes=template),scope.updateExtraTemplate(template)):void 0}),"preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name){for(templ=scope.elemdata.templatehtml.replace(/\&\#39\;/g,"'"),keys=Object.keys(scope.sitecontent),_i=0,_len=keys.length;_len>_i;_i++)key=keys[_i],scope.sitecontent[key]&&scope.sitecontent[key].text&&(templ=templ.replace("ng-model=\"sitecontent['"+key+"']['text']\"","ng-bind-html=\"trustAsHtml(sitecontent['"+key+"']['text'])\""));return $compile(templ)(scope,function(newelem){return element.html(newelem)})}return scope.elemdata&&scope.elemdata.templatename&&(scope.updateExtraTemplate(scope.elemdata.templatename),scope.sitecontent.elforuadvantage)?scope.sitecontent.elforuadvantage.template=scope.elemdata.templatename:void 0}}}),angular.module("YepCom").directive("forublockshare",function($state,$timeout,Layout,$compile){return{restrict:"EA",replace:!0,template:'<div class="forublockshare extrablockngnew" extraname="forublockshare" elementid="forublockshareouter" ng-style="sitecontent.forublockshareouter.style" ng-class="sitecontent.forublockshareouter.classes"></div>',link:function(scope,element,attrs){var key,keys,templ,_i,_len;if(scope.currentstate=$state.current.name,scope.clickclass="",("owneditor"===scope.currentstate||"siteeditor"===scope.currentstate)&&(scope.clickclass="noclick"),scope.updateExtraTemplate=function(name){var id;return id=scope.elemdata.extrablock_id.$oid,Layout.updateTemplate(id,name).then(function(templ){return element.html(""),scope.elemdata.templatename=name,scope.elemdata.templatehtml=templ,$compile(templ)(scope,function(newelem){return element.html(newelem)})})},"preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name){for(templ=scope.elemdata.templatehtml.replace(/\&\#39\;/g,"'"),keys=Object.keys(scope.sitecontent),_i=0,_len=keys.length;_len>_i;_i++)key=keys[_i],scope.sitecontent[key]&&scope.sitecontent[key].text&&(templ=templ.replace("ng-model=\"sitecontent['"+key+"']['text']\"","ng-bind-html=\"trustAsHtml(sitecontent['"+key+"']['text'])\""),templ=templ.replace('ng-model="sitecontent.'+key+'.text"','ng-bind-html="trustAsHtml(sitecontent.'+key+'.text)"'));return $compile(templ)(scope,function(newelem){return element.html(newelem)}),$timeout(function(){return $timeout(function(){return"undefined"!=typeof pluso?pluso.start():void 0},10)},100)}return scope.elemdata&&scope.elemdata.templatename?(scope.updateExtraTemplate(scope.elemdata.templatename),scope.sitecontent.forublockshareouter&&(scope.sitecontent.forublockshareouter.forublockshareouter=scope.elemdata.templatename),$timeout(function(){return $timeout(function(){return"undefined"!=typeof pluso?pluso.start():void 0},10)},100)):void 0}}}),angular.module("YepCom").directive("forublog",function($state,Layout,$compile,$interval){return{restrict:"EA",replace:!0,template:'<div class="forublog extrablockngnew" extraname="forublog" elementid="elforublogcontainer" ng-style="sitecontent.elforublogcontainer.style" ng-class="sitecontent.elforublogcontainer.classes"></div>',link:function(scope,element,attrs){var key,keys,templ,_i,_len;if(element.bind("click",function(event){if("siteeditor"===$state.current.name||"owneditor"===$state.current.name){if($(event.target).attr("elementid")||$(event.target).closest("[ui-tinymce]").length>0)return;event.preventDefault(),event.stopPropagation(),scope.$emit("openBlogEditor",scope.sitecontent)}}),scope.forublognav=!1,scope.showhidenav=function(){return scope.forublognav=!0},scope.updateExtraTemplate=function(name){var id;id=scope.elemdata.extrablock_id.$oid,Layout.updateTemplate(id,name).then(function(templ){element.html(""),scope.elemdata.templatename=name,scope.elemdata.templatehtml=templ,$compile(templ)(scope,function(newelem){element.html(newelem)})})},scope.recalculateBlockHeight=function(){var height,scrollHeight;scrollHeight=parseInt($(element)[0].scrollHeight),height=parseInt($(element).css("height")),scrollHeight>height&&$(element).css("height","auto")},scope.$on("setLayoutelforublog",function(evt,template,yelemid,classes){var cls;return null==classes&&(classes=null),yelemid===scope.yeid?(cls=scope.sitecontent.elforublogouter.classes,classes?-1===cls.indexOf(classes)&&(scope.sitecontent.elforublogouter.classes=classes):-1===cls.indexOf(template)&&(scope.sitecontent.elforublogouter.classes=template),scope.updateExtraTemplate(template)):void 0}),scope.$on("recalculateBlockHeight",function(evt,data){return scope.recalculateBlockHeight()}),$interval(function(){return scope.recalculateBlockHeight()},5e3),"preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name){for(templ=scope.elemdata.templatehtml.replace(/\&\#39\;/g,"'"),keys=Object.keys(scope.sitecontent),_i=0,_len=keys.length;_len>_i;_i++)if(key=keys[_i],scope.sitecontent[key]){scope.sitecontent[key].text&&(templ=templ.replace("ng-model=\"sitecontent['"+key+"']['text']\"","ng-bind-html=\"trustAsHtml(sitecontent['"+key+"']['text'])\"").replace('ng-model="sitecontent.'+key+'.text"',"ng-bind-html=\"trustAsHtml(sitecontent['"+key+"']['text'])\""),templ=templ.replace('ng-model="sitecontent.'+key+'.text"','ng-bind-html="trustAsHtml(sitecontent.'+key+'.text)"'));var isBetaeditor=!0;isBetaeditor&&scope.sitecontent[key].src&&(scope.sitecontent[key].src=scope.sitecontent[key].src.replace(/\/\/uploads\.static\.fo\.vin/g,""))}$compile(templ)(scope,function(newelem){element.html(newelem)})}else if(scope.elemdata&&scope.elemdata.templatename&&(scope.updateExtraTemplate(scope.elemdata.templatename),
scope.sitecontent.elforublog))return scope.sitecontent.elforublog.template=scope.elemdata.templatename}}}),angular.module("YepCom").directive("foruclients",function($state,Layout,$compile){return{restrict:"EA",replace:!0,template:'<div class="foruclients extrablockngnew" extraname="forublockclients" elementid="elforuclientsouter" ng-style="sitecontent.elforuclientsouter.style" ng-class="sitecontent.elforuclientsouter.classes"></div>',link:function(scope,element,attrs){var key,keys,templ,_i,_len;if(scope.updateExtraTemplate=function(name){var id;return id=scope.elemdata.extrablock_id.$oid,Layout.updateTemplate(id,name).then(function(templ){return element.html(""),scope.elemdata.templatename=name,scope.elemdata.templatehtml=templ,$compile(templ)(scope,function(newelem){return element.html(newelem)})})},scope.$on("setLayoutelforuclients",function(evt,template,yelemid,classes){var cls;return null==classes&&(classes=null),yelemid===scope.yeid?(cls=scope.sitecontent.elforuclientsouter.classes,classes?-1===cls.indexOf(classes)&&(scope.sitecontent.elforuclientsouter.classes=classes):-1===cls.indexOf(template)&&(scope.sitecontent.elforuclientsouter.classes=template),scope.updateExtraTemplate(template)):void 0}),"preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name){for(templ=scope.elemdata.templatehtml.replace(/\&\#39\;/g,"'"),keys=Object.keys(scope.sitecontent),_i=0,_len=keys.length;_len>_i;_i++)key=keys[_i],scope.sitecontent[key]&&scope.sitecontent[key].text&&(templ=templ.replace("ng-model=\"sitecontent['"+key+"']['text']\"","ng-bind-html=\"trustAsHtml(sitecontent['"+key+"']['text'])\""));return $compile(templ)(scope,function(newelem){return element.html(newelem)})}return scope.elemdata&&scope.elemdata.templatename&&(scope.updateExtraTemplate(scope.elemdata.templatename),scope.sitecontent.elforuclients)?scope.sitecontent.elforuclients.template=scope.elemdata.templatename:void 0}}}),angular.module("YepCom").directive("forucolumn",function($state,Layout,$compile){return{restrict:"EA",replace:!0,template:'<div class="forucolumn extrablockngnew" extraname="forublockcols" elementid="elforucolumnouter" ng-style="sitecontent.elforucolumnouter.style" ng-class="sitecontent.elforucolumnouter.classes"></div>',link:function(scope,element,attrs){var key,keys,templ,_i,_len;if(scope.updateExtraTemplate=function(name){var id;return id=scope.elemdata.extrablock_id.$oid,Layout.updateTemplate(id,name).then(function(templ){return element.html(""),scope.elemdata.templatename=name,scope.elemdata.templatehtml=templ,$compile(templ)(scope,function(newelem){return element.html(newelem)})})},scope.$on("setLayoutelforucolumn",function(evt,template,yelemid,classes){var cls;return null==classes&&(classes=null),yelemid===scope.yeid?(cls=scope.sitecontent.elforucolumnouter.classes,classes?-1===cls.indexOf(classes)&&(scope.sitecontent.elforucolumnouter.classes=classes):-1===cls.indexOf(template)&&(scope.sitecontent.elforucolumnouter.classes=template),scope.updateExtraTemplate(template)):void 0}),"preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name){for(templ=scope.elemdata.templatehtml.replace(/\&\#39\;/g,"'"),keys=Object.keys(scope.sitecontent),_i=0,_len=keys.length;_len>_i;_i++)key=keys[_i],scope.sitecontent[key]&&scope.sitecontent[key].text&&(templ=templ.replace("ng-model=\"sitecontent['"+key+"']['text']\"","ng-bind-html=\"trustAsHtml(sitecontent['"+key+"']['text'])\""));return $compile(templ)(scope,function(newelem){return element.html(newelem)})}return scope.elemdata&&scope.elemdata.templatename&&(scope.updateExtraTemplate(scope.elemdata.templatename),scope.sitecontent.elforucolumn)?scope.sitecontent.elforucolumn.template=scope.elemdata.templatename:void 0}}}),angular.module("YepCom").directive("forucontacts",function($state,Layout,$compile,iframeEvent,elementPreparer){return{restrict:"EA",replace:!0,template:'<div class="forucontacts extrablockngnew" extraname="forublockcontacts" elementid="elforucontactsouter" ng-style="sitecontent.elforucontactsouter.style" ng-class="sitecontent.elforucontactsouter.classes"></div>',link:function(scope,element,attrs){var key,keys,templ,_i,_len;if(scope.currentstate=$state.current.name,scope.setIframeCurrent=function(event,elementid){var currElem,elem,yelem;return event.preventDefault(),event.stopPropagation(),yelem=$($(event.target).parents("yelem")),elem=yelem.find("[elementid='"+elementid+"']"),currElem=elementPreparer.prepare(elem[0]),iframeEvent.broadcast({evt:"setIframeCurrentEv",elem:currElem})},scope.updateExtraTemplate=function(name){var id;return id=scope.elemdata.extrablock_id.$oid,Layout.updateTemplate(id,name).then(function(templ){return element.html(""),scope.elemdata.templatename=name,scope.elemdata.templatehtml=templ,$compile(templ)(scope,function(newelem){return element.html(newelem)})})},scope.$on("setLayoutelforucontacts",function(evt,template,yelemid,classes){var cls;return null==classes&&(classes=null),yelemid===scope.yeid?(cls=scope.sitecontent.elforucontactsouter.classes,classes?-1===cls.indexOf(classes)&&(scope.sitecontent.elforucontactsouter.classes=classes):-1===cls.indexOf(template)&&(scope.sitecontent.elforucontactsouter.classes=template),scope.updateExtraTemplate(template)):void 0}),"preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name){for(templ=scope.elemdata.templatehtml.replace(/\&\#39\;/g,"'"),keys=Object.keys(scope.sitecontent),_i=0,_len=keys.length;_len>_i;_i++)key=keys[_i],scope.sitecontent[key]&&scope.sitecontent[key].text&&(templ=templ.replace("ng-model=\"sitecontent['"+key+"']['text']\"","ng-bind-html=\"trustAsHtml(sitecontent['"+key+"']['text'])\""));return $compile(templ)(scope,function(newelem){return element.html(newelem)})}return scope.elemdata&&scope.elemdata.templatename&&(scope.updateExtraTemplate(scope.elemdata.templatename),scope.sitecontent.elforucontacts)?scope.sitecontent.elforucontacts.template=scope.elemdata.templatename:void 0}}}),angular.module("YepCom").directive("forucover",function($state,Layout,$compile,RandomString){return{restrict:"EA",replace:!0,template:'<div class="forucover extrablockngnew" extraname="forublockcover" elementid="elforucoverouter" ng-style="sitecontent.elforucoverouter.style" ng-class="sitecontent.elforucoverouter.classes"></div>',link:function(scope,element,attrs){var elid,key,keys,templ,_i,_j,_len,_len1;for(elid="slide_"+RandomString.generateRandomString(32).toLowerCase(),scope.sitecontent.elforucoverouter||(scope.sitecontent.elforucoverouter={}),scope.sitecontent.elforucoverouter.sliderid||(scope.sitecontent.elforucoverouter.sliderid=elid),scope.sliderTarget="#"+scope.sitecontent.elforucoverouter.sliderid,keys=Object.keys(scope.sitecontent),_i=0,_len=keys.length;_len>_i;_i++)key=keys[_i],scope.sitecontent[key]&&scope.sitecontent[key].href&&"#home-carousel"===scope.sitecontent[key].href&&(scope.sitecontent[key].href=scope.sliderTarget);if(scope.forucovernav=!1,scope.showhidenav=function(){return scope.forucovernav=!0},scope.updateExtraTemplate=function(name){var id;return id=scope.elemdata.extrablock_id.$oid,Layout.updateTemplate(id,name).then(function(templ){return element.html(""),scope.elemdata.templatename=name,scope.elemdata.templatehtml=templ,$compile(templ)(scope,function(newelem){return element.html(newelem)})})},scope.$on("setLayoutelforucover",function(evt,template,yelemid,classes){var cls;return null==classes&&(classes=null),yelemid===scope.yeid?(cls=scope.sitecontent.elforucoverouter.classes,classes?-1===cls.indexOf(classes)&&(scope.sitecontent.elforucoverouter.classes=classes):-1===cls.indexOf(template)&&(scope.sitecontent.elforucoverouter.classes=template),scope.updateExtraTemplate(template)):void 0}),"preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name){for(templ=scope.elemdata.templatehtml.replace(/\&\#39\;/g,"'"),keys=Object.keys(scope.sitecontent),_j=0,_len1=keys.length;_len1>_j;_j++)key=keys[_j],scope.sitecontent[key]&&scope.sitecontent[key].text&&(templ=templ.replace("ng-model=\"sitecontent['"+key+"']['text']\"","ng-bind-html=\"trustAsHtml(sitecontent['"+key+"']['text'])\""));return $compile(templ)(scope,function(newelem){return element.html(newelem)})}return scope.elemdata&&scope.elemdata.templatename&&(scope.updateExtraTemplate(scope.elemdata.templatename),scope.sitecontent.elforucover)?scope.sitecontent.elforucover.template=scope.elemdata.templatename:void 0}}}),angular.module("YepCom").directive("forudelimiter",function($state,Layout,$compile){return{restrict:"EA",replace:!0,template:'<div class="forudelimiter extrablockngnew" extraname="forublockdelimiter" elementid="elforudelimiterouter" ng-style="sitecontent.elforudelimiterouter.style" ng-class="sitecontent.elforudelimiterouter.classes"></div>',link:function(scope,element,attrs){var key,keys,templ,_i,_len;if(scope.previewstate=!1,scope.showeditorspace=!1,("preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name)&&(scope.previewstate=!0),("owneditor"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name)&&(scope.showeditorspace=!0),scope.updateExtraTemplate=function(name){var id;return id=scope.elemdata.extrablock_id.$oid,Layout.updateTemplate(id,name).then(function(templ){return element.html(""),scope.elemdata.templatename=name,scope.elemdata.templatehtml=templ,$compile(templ)(scope,function(newelem){return element.html(newelem)})})},scope.$on("setLayoutelforudelimiter",function(evt,template,yelemid,classes){var cls;return null==classes&&(classes=null),yelemid===scope.yeid?(cls=scope.sitecontent.elforudelimiterouter.classes,classes?-1===cls.indexOf(classes)&&(scope.sitecontent.elforudelimiterouter.classes=classes):-1===cls.indexOf(template)&&(scope.sitecontent.elforudelimiterouter.classes=template),scope.updateExtraTemplate(template)):void 0}),scope.previewstate){for(templ=scope.elemdata.templatehtml.replace(/\&\#39\;/g,"'"),keys=Object.keys(scope.sitecontent),_i=0,_len=keys.length;_len>_i;_i++)key=keys[_i],scope.sitecontent[key]&&scope.sitecontent[key].text&&(templ=templ.replace("ng-model=\"sitecontent['"+key+"']['text']\"","ng-bind-html=\"trustAsHtml(sitecontent['"+key+"']['text'])\""),templ=templ.replace(/ng-model="sitecontent\[(.+?)\]\['text'\]/g,"ng-bind-html=\"trustAsHtml(sitecontent[$1]['text'])"));return $compile(templ)(scope,function(newelem){return element.html(newelem)})}return scope.elemdata&&scope.elemdata.templatename&&(scope.updateExtraTemplate(scope.elemdata.templatename),scope.sitecontent.elforudelimiter)?scope.sitecontent.elforudelimiter.template=scope.elemdata.templatename:void 0}}}),angular.module("YepCom").directive("forudyncolumns",function($state,Layout,$compile,elementPreparer,iframeEvent,$timeout,$injector,RandomString){return{restrict:"EA",replace:!0,template:'<div class="forudyncolumns extrablockngnew" extraname="forublockcols" elementid="elforudyncolumnsouter" ng-style="sitecontent.elforudyncolumnsouter.style" ng-class="sitecontent.elforudyncolumnsouter.classes"></div>',link:function(scope,element,attrs){scope.randomString=RandomString.generateRandomString(32).toLowerCase();var col,key,keys,templ,_i,_j,_len,_len1,_ref;for(scope.previewstate=!1,scope.currentstate=$state.current.name,("preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name)&&(scope.previewstate=!0),scope.forudyncolsheaders={},_ref=scope.sitecontent.elforudyncolumns.cols,_i=0,_len=_ref.length;_len>_i;_i++)col=_ref[_i],scope.forudyncolsheaders[col]={},scope.forudyncolsheaders[col].header=col+"header",scope.forudyncolsheaders[col].text=col+"text";if(scope.updateExtraTemplate=function(name){var id;return id=scope.elemdata.extrablock_id.$oid,Layout.updateTemplate(id,name).then(function(templ){return element.html(""),scope.elemdata.templatename=name,scope.elemdata.templatehtml=templ,$compile(templ)(scope,function(newelem){return element.html(newelem)})})},scope.showtabcontent1=!1,scope.showtabcontent2=!1,scope.showtabcontent3=!0,scope.showtabcontent4=!1,scope.showtabcontent5=!1,scope.showhideel=function(name){return scope.showtabcontent1=!1,scope.showtabcontent2=!1,scope.showtabcontent3=!1,scope.showtabcontent4=!1,scope.showtabcontent5=!1,scope[name]=!0},scope.$on("setLayoutelforudyncolumns",function(evt,template,yelemid,classes){var cls;return null==classes&&(classes=null),yelemid===scope.yeid?(cls=scope.sitecontent.elforudyncolumnsouter.classes,classes?-1===cls.indexOf(classes)&&(scope.sitecontent.elforudyncolumnsouter.classes=classes):-1===cls.indexOf(template)&&(scope.sitecontent.elforudyncolumnsouter.classes=template),scope.updateExtraTemplate(template)):void 0}),scope.$on("moveDynBlockMode",function(evt,yelemid,dndModeFlag){if("preview2"!==$state.current.name&&"localpreview"!==$state.current.name&&"templatepreview"!==$state.current.name&&"previewimage"!==$state.current.name){if(dndModeFlag&&yelemid===scope.yeid)return $(element).find(".forudyncolumn-item").removeClass("no-dnd"),scope.DyncolumnService=$injector.get("DynColumn"),scope.dragularService=$injector.get("dragularService"),scope.extendedFinder=$injector.get("extendedFinder"),$timeout(function(){return scope.updatelist(),scope.initDragColumn()},500);if($(element).find(".forudyncolumn-item").addClass("no-dnd"),scope.DyncolumnService.removeSignificantCols(scope.yeid),scope.dragula)return scope.dragula.destroy()}}),scope.setIframeCurrent=function(event,elementid){var currElem,elem,yelem;return event.preventDefault(),event.stopPropagation(),yelem=$($(event.target).parents("yelem")),elem=yelem.find("[elementid='"+elementid+"']"),currElem=elementPreparer.prepare(elem[0]),iframeEvent.broadcast({evt:"setIframeCurrentEv",elem:currElem})},"preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name){for(templ=scope.elemdata.templatehtml.replace(/\&\#39\;/g,"'"),keys=Object.keys(scope.sitecontent),_j=0,_len1=keys.length;_len1>_j;_j++)key=keys[_j],scope.sitecontent[key]&&scope.sitecontent[key].text&&(templ=templ.replace(/ng-model="sitecontent\[(.+?)\]\['text'\]/g,"ng-bind-html=\"trustAsHtml(sitecontent[$1]['text'])"));$compile(templ)(scope,function(newelem){element.html(newelem),$timeout(function(){scope.blockid&&scope.$emit("postLoadDraw",scope.blockid)},100)})}else scope.elemdata&&scope.elemdata.templatename&&(scope.updateExtraTemplate(scope.elemdata.templatename),scope.sitecontent.elforudyncolumns&&(scope.sitecontent.elforudyncolumns.template=scope.elemdata.templatename));return scope.deleteDynCol=function(evt,id){return evt.preventDefault(),evt.stopPropagation(),scope.DyncolumnService.removeCol({elementid:id},scope.sitecontent),scope.DyncolumnService.removeSignificantCols(scope.yeid),$timeout(function(){return scope.updatelist()},500)},scope.cloneDynCol=function(evt,id){var index;return evt.preventDefault(),evt.stopPropagation(),index=_.findIndex(scope.colsList.colElements,function(o){return o.elementid===id}),index>-1?(scope.DyncolumnService.copyCol(scope.colsList.colElements[index],scope.sitecontent),scope.DyncolumnService.removeSignificantCols(scope.yeid),$timeout(function(){return scope.updatelist()},500)):void 0},scope.updatelist=function(){return scope.colsList=scope.extendedFinder.findCols(scope.yeid),scope.DyncolumnService.drawSignificantCols(scope.yeid,scope)},scope.initDragColumn=function(){var acceptsdc,classes,colContainer,dragend,invalid,movesdc;return classes={mirror:"gu-mirror row",hide:"gu-hide",unselectable:"gu-unselectable",transit:"gu-transit",overActive:"gu-over-active",overAccepts:"gu-over-accept",overDeclines:"gu-over-decline"},acceptsdc=function(el,target,source,sibling){return!0},movesdc=function(el,target,handle){return scope.DyncolumnService.removeSignificantCols(scope.yeid),!0},invalid=function(el,handle){return!1},dragend=function(el){return!0},colContainer=$(element).find(".forudyncolumn-row"),scope.dragula=scope.dragularService(colContainer,{containersModel:[scope.sitecontent.elforudyncolumns.cols],mirrorContainer:colContainer[0],classes:classes,revertOnSpill:!0,removeOnSpill:!1,accepts:acceptsdc,moves:movesdc,copy:!1,scope:scope}),scope.$on("dragularrelease",function(evt){return $timeout(function(){return scope.DyncolumnService.drawSignificantCols(scope.yeid,scope)},500)})}}}}),angular.module("YepCom").directive("forufigma",function($state,Layout,$compile){return{restrict:"EA",replace:!0,template:'<div class="forufigma extrablockngnew" extraname="forublockfigma" elementid="elforufigmaouter" ng-style="sitecontent.elforufigmaouter.style" ng-class="sitecontent.elforufigmaouter.classes"></div>',link:function(scope,element,attrs){var key,keys,templ,_i,_len;if(scope.previewstate=!1,scope.showeditorspace=!1,("preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name)&&(scope.previewstate=!0),("owneditor"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name)&&(scope.showeditorspace=!0),scope.updateExtraTemplate=function(name){var id;id=scope.elemdata.extrablock_id.$oid,Layout.updateTemplate(id,name).then(function(templ){element.html(""),scope.elemdata.templatename=name,scope.elemdata.templatehtml=templ,$compile(templ)(scope,function(newelem){element.html(newelem)})})},scope.$on("setLayoutelforufigma",function(evt,template,yelemid,classes){var cls;null==classes&&(classes=null),yelemid===scope.yeid&&(cls=scope.sitecontent.elforufigmaouter.classes,classes?-1===cls.indexOf(classes)&&(scope.sitecontent.elforufigmaouter.classes=classes):-1===cls.indexOf(template)&&(scope.sitecontent.elforufigmaouter.classes=template),scope.updateExtraTemplate(template))}),scope.previewstate){for(templ=scope.elemdata.templatehtml.replace(/\&\#39\;/g,"'"),keys=Object.keys(scope.sitecontent),_i=0,_len=keys.length;_len>_i;_i++)key=keys[_i],scope.sitecontent[key]&&scope.sitecontent[key].text&&(templ=templ.replace("ng-model=\"sitecontent['"+key+"']['text']\"","ng-bind-html=\"trustAsHtml(sitecontent['"+key+"']['text'])\""),templ=templ.replace(/ng-model="sitecontent\[(.+?)\]\['text'\]/g,"ng-bind-html=\"trustAsHtml(sitecontent[$1]['text'])"));$compile(templ)(scope,function(newelem){element.html(newelem)})}else scope.elemdata&&scope.elemdata.templatename&&(scope.updateExtraTemplate(scope.elemdata.templatename),scope.sitecontent.elforufigma&&(scope.sitecontent.elforufigma.template=scope.elemdata.templatename))}}}),angular.module("YepCom").directive("forufooter",function($state,Layout,$compile,elementPreparer,iframeEvent){return{restrict:"EA",replace:!0,template:'<div class="forufooter extrablockngnew" extraname="forublockfooter" elementid="elforufooterouter" ng-style="sitecontent.elforufooterouter.style" ng-class="sitecontent.elforufooterouter.classes"></div>',link:function(scope,element,attrs){var key,keys,templ,_i,_len;if(scope.currentstate=$state.current.name,scope.updateExtraTemplate=function(name){var id;return id=scope.elemdata.extrablock_id.$oid,Layout.updateTemplate(id,name).then(function(templ){return element.html(""),scope.elemdata.templatename=name,scope.elemdata.templatehtml=templ,$compile(templ)(scope,function(newelem){return element.html(newelem)})})},scope.setIframeCurrent=function(event,elementid){var currElem,elem,yelem;return event.preventDefault(),event.stopPropagation(),yelem=$($(event.target).parents("yelem")),elem=yelem.find("[elementid='"+elementid+"']"),currElem=elementPreparer.prepare(elem[0]),iframeEvent.broadcast({evt:"setIframeCurrentEv",elem:currElem})},scope.$on("setLayoutelforufooter",function(evt,template,yelemid,classes){var cls;return null==classes&&(classes=null),yelemid===scope.yeid?(cls=scope.sitecontent.elforufooterouter.classes,classes?-1===cls.indexOf(classes)&&(scope.sitecontent.elforufooterouter.classes=classes):-1===cls.indexOf(template)&&(scope.sitecontent.elforufooterouter.classes=template),scope.updateExtraTemplate(template)):void 0}),"preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name){for(templ=scope.elemdata.templatehtml.replace(/\&\#39\;/g,"'"),keys=Object.keys(scope.sitecontent),_i=0,_len=keys.length;_len>_i;_i++)key=keys[_i],scope.sitecontent[key]&&scope.sitecontent[key].text&&(templ=templ.replace("ng-model=\"sitecontent['"+key+"']['text']\"","ng-bind-html=\"trustAsHtml(sitecontent['"+key+"']['text'])\""));return $compile(templ)(scope,function(newelem){return element.html(newelem)})}return scope.elemdata&&scope.elemdata.templatename&&(scope.updateExtraTemplate(scope.elemdata.templatename),scope.sitecontent.elforufooter)?scope.sitecontent.elforufooter.template=scope.elemdata.templatename:void 0}}}),angular.module("YepCom").directive("forugallery",function($state,Layout,$compile){return{restrict:"EA",replace:!0,template:'<div class="forugallery extrablockngnew" extraname="forublockgallery" elementid="elforugalleryouter" ng-style="sitecontent.elforugalleryouter.style" ng-class="sitecontent.elforugalleryouter.classes"></div>',link:function(scope,element,attrs){var key,keys,templ,_i,_len;if(scope.updateExtraTemplate=function(name){var id;return id=scope.elemdata.extrablock_id.$oid,Layout.updateTemplate(id,name).then(function(templ){return element.html(""),scope.elemdata.templatename=name,scope.elemdata.templatehtml=templ,$compile(templ)(scope,function(newelem){return element.html(newelem)})})},scope.forugalleryowloptionspool={mouseDrag:!1,loop:!0,items:1},scope.forugalleryowloptionslite={mouseDrag:!1,loop:!0,nav:!0,responsive:{0:{center:!1,items:2,margin:15},993:{center:!0,items:2,margin:118}}},scope.forugalleryowloptions={mouseDrag:!1,loop:!0,margin:15,responsive:{0:{center:!1,items:1},769:{center:!1,items:2},993:{center:!0,items:2}}},scope.$on("setLayoutelforugallery",function(evt,template,yelemid,classes){var cls;return null==classes&&(classes=null),yelemid===scope.yeid?(cls=scope.sitecontent.elforugalleryouter.classes,classes?-1===cls.indexOf(classes)&&(scope.sitecontent.elforugalleryouter.classes=classes):-1===cls.indexOf(template)&&(scope.sitecontent.elforugalleryouter.classes=template),scope.updateExtraTemplate(template)):void 0}),"preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name){for(templ=scope.elemdata.templatehtml.replace(/\&\#39\;/g,"'"),keys=Object.keys(scope.sitecontent),_i=0,_len=keys.length;_len>_i;_i++)key=keys[_i],scope.sitecontent[key]&&scope.sitecontent[key].text&&(templ=templ.replace("ng-model=\"sitecontent['"+key+"']['text']\"","ng-bind-html=\"trustAsHtml(sitecontent['"+key+"']['text'])\""));return $compile(templ)(scope,function(newelem){return element.html(newelem)})}return scope.elemdata&&scope.elemdata.templatename&&(scope.updateExtraTemplate(scope.elemdata.templatename),scope.sitecontent.elforugallery)?scope.sitecontent.elforugallery.template=scope.elemdata.templatename:void 0}}}),angular.module("YepCom").directive("forunavbar",function($state,$templateCache,$rootScope,$compile,toaster,ngDialog,Page,$localStorage){return{restrict:"EA",replace:!0,templateUrl:"layouts/forunavbar/forunavbar.html",link:function(scope,element,attrs){var appWindow,name;return scope.currentstate=$state.current.name,scope.show_forunavbarsettings=!1,scope.showforunavbar=!0,scope.anchorArray=[],scope.forunavlinks=[],"preview2"!==$state.current.name&&"localpreview"!==$state.current.name?(scope.sitecontent.elforunavbarul||(scope.sitecontent.elforunavbarul={},scope.tojsoncontent()),scope.sitecontent.elforunavbarouter||(scope.sitecontent.elforunavbarouter={},scope.sitecontent.elforunavbarouter.classes="forunavbar-logo-button",scope.tojsoncontent())):scope.sitecontent.elforunavbarouter||(scope.sitecontent.elforunavbarouter={},scope.sitecontent.elforunavbarouter.classes="forunavbar-default"),scope.updateTemplate=function(name){var templ;return templ="preview2"===$state.current.name||"localpreview"===$state.current.name?$templateCache.get("layouts/forunavbar/preview/"+name+".html"):$templateCache.get("layouts/forunavbar/"+name+".html"),element.html(""),$compile(templ)(scope,function(newelem){return element.html(newelem)})},scope.sitecontent.elforunavbar?(name=scope.sitecontent.elforunavbar.template,name?scope.updateTemplate(name):scope.updateTemplate("forunavbar-default")):scope.updateTemplate("forunavbar-logo-button"),scope.$on("setLayoutelforunavbar",function(evt,classes,yelemid){return yelemid===scope.yeid?(scope.sitecontent.elforunavbarouter.classes=classes,scope.sitecontent.elforunavbar.template,scope.updateTemplate(classes)):void 0}),appWindow=angular.element(window),window.innerWidth<768?scope.showforunavbar=!1:scope.showforunavbar=!0,appWindow.bind("resize",function(){return window.innerWidth<768?scope.showforunavbar=!1:scope.showforunavbar=!0}),$rootScope.$on("sendforunavlinks",function(evt,arr){return void(scope.forunavlinks=arr)}),$rootScope.$on("deleteNavbarLink",function(evt,elementid){var link,_i,_len,_ref,_results;for(_ref=scope.forunavlinks,_results=[],_i=0,_len=_ref.length;_len>_i;_i++)link=_ref[_i],link.elementid="elforulinkid_"+link.transname,link.elementid===elementid?_results.push($("[elementid="+link.elementid+"]").hide()):_results.push(void 0);return _results}),scope.getForuPages=function(){return"preview2"===scope.currentstate?Page.getPreviewPages(scope.siteid).then(function(res){var page,pages,_i,_len,_ref;for(pages=res.filter(function(obj){return"digisellershop"!==obj.name&&"yepstore"!==obj.name}),scope.forunavpages=pages,scope.pageid||(scope.currentpage=scope.forunavpages[0]),_ref=scope.forunavpages,_i=0,_len=_ref.length;_len>_i;_i++)page=_ref[_i],page.uuid===scope.pageid&&(scope.currentpage=page);return scope.$broadcast("createNavbarContentEv",scope.forunavbaryelemid,scope.forunavpages)}):"previewimage"===scope.currentstate?void 0:"localpreview"===scope.currentstate?(scope.siteid=$localStorage.siteid,Page.getPreviewPages(scope.siteid).then(function(res){var page,pages,_i,_len,_ref;for(pages=res.filter(function(obj){return"digisellershop"!==obj.name&&"yepstore"!==obj.name}),scope.forunavpages=pages,scope.pageid||(scope.currentpage=scope.forunavpages[0]),_ref=scope.forunavpages,_i=0,_len=_ref.length;_len>_i;_i++)page=_ref[_i],page.uuid===scope.pageid&&(scope.currentpage=page);return scope.$broadcast("createNavbarContentEv",scope.forunavbaryelemid,scope.forunavpages)})):Page.getPages(scope.siteid).then(function(res){var page,pages,_i,_len,_ref;for(pages=res.filter(function(obj){return"digisellershop"!==obj.name&&"yepstore"!==obj.name}),scope.forunavpages=pages,scope.pageid||(scope.currentpage=scope.forunavpages[0]),_ref=scope.forunavpages,_i=0,_len=_ref.length;_len>_i;_i++)page=_ref[_i],page.uuid===scope.pageid&&(scope.currentpage=page);return scope.forunavbaryelemid=$(element[0]).closest("yelem").attr("yelemid"),scope.$broadcast("createNavbarContentEv",scope.forunavbaryelemid,scope.forunavpages)})},scope.getForuPages(),scope.selectAnchor=function(){return scope.$emit("markoverlayenableEv",scope.anchorArray),ngDialog.closeAll()},scope.forunavApplyText=function(forunavlinkHref,forunavlinkText){return forunavlinkHref?forunavlinkText?(scope.forulink={},scope.forulink.text=forunavlinkText,scope.forulink.href=forunavlinkHref,scope.forunavlinks.push(scope.forulink),scope.$emit("saveNewAnchorEv",scope.forunavbaryelemid,scope.forulink),ngDialog.closeAll()):void toaster.pop("error","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0441\u0441\u044b\u043b\u043a\u0438"):void toaster.pop("error","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u0441\u0441\u044b\u043b\u043a\u0438")},$rootScope.$on("ancevent2",function(evt,arr){return scope.anchorArray=arr})}}}),angular.module("YepCom").directive("forunavbar2",function($state,$timeout,Layout,$rootScope,$compile,toaster,ngDialog,Page,$localStorage){return{restrict:"EA",replace:!0,template:'<div class="forunavbar2 extrablockngnew fixed-{{showforunavbar}}" extraname="forublocknavbar" elementid="elforunavbarouter" ng-style="sitecontent.elforunavbarouter.style" ng-class="sitecontent.elforunavbarouter.classes"></div>',link:function(scope,element,attrs){var appWindow,key,keys,templ,_i,_len;if(scope.showforunavbar=!1,scope.mobileview=!1,scope.previewstate=!1,scope.shownavbar=!1,("preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name)&&(scope.previewstate=!0),scope.setMultilevelMenuClass=function(){var level1,keys=Object.keys(scope.sitecontent);for(_i=0,_len=keys.length;_len>_i;_i++){var key=keys[_i];if(scope.sitecontent[key]&&scope.sitecontent[key].additional_links&&(level1=scope.sitecontent[key].additional_links,level1.length>0))for(var m=0;m<level1.length;m++)if(level1[m].elementid){var mElementid=level1[m].elementid;if(scope.sitecontent[mElementid].additional_links&&scope.sitecontent[mElementid].additional_links.length>0){var classes,classesString=scope.sitecontent.elforunavbarouter.classes.toString();classes=classesString.indexOf(",")>-1?classesString.split(","):classesString.split(" "),-1==classes.indexOf("is-multilevelmenu")&&(classes.push("is-multilevelmenu"),scope.sitecontent.elforunavbarouter.classes=classes.join(" "))}}}},scope.setMultilevelMenuClass(),scope.updateExtraTemplate=function(name){var id;return id=scope.elemdata.extrablock_id.$oid,Layout.updateTemplate(id,name).then(function(templ){return element.html(""),scope.elemdata.templatename=name,scope.elemdata.templatehtml=templ,$compile(templ)(scope,function(newelem){return element.html(newelem)})})},scope.$on("setLayoutelforunavbar",function(evt,template,yelemid,classes){var cls;return null==classes&&(classes=null),yelemid===scope.yeid?(cls=scope.sitecontent.elforunavbarouter.classes,classes?-1===cls.indexOf(classes)&&(scope.sitecontent.elforunavbarouter.classes=classes):-1===cls.indexOf(template)&&(scope.sitecontent.elforunavbarouter.classes=template),scope.updateExtraTemplate(template)):void 0}),"preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name){for(templ=scope.elemdata.templatehtml.replace(/\&\#39\;/g,"'"),keys=Object.keys(scope.sitecontent),_i=0,_len=keys.length;_len>_i;_i++)key=keys[_i],scope.sitecontent[key]&&scope.sitecontent[key].text&&(templ=templ.replace(/ng-model="sitecontent\[(.+?)\]\['text'\]/g,"ng-bind-html=\"trustAsHtml(sitecontent[$1]['text'])"));$compile(templ)(scope,function(newelem){return element.html(newelem)})}else scope.elemdata&&scope.elemdata.templatename&&(scope.updateExtraTemplate(scope.elemdata.templatename),scope.sitecontent.elforunavbar&&(scope.sitecontent.elforunavbar.template=scope.elemdata.templatename));return appWindow=angular.element(window),$rootScope.$on("hideMobileMenu",function(evt){scope.showforunavbar=!1}),$rootScope.$on("sendforunavlinks",function(evt,arr){return scope.forunavlinks=arr}),$rootScope.$on("deleteNavbarLink",function(evt,elementid){var link,_j,_len1,_ref,_results;for(_ref=scope.forunavlinks,_results=[],_j=0,_len1=_ref.length;_len1>_j;_j++)link=_ref[_j],link.elementid="elforulinkid_"+link.transname,link.elementid===elementid?_results.push($("[elementid="+link.elementid+"]").hide()):_results.push(void 0);return _results}),scope.getForuPages=function(){return"preview2"===$state.current.name||"previewimage"===$state.current.name?Page.getPreviewPages(scope.siteid).then(function(res){var page,pages,_j,_len1,_ref;for(pages=res.filter(function(obj){return"digisellershop"!==obj.name&&"yepstore"!==obj.name}),scope.forunavpages=pages,scope.pageid||(scope.currentpage=scope.forunavpages[0]),_ref=scope.forunavpages,_j=0,_len1=_ref.length;_len1>_j;_j++)page=_ref[_j],page.uuid===scope.pageid&&(scope.currentpage=page);return scope.$broadcast("createNavbarContentEv",scope.forunavbaryelemid,scope.forunavpages)}):"localpreview"===$state.current.name?(scope.siteid=$localStorage.siteid,Page.getPreviewPages(scope.siteid).then(function(res){var page,pages,_j,_len1,_ref;for(Page.getPreviewPages(scope.siteid).then(function(res){}),pages=res.filter(function(obj){return"digisellershop"!==obj.name&&"yepstore"!==obj.name}),scope.forunavpages=pages,scope.pageid||(scope.currentpage=scope.forunavpages[0]),
_ref=scope.forunavpages,_j=0,_len1=_ref.length;_len1>_j;_j++)page=_ref[_j],page.uuid===scope.pageid&&(scope.currentpage=page);return scope.$broadcast("createNavbarContentEv",scope.forunavbaryelemid,scope.forunavpages)})):"templatepreview"===$state.current.name?scope.$broadcast("createNavbarContentEv",scope.forunavbaryelemid,[]):Page.getPages(scope.siteid).then(function(res){var page,pages,_j,_len1,_ref;for(pages=res.filter(function(obj){return"digisellershop"!==obj.name&&"yepstore"!==obj.name}),scope.forunavpages=pages,scope.pageid||(scope.currentpage=scope.forunavpages[0]),_ref=scope.forunavpages,_j=0,_len1=_ref.length;_len1>_j;_j++)page=_ref[_j],page.uuid===scope.pageid&&(scope.currentpage=page);return scope.forunavbaryelemid=$(element[0]).closest("yelem").attr("yelemid"),scope.$broadcast("createNavbarContentEv",scope.forunavbaryelemid,scope.forunavpages)})},scope.getForuPages(),scope.selectAnchor=function(){return scope.$emit("markoverlayenableEv",scope.anchorArray),ngDialog.closeAll()},scope.forunavApplyText=function(forunavlinkHref,forunavlinkText){return forunavlinkHref?forunavlinkText?(scope.forulink={},scope.forulink.text=forunavlinkText,scope.forulink.href=forunavlinkHref,scope.forunavlinks.push(scope.forulink),scope.$emit("saveNewAnchorEv",scope.forunavbaryelemid,scope.forulink),ngDialog.closeAll()):void toaster.pop("error","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0441\u0441\u044b\u043b\u043a\u0438"):void toaster.pop("error","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u0441\u0441\u044b\u043b\u043a\u0438")},$rootScope.$on("ancevent2",function(evt,arr){return scope.anchorArray=arr}),window.onresize=function(){return scope.changeNavbarView()},scope.showhidenavbar=function(){return scope.shownavbar=!scope.shownavbar},scope.changeNavbarView=function(){var collapse,diff,elHeaderWidth,elNavbarWidth,header,navbar,ofw;return collapse=document.getElementById("forunavbar_collapse"),collapse&&(ofw=collapse.offsetWidth,ofw>0&&(scope.collapsewidth=ofw),navbar=document.getElementById("forunavbar"),header=document.getElementById("forunavbar_header"),elHeaderWidth=header.offsetWidth,elNavbarWidth=navbar.offsetWidth,diff=elNavbarWidth-elHeaderWidth-60,scope.collapsewidth>diff&&elNavbarWidth>980?scope.mobileview=!0:scope.mobileview=!1,scope.previewstate)?scope.$digest():void 0},scope.previewstate||scope.$watch(function(){return document.getElementById("forunavbar_collapse")},function(newVal,oldVal){return newVal!==oldVal?$timeout(function(){return scope.changeNavbarView()},3e3):void 0}),$timeout(function(){return scope.changeNavbarView()},0),scope.$on("setnewaddilinkevent",function(evt,element){return scope.changeNavbarView()})}}}),angular.module("YepCom").directive("forupages",function($state,Layout,$compile){return{restrict:"EA",replace:!0,template:'<div class="forupages extrablockngnew" extraname="forublockpages" elementid="elforupagesouter" ng-style="sitecontent.elforupagesouter.style" ng-class="sitecontent.elforupagesouter.classes"></div>',link:function(scope,element,attrs){var key,keys,templ,_i,_len;if(scope.updateExtraTemplate=function(name){var id;return id=scope.elemdata.extrablock_id.$oid,Layout.updateTemplate(id,name).then(function(templ){return element.html(""),scope.elemdata.templatename=name,scope.elemdata.templatehtml=templ,$compile(templ)(scope,function(newelem){return element.html(newelem)})})},scope.$on("setLayoutelforupages",function(evt,template,yelemid,classes){var cls;return null==classes&&(classes=null),yelemid===scope.yeid?(cls=scope.sitecontent.elforupagesouter.classes,classes?-1===cls.indexOf(classes)&&(scope.sitecontent.elforupagesouter.classes=classes):-1===cls.indexOf(template)&&(scope.sitecontent.elforupagesouter.classes=template),scope.updateExtraTemplate(template)):void 0}),"preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name){for(templ=scope.elemdata.templatehtml.replace(/\&\#39\;/g,"'"),keys=Object.keys(scope.sitecontent),_i=0,_len=keys.length;_len>_i;_i++)key=keys[_i],scope.sitecontent[key]&&scope.sitecontent[key].text&&(templ=templ.replace("ng-model=\"sitecontent['"+key+"']['text']\"","ng-bind-html=\"trustAsHtml(sitecontent['"+key+"']['text'])\""));return $compile(templ)(scope,function(newelem){return element.html(newelem)})}return scope.elemdata&&scope.elemdata.templatename&&(scope.updateExtraTemplate(scope.elemdata.templatename),scope.sitecontent.elforupages)?scope.sitecontent.elforupages.template=scope.elemdata.templatename:void 0}}}),angular.module("YepCom").directive("foruprice",function($state,Layout,$compile){return{restrict:"EA",replace:!0,template:'<div class="foruprice extrablockngnew" extraname="forublockprice" elementid="elforupriceouter" ng-style="sitecontent.elforupriceouter.style" ng-class="sitecontent.elforupriceouter.classes"></div>',link:function(scope,element,attrs){var key,keys,templ,_i,_len;if(scope.updateExtraTemplate=function(name){var id;return id=scope.elemdata.extrablock_id.$oid,Layout.updateTemplate(id,name).then(function(templ){return element.html(""),scope.elemdata.templatename=name,scope.elemdata.templatehtml=templ,$compile(templ)(scope,function(newelem){return element.html(newelem)})})},scope.$on("setLayoutelforuprice",function(evt,template,yelemid,classes){var cls;return null==classes&&(classes=null),yelemid===scope.yeid?(cls=scope.sitecontent.elforupriceouter.classes,classes?-1===cls.indexOf(classes)&&(scope.sitecontent.elforupriceouter.classes=classes):-1===cls.indexOf(template)&&(scope.sitecontent.elforupriceouter.classes=template),scope.updateExtraTemplate(template)):void 0}),"preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name){for(templ=scope.elemdata.templatehtml.replace(/\&\#39\;/g,"'"),keys=Object.keys(scope.sitecontent),_i=0,_len=keys.length;_len>_i;_i++)key=keys[_i],scope.sitecontent[key]&&scope.sitecontent[key].text&&(templ=templ.replace("ng-model=\"sitecontent['"+key+"']['text']\"","ng-bind-html=\"trustAsHtml(sitecontent['"+key+"']['text'])\""));return $compile(templ)(scope,function(newelem){return element.html(newelem)})}return scope.elemdata&&scope.elemdata.templatename&&(scope.updateExtraTemplate(scope.elemdata.templatename),scope.sitecontent.elforuprice)?scope.sitecontent.elforuprice.template=scope.elemdata.templatename:void 0}}}),angular.module("YepCom").directive("forureview",function($state,Reviews,Layout,$compile,md5,ngDialog){return{restrict:"EA",replace:!0,template:'<div class="forureview extrablockngnew" extraname="forublockreview" elementid="elforureviewouter" ng-style="sitecontent.elforureviewouter.style" ng-class="sitecontent.elforureviewouter.classes"></div>',link:function(scope,element,attrs){var key,keys,templ,_i,_len;if(scope.currentstate=$state.current.name,scope.$watchCollection("reviews",function(newval,oldval){scope.reviews&&(scope.reviewcolumnclass="",1===scope.reviews.length&&(scope.reviewcolumnclass="grey-col-centered"),2===scope.reviews.length&&(scope.reviewcolumnclass="col-md-offset-3"))}),scope.deleteReview=function(id){Reviews.deleteReview(id.$oid,scope.siteid).then(function(res){scope.showAllReviews()})},scope.getGravatarUrl=function(email){var str,url;return str=md5.createHash(email),url="https://gravatar.com/avatar/"+str+"?d=https://fo.ru/img/userimage.png"},scope.sendReview=function(event){if(event.preventDefault(),event.stopPropagation(),"preview2"===$state.current.name&&!scope.reviewForm.$invalid){var confirmModal=ngDialog.open({template:"/assets/templates-public/preview/confirm-send-presonal-data-modal/confirm-send-presonal-data-modal.html",className:"t-modal t-modal--copyblocktoanotherpage",showClose:!0,closeByEscape:!0,closeByDocument:!0,scope:scope});confirmModal.closePromise.then(function(res){res.hasOwnProperty("value")&&1==res.value&&Reviews.createReview(scope.reviewdata).then(function(res){scope.showAllReviews(),scope.reviewForm={},alert("\u041e\u0442\u0437\u044b\u0432 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d")})})}},scope.updateExtraTemplate=function(name){var id;id=scope.elemdata.extrablock_id.$oid,Layout.updateTemplate(id,name).then(function(templ){element.html(""),scope.elemdata.templatename=name,scope.elemdata.templatehtml=templ,$compile(templ)(scope,function(newelem){element.html(newelem)})})},scope.forureviewowloptionskurses={mouseDrag:!1,loop:!0,nav:!0,items:1},scope.showAllReviews=function(){"preview2"!==$state.current.name?Reviews.getReviewBySiteId(scope.siteid).then(function(res){scope.reviews=res}):Reviews.getReviews().then(function(res){scope.reviews=res})},scope.showAllReviews(),scope.$on("setLayoutelforureview",function(evt,template,yelemid,classes){var cls;null==classes&&(classes=null),yelemid===scope.yeid&&(cls=scope.sitecontent.elforureviewouter.classes,classes?-1===cls.indexOf(classes)&&(scope.sitecontent.elforureviewouter.classes=classes):-1===cls.indexOf(template)&&(scope.sitecontent.elforureviewouter.classes=template),scope.updateExtraTemplate(template))}),"preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name){for(templ=scope.elemdata.templatehtml.replace(/\&\#39\;/g,"'"),keys=Object.keys(scope.sitecontent),_i=0,_len=keys.length;_len>_i;_i++)key=keys[_i],scope.sitecontent[key]&&scope.sitecontent[key].text&&(templ=templ.replace("ng-model=\"sitecontent['"+key+"']['text']\"","ng-bind-html=\"trustAsHtml(sitecontent['"+key+"']['text'])\""));scope.sitecontent.hasOwnProperty("slideritems")&&(templ=templ.replace("ng-model=\"sitecontent[item.title]['text']\"","ng-bind-html=\"trustAsHtml(sitecontent[item.title]['text'])\""),templ=templ.replace("ng-model=\"sitecontent[item.descr]['text']\"","ng-bind-html=\"trustAsHtml(sitecontent[item.descr]['text'])\"")),$compile(templ)(scope,function(newelem){element.html(newelem)})}else scope.elemdata&&scope.elemdata.templatename&&(scope.updateExtraTemplate(scope.elemdata.templatename),scope.sitecontent.elforureview&&(scope.sitecontent.elforureview.template=scope.elemdata.templatename))}}}),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-editor-preview/dynamicblocks/forushopproduct-images-preview/forushopproduct-images-preview.html",'<div class="c-forushopproduct-images-preview">\n  <div class="c-forushopproduct-images-preview-columns">\n    <div class="c-forushopproduct-images-preview-columns-item"\n      data-index="{{$index}}"\n      ng-show="column.large_image"\n      ng-repeat="column in images | limitTo: 12">\n    </div>\n  </div>\n  <div class="c-forushopproduct-images-preview-dots" ng-class="{\'is-hidden\' : images.length == 1}">\n    <div class="c-forushopproduct-images-preview-dots-item"\n      ng-repeat="dot in images | limitTo: 12"\n      ng-show="dot.large_image"\n      ng-class="{\'is-activated\' : currentimage.large_image == dot.large_image}"></div>\n  </div>\n</div>')}]),angular.module("YepCom").directive("forushopproductImagesPreview",function(){return{restrict:"E",replace:!0,templateUrl:"templates-editor-preview/dynamicblocks/forushopproduct-images-preview/forushopproduct-images-preview.html",scope:{currentimage:"=",images:"="},link:function(scope,element,attrs){scope.$watch("images",function(images_array){images_array.length>0&&(scope.currentimage=images_array[0])}),element[0].addEventListener("mouseover",function(event){event.target&&event.target.dataset&&event.target.dataset.index&&(scope.currentimage=scope.images[event.target.dataset.index])})}}}),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-editor-preview/dynamicblocks/foruslider/foruslider.html",'<div class="foruslider-wrapper">\n  <div class="track-wrapper">\n    <div class="track"\n      ng-show="showslides"\n      ng-style="sliderstyles">\n      <div class="slide force-significate"\n        elementid="{{item.elementid}}"\n        movelement="disallow"\n        ng-class="item.fake ? \'fake\' : \'\'"\n        ng-repeat="item in slides track by $index"\n        ng-style="sitecontent[item.elementid][\'style\']">\n        <div class="foru-slider-item">\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="foru-slider-prev"\n    ng-click="prevForuSlide()">\n  </div>\n  <div class="foru-slider-next"\n    ng-click="nextForuSlide()">\n  </div>\n  <div class="foru-slider-dots">\n    <div class="foru-slider-dots-inner">\n      <div class="foru-slider-dot f-btn"\n        ng-class="dot == currentElementIndex ? \'active\' : \'\'"\n        ng-click="goToSlide(dot)"\n        ng-repeat="dot in slidesdots track by $index"\n        ng-style="dotsStyle">\n      </div>\n    </div>\n  </div>\n</div>')}]),angular.module("YepCom").directive("foruSlider",function($state,$timeout,$templateCache,$compile,$interval,deviceDetector){return{restrict:"EA",replace:!0,priority:10,link:function(scope,element,attrs){var compiledElement,injectComponentMap,template,templateClone,ww;scope.showslides=!1,scope.slidesTransition=500,scope.sliderstyles={},scope.currentElementIndex=0,scope.slidesdots=[],scope.sitecontent&&(scope.initVariables=function(){scope.sitecontent.slidersettings||(scope.sitecontent.slidersettings={}),scope.sitecontent.slidersettings.hasOwnProperty("autoplayinterval")||(scope.sitecontent.slidersettings.autoplayinterval={val:4e3,name:"4 \u0441\u0435\u043a\u0443\u043d\u0434\u044b"}),scope.slidesAutoPlay=scope.sitecontent.slidersettings.autoplay||!1,scope.slidesToShow=+scope.sitecontent.slidersettings.size||1,scope.autoplayInterval=scope.sitecontent.slidersettings.autoplayinterval||{val:4e3,name:"4 \u0441\u0435\u043a\u0443\u043d\u0434\u044b"},ww=$(window).width(),768>ww&&(scope.slidesToShow=1)},scope.initVariables(),scope.previewstate=!1,("preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name)&&(scope.previewstate=!0),scope.initSlider=function(){var slide,_i,_len,_ref;for(deviceDetector.isMobile()&&($(".foru-slider-prev").css("left","-15px"),$(".foru-slider-next").css("right","-15px")),scope.setProps(),scope.setSliderDots(),scope.sliderwidth=element[0].offsetWidth,0==scope.sliderwidth&&(scope.sliderwidth=$(element).parent().width()),scope.itemWidth=scope.sliderwidth/scope.slidesToShow,scope.sliderstyles.width=scope.itemWidth*scope.slides.length,_ref=scope.slides,_i=0,_len=_ref.length;_len>_i;_i++)slide=_ref[_i],scope.sitecontent[slide.elementid]||(scope.sitecontent[slide.elementid]={}),scope.sitecontent[slide.elementid].style||(scope.sitecontent[slide.elementid].style={}),scope.sitecontent[slide.elementid].style.width=scope.itemWidth;scope.moveToSlide(0,0)},scope.setSlides=function(){var slide,_i,_len,_ref,_results;if(scope.slides=[],scope.sitecontent.slideritems){for(_ref=scope.sitecontent.slideritems,_results=[],_i=0,_len=_ref.length;_len>_i;_i++)slide=_ref[_i],scope.sitecontent[slide.elementid]||(scope.sitecontent[slide.elementid]={}),scope.sitecontent[slide.elementid].style||(scope.sitecontent[slide.elementid].style={}),"none"!==scope.sitecontent[slide.elementid].style.display?_results.push(scope.slides.push(slide)):_results.push(void 0);return _results}},scope.setSliderDots=function(){var i,lngth,slides;for(scope.slidesdots=[],lngth=scope.slides.length,i=0;lngth>i;)scope.slidesdots.push(i),slides=parseInt(scope.slidesToShow),i+=slides},scope.moveToSlide=function(index,left){var transition;scope.currentElementIndex=index,transition=scope.slidesTransition,scope.sliderstyles[scope.animType]="translate3d("+left+"px, 0px, 0px)",scope.sliderstyles.transition="transform "+transition+"ms ease 0s"},scope.addSlide=function(){var left,lngth,slide,_i,_len,_ref;for(_ref=scope.sitecontent.slideritems,_i=0,_len=_ref.length;_len>_i;_i++)if(slide=_ref[_i],-1===scope.slides.indexOf(slide)){if(scope.sitecontent[slide.elementid]||(scope.sitecontent[slide.elementid]={}),scope.sitecontent[slide.elementid].style||(scope.sitecontent[slide.elementid].style={}),scope.sitecontent[slide.elementid].style.width=scope.itemWidth,scope.sitecontent[slide.elementid]&&scope.sitecontent[slide.elementid].style&&"none"===scope.sitecontent[slide.elementid].style.display)continue;scope.slides.push(slide)}scope.sliderstyles.width=scope.itemWidth*scope.slides.length,scope.setSliderDots(),lngth=scope.slidesdots.length-1,scope.currentElementIndex=scope.slidesdots[lngth],left=scope.itemWidth*scope.currentElementIndex*-1,scope.moveToSlide(scope.currentElementIndex,left)},scope.reinitSlider=function(){scope.setSlides(),scope.sliderstyles.width=scope.itemWidth*scope.slides.length,scope.setSliderDots(),scope.currentElementIndex=0,scope.moveToSlide(0,0)},scope.prevForuSlide=function(){var left,lngth,nextindex;nextindex=scope.slidesdots.indexOf(scope.currentElementIndex)-1,scope.slidesdots[nextindex]>-1?(scope.currentElementIndex=scope.slidesdots[nextindex],left=scope.itemWidth*scope.currentElementIndex*-1):(lngth=scope.slidesdots.length-1,scope.currentElementIndex=scope.slidesdots[lngth],left=scope.itemWidth*scope.currentElementIndex*-1),scope.moveToSlide(scope.currentElementIndex,left)},scope.nextForuSlide=function(){var left,nextindex;nextindex=scope.slidesdots.indexOf(scope.currentElementIndex)+1,scope.slidesdots[nextindex]?(scope.currentElementIndex=scope.slidesdots[nextindex],left=scope.itemWidth*scope.currentElementIndex*-1):(scope.currentElementIndex=0,left=0),scope.moveToSlide(scope.currentElementIndex,left)},scope.goToSlide=function(dot){var left;scope.currentElementIndex=dot,left=scope.itemWidth*scope.currentElementIndex*-1,scope.moveToSlide(dot,left)},scope.setProps=function(){var bodyStyle;bodyStyle=document.body.style,void 0!==bodyStyle.OTransform&&(scope.animType="OTransform",scope.transformType="-o-transform",scope.transitionType="OTransition"),void 0!==bodyStyle.MozTransform&&(scope.animType="MozTransform",scope.transformType="-moz-transform",scope.transitionType="MozTransition"),void 0!==bodyStyle.webkitTransform&&(scope.animType="webkitTransform",scope.transformType="-webkit-transform",scope.transitionType="webkitTransition"),void 0!==bodyStyle.msTransform&&(scope.animType="msTransform",scope.transformType="-ms-transform",scope.transitionType="msTransition"),void 0!==bodyStyle.transform&&scope.animType!==!1&&(scope.animType="transform",scope.transformType="transform",scope.transitionType="transition")},scope.setSlides(),scope.startSlider=function(){scope.intervalH&&$interval.cancel(scope.intervalH),scope.initSlider(),scope.showslides=!0,1==scope.slidesAutoPlay&&(scope.intervalH=$interval(function(){scope.nextForuSlide()},scope.autoplayInterval.val))},scope.$watch(function(){return{width:element.width()}},function(newValue,oldValue){newValue&&newValue.width&&newValue.width>0&&$timeout(function(){scope.startSlider()},0)},!0),$(window).resize(function(){$(window).width()<768?scope.slidesToShow=1:scope.slidesToShow=scope.sitecontent.slidersettings.size||1,$timeout(function(){scope.initSlider()},100)}),scope.$on("foruSlideActionsEvt",function(evt,yelemid,action){yelemid===scope.yeid&&("add"===action?scope.addSlide():"slidestoshow"===action?(scope.slidesToShow=scope.sitecontent.slidersettings.size,scope.initSlider()):scope.reinitSlider(),"slideautostart"===action&&(scope.initVariables(),scope.initSlider(),scope.startSlider()))}),template=angular.element($templateCache.get("templates-editor-preview/dynamicblocks/foruslider/foruslider.html")),injectComponentMap={"foru-slider-item":".foru-slider-item","foru-slider-prev":".foru-slider-prev","foru-slider-next":".foru-slider-next"},templateClone=template.clone(),angular.forEach(injectComponentMap,function(innerSelector,outerSelector){var outerElement,templ;outerElement=element[0].querySelector(outerSelector),outerElement&&(scope.previewstate?(templ=outerElement.innerHTML.replace(/foru-attr-model="sitecontent\[(.+?)\]\['text'\]/g,"ng-bind-html=\"trustAsHtml(sitecontent[$1]['text'])"),templ=templ.replace(/\&\#39\;/g,"'")):templ=outerElement.innerHTML.replace(/foru-attr-model/g,"ui-tinymce='tinymceOptions' ng-model"),templ=templ.replace(/foru-attr-/g,"ng-"),angular.element(templateClone[0].querySelector(innerSelector)).html(templ))}),compiledElement=$compile(templateClone)(scope),element.html("").append(compiledElement))}}}),angular.module("YepCom").directive("forusoc",function($state,Layout,$compile){return{restrict:"EA",replace:!0,template:'<div class="forusoc extrablockngnew" extraname="forublocksocial" elementid="elforusocouter" ng-style="sitecontent.elforusocouter.style" ng-class="sitecontent.elforusocouter.classes"></div>',link:function(scope,element,attrs){var key,keys,templ,_i,_len;if(scope.forusocowloptions={mouseDrag:!1,loop:!0,margin:10,nav:!0,dots:!0,responsive:{0:{items:1},769:{items:2},993:{items:4}}},scope.updateExtraTemplate=function(name){var id;return id=scope.elemdata.extrablock_id.$oid,Layout.updateTemplate(id,name).then(function(templ){return element.html(""),scope.elemdata.templatename=name,scope.elemdata.templatehtml=templ,$compile(templ)(scope,function(newelem){return element.html(newelem)})})},scope.$on("setLayoutelforusoc",function(evt,template,yelemid,classes){var cls;return null==classes&&(classes=null),yelemid===scope.yeid?(cls=scope.sitecontent.elforusocouter.classes,classes?-1===cls.indexOf(classes)&&(scope.sitecontent.elforusocouter.classes=classes):-1===cls.indexOf(template)&&(scope.sitecontent.elforusocouter.classes=template),scope.updateExtraTemplate(template)):void 0}),"preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name){for(templ=scope.elemdata.templatehtml.replace(/\&\#39\;/g,"'"),keys=Object.keys(scope.sitecontent),_i=0,_len=keys.length;_len>_i;_i++)key=keys[_i],scope.sitecontent[key]&&scope.sitecontent[key].text&&(templ=templ.replace("ng-model=\"sitecontent['"+key+"']['text']\"","ng-bind-html=\"trustAsHtml(sitecontent['"+key+"']['text'])\""),templ=templ.replace('ng-model="sitecontent.'+key+'.text"','ng-bind-html="trustAsHtml(sitecontent.'+key+'.text)"'));return $compile(templ)(scope,function(newelem){return element.html(newelem)})}return scope.elemdata&&scope.elemdata.templatename&&(scope.updateExtraTemplate(scope.elemdata.templatename),scope.sitecontent.elforusoc)?scope.sitecontent.elforusoc.template=scope.elemdata.templatename:void 0}}}),angular.module("YepCom").directive("forutabs",function($state,Layout,$compile){return{restrict:"EA",replace:!0,template:'<div class="forutabs extrablockngnew" extraname="forublocktabs" elementid="elforutabsouter" ng-style="sitecontent.elforutabsouter.style" ng-class="sitecontent.elforutabsouter.classes"></div>',link:function(scope,element,attrs){var key,keys,templ,_i,_len;if(scope.updateExtraTemplate=function(name){var id;return id=scope.elemdata.extrablock_id.$oid,Layout.updateTemplate(id,name).then(function(templ){return element.html(""),scope.elemdata.templatename=name,scope.elemdata.templatehtml=templ,scope.sitecontent.elforutabs&&scope.sitecontent.elforutabs.tabs&&(scope.isActivatedTab=scope.sitecontent.elforutabs.tabs[0]),$compile(templ)(scope,function(newelem){return element.html(newelem)})})},scope.showForuTab=function(tabId){scope.isActivatedTab=tabId},scope.$on("foruTabsActionsEvt",function(evt,yelemid,action){yelemid===scope.yeid&&scope.sitecontent.elforutabs&&scope.sitecontent.elforutabs.tabs&&(scope.isActivatedTab=scope.sitecontent.elforutabs.tabs[0])}),scope.showhideel=function(name){return scope[name]=!scope[name]},scope.$on("setLayoutelforutabs",function(evt,template,yelemid,classes){var cls;return null==classes&&(classes=null),yelemid===scope.yeid?(cls=scope.sitecontent.elforutabsouter.classes,classes?-1===cls.indexOf(classes)&&(scope.sitecontent.elforutabsouter.classes=classes):-1===cls.indexOf(template)&&(scope.sitecontent.elforutabsouter.classes=template),scope.updateExtraTemplate(template)):void 0}),"preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name){for(templ=scope.elemdata.templatehtml.replace(/\&\#39\;/g,"'"),keys=Object.keys(scope.sitecontent),_i=0,_len=keys.length;_len>_i;_i++)key=keys[_i],scope.sitecontent[key]&&scope.sitecontent[key].text&&(templ=templ.replace(/ng-model="sitecontent\[(.+?)\]\['text'\]/g,"ng-bind-html=\"trustAsHtml(sitecontent[$1]['text'])"));scope.sitecontent.elforutabs&&scope.sitecontent.elforutabs.tabs&&(scope.isActivatedTab=scope.sitecontent.elforutabs.tabs[0]),$compile(templ)(scope,function(newelem){element.html(newelem)})}else if(scope.elemdata&&scope.elemdata.templatename&&(scope.updateExtraTemplate(scope.elemdata.templatename),scope.sitecontent.elforutabs))return scope.sitecontent.elforutabs.template=scope.elemdata.templatename}}}),angular.module("YepCom").directive("foruteam",function($state,Layout,$compile){return{restrict:"EA",replace:!0,template:'<div class="foruteam extrablockngnew" extraname="forublockteam" elementid="elforuteamouter" ng-style="sitecontent.elforuteamouter.style" ng-class="sitecontent.elforuteamouter.classes"></div>',link:function(scope,element,attrs){var key,keys,templ,_i,_len;if(scope.foruteamowloptions={mouseDrag:!1,loop:!0,margin:10,nav:!0,dots:!0,responsive:{0:{items:1},769:{items:2},993:{items:4}}},scope.updateExtraTemplate=function(name){var id;return id=scope.elemdata.extrablock_id.$oid,Layout.updateTemplate(id,name).then(function(templ){return element.html(""),scope.elemdata.templatename=name,scope.elemdata.templatehtml=templ,$compile(templ)(scope,function(newelem){return element.html(newelem)})})},scope.$on("setLayoutelforuteam",function(evt,template,yelemid,classes){var cls;return null==classes&&(classes=null),yelemid===scope.yeid?(cls=scope.sitecontent.elforuteamouter.classes,classes?-1===cls.indexOf(classes)&&(scope.sitecontent.elforuteamouter.classes=classes):-1===cls.indexOf(template)&&(scope.sitecontent.elforuteamouter.classes=template),scope.updateExtraTemplate(template)):void 0}),"preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name){for(templ=scope.elemdata.templatehtml.replace(/\&\#39\;/g,"'"),keys=Object.keys(scope.sitecontent),_i=0,_len=keys.length;_len>_i;_i++)key=keys[_i],scope.sitecontent[key]&&scope.sitecontent[key].text&&(templ=templ.replace("ng-model=\"sitecontent['"+key+"']['text']\"","ng-bind-html=\"trustAsHtml(sitecontent['"+key+"']['text'])\""),templ=templ.replace(/ng-model="sitecontent\[(.+?)\]\['text'\]/g,"ng-bind-html=\"trustAsHtml(sitecontent[$1]['text'])"));return $compile(templ)(scope,function(newelem){return element.html(newelem)})}return scope.elemdata&&scope.elemdata.templatename&&(scope.updateExtraTemplate(scope.elemdata.templatename),scope.sitecontent.elforuteam)?scope.sitecontent.elforuteam.template=scope.elemdata.templatename:void 0}}}),angular.module("YepCom").directive("forutext",function($state,Layout,$compile){return{restrict:"EA",replace:!0,template:'<div class="forutext extrablockngnew" extraname="forublocktext" elementid="elforutextouter" ng-style="sitecontent.elforutextouter.style" ng-class="sitecontent.elforutextouter.classes"></div>',link:function(scope,element,attrs){var key,keys,templ,_i,_len;if(scope.updateExtraTemplate=function(name){var id;return id=scope.elemdata.extrablock_id.$oid,Layout.updateTemplate(id,name).then(function(templ){return element.html(""),scope.elemdata.templatename=name,scope.elemdata.templatehtml=templ,$compile(templ)(scope,function(newelem){return element.html(newelem)})})},scope.showtabcontent1=!1,scope.showtabcontent2=!1,scope.showtabcontent3=!1,scope.showtabcontent4=!1,scope.showtabcontent5=!1,scope.showhideel=function(name){return scope[name]=!scope[name]},scope.$on("setLayoutelforutext",function(evt,template,yelemid,classes){var cls;return null==classes&&(classes=null),yelemid===scope.yeid?(cls=scope.sitecontent.elforutextouter.classes,classes?-1===cls.indexOf(classes)&&(scope.sitecontent.elforutextouter.classes=classes):-1===cls.indexOf(template)&&(scope.sitecontent.elforutextouter.classes=template),scope.updateExtraTemplate(template)):void 0}),"preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name){for(templ=scope.elemdata.templatehtml.replace(/\&\#39\;/g,"'"),keys=Object.keys(scope.sitecontent),_i=0,_len=keys.length;_len>_i;_i++)key=keys[_i],scope.sitecontent[key]&&scope.sitecontent[key].text&&(templ=templ.replace("ng-model=\"sitecontent['"+key+"']['text']\"","ng-bind-html=\"trustAsHtml(sitecontent['"+key+"']['text'])\""));return $compile(templ)(scope,function(newelem){return element.html(newelem)})}return scope.elemdata&&scope.elemdata.templatename&&(scope.updateExtraTemplate(scope.elemdata.templatename),scope.sitecontent.elforutext)?scope.sitecontent.elforutext.template=scope.elemdata.templatename:void 0}}}),angular.module("YepCom").directive("forutextandbtn",function($state,Layout,$compile){return{restrict:"EA",replace:!0,template:'<div class="forutextandbtn extrablockngnew" extraname="forublocktextandbtn" elementid="elforutextandbtnouter" ng-style="sitecontent.elforutextandbtnouter.style" ng-class="sitecontent.elforutextandbtnouter.classes"></div>',link:function(scope,element,attrs){var key,keys,templ,_i,_len;if(scope.updateExtraTemplate=function(name){var id;return id=scope.elemdata.extrablock_id.$oid,Layout.updateTemplate(id,name).then(function(templ){return element.html(""),scope.elemdata.templatename=name,scope.elemdata.templatehtml=templ,$compile(templ)(scope,function(newelem){return element.html(newelem)})})},scope.$on("setLayoutelforutextandbtn",function(evt,template,yelemid,classes){var cls;return null==classes&&(classes=null),yelemid===scope.yeid?(cls=scope.sitecontent.elforutextandbtnouter.classes,classes?-1===cls.indexOf(classes)&&(scope.sitecontent.elforutextandbtnouter.classes=classes):-1===cls.indexOf(template)&&(scope.sitecontent.elforutextandbtnouter.classes=template),scope.updateExtraTemplate(template)):void 0}),"preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name){for(templ=scope.elemdata.templatehtml.replace(/\&\#39\;/g,"'"),keys=Object.keys(scope.sitecontent),_i=0,_len=keys.length;_len>_i;_i++)key=keys[_i],scope.sitecontent[key]&&scope.sitecontent[key].text&&(templ=templ.replace("ng-model=\"sitecontent['"+key+"']['text']\"","ng-bind-html=\"trustAsHtml(sitecontent['"+key+"']['text'])\""));return $compile(templ)(scope,function(newelem){return element.html(newelem)})}return scope.elemdata&&scope.elemdata.templatename&&(scope.updateExtraTemplate(scope.elemdata.templatename),scope.sitecontent.elforutextandbtn)?scope.sitecontent.elforutextandbtn.template=scope.elemdata.templatename:void 0}}}),angular.module("YepCom").directive("forutimer",function($state,Layout,$compile){return{restrict:"EA",replace:!0,template:'<div class="forutimer extrablockngnew" extraname="forublocktimer" elementid="elforutimerouter" ng-style="sitecontent.elforutimerouter.style" ng-class="sitecontent.elforutimerouter.classes"></div>',link:function(scope,element,attrs){var key,keys,templ,_i,_len;if(scope.updateExtraTemplate=function(name){var id;return id=scope.elemdata.extrablock_id.$oid,Layout.updateTemplate(id,name).then(function(templ){return element.html(""),scope.elemdata.templatename=name,scope.elemdata.templatehtml=templ,$compile(templ)(scope,function(newelem){return element.html(newelem)})})},scope.$on("setLayoutelforutimer",function(evt,template,yelemid,classes){var cls;return null==classes&&(classes=null),yelemid===scope.yeid?(cls=scope.sitecontent.elforutimerouter.classes,classes?-1===cls.indexOf(classes)&&(scope.sitecontent.elforutimerouter.classes=classes):-1===cls.indexOf(template)&&(scope.sitecontent.elforutimerouter.classes=template),scope.updateExtraTemplate(template)):void 0}),"preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name){for(templ=scope.elemdata.templatehtml.replace(/\&\#39\;/g,"'"),keys=Object.keys(scope.sitecontent),_i=0,_len=keys.length;_len>_i;_i++)key=keys[_i],scope.sitecontent[key]&&scope.sitecontent[key].text&&(templ=templ.replace("ng-model=\"sitecontent['"+key+"']['text']\"","ng-bind-html=\"trustAsHtml(sitecontent['"+key+"']['text'])\""));return $compile(templ)(scope,function(newelem){return element.html(newelem)})}return scope.elemdata&&scope.elemdata.templatename&&(scope.updateExtraTemplate(scope.elemdata.templatename),
scope.sitecontent.elforutimer)?scope.sitecontent.elforutimer.template=scope.elemdata.templatename:void 0}}}),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-editor-preview/dynamicblocks/forutreenodeitem/forutreenodeitem.html",'<div class="forutreenodeitem-element">\n  <a class="forutreenodeitem-element-link forutreenodeitem-element-link--depth-{{nodeitem.node.obj.depth}}"\n    ng-href="{{nodeitem.node.obj.nodevalue}}"\n    target="{{nodeitem.node.obj.extendeddata.target==\'_blank\'?\'_blank\':\'_self\'}}">\n    {{nodeitem.node.obj.name}}\n    <span class="forutreenodeitem-element-link__collapse-menu"\n      ng-if=\'nodeitem.node.children.length>0\'\n      data-toggle="collapse"\n      href="#ul-{{nodeitem.node.obj._id.$oid}}"\n      role="button"\n      aria-expanded="false"></span>\n  </a>\n  <!-- <button ng-click=\'editNodeItem(nodeitem)\'>e</button> -->\n  <ul class="forutreenodeitem-element-ul collapse"\n    id="ul-{{nodeitem.node.obj._id.$oid}}"\n    ng-if=\'nodeitem.node.children.length>0\'>\n    <li class="forutreenodeitem-element-ul-li"\n      ng-repeat=\'item in nodeitem.node.children | orderBy: "node.obj.position" track by $index \'>\n      <forutreenodeitem nodeitem=\'item\'\n        siteuuid=\'siteuuid\'>\n      </forutreenodeitem>\n    </li>\n  </ul>\n</div>')}]),angular.module("YepCom").directive("forutreenodeitem",function(){return{restrict:"EA",replace:!0,templateUrl:"templates-editor-preview/dynamicblocks/forutreenodeitem/forutreenodeitem.html",scope:{nodeitem:"=",siteuuid:"="},link:function(scope,element,attrs){scope.editNodeItem=function(item){}}}}),angular.module("YepCom").directive("foruvideotag",function($state,Layout,$compile,ngDialog,iframeEvent,elementPreparer){return{restrict:"EA",replace:!0,template:'<div class="foruvideotag extrablockngnew" extraname="foruvideotag" elementid="elforuvideotagouter" ng-style="sitecontent.elforuvideotagouter.style" ng-class="sitecontent.elforuvideotagouter.classes"></div>',link:function(scope,element,attrs){var key,keys,templ,_i,_len;if(scope.currentstate=$state.current.name,scope.updateExtraTemplate=function(name){var id;return id=scope.elemdata.extrablock_id.$oid,Layout.updateTemplate(id,name).then(function(templ){return element.html(""),scope.elemdata.templatename=name,scope.elemdata.templatehtml=templ,$compile(templ)(scope,function(newelem){return element.html(newelem)})})},scope.setIframeCurrent=function(event,elementid){var currElem,elem,yelem;return ngDialog.closeAll(),event.preventDefault(),event.stopPropagation(),yelem=$($(event.target).parents("yelem")),elem=yelem.find("[elementid='"+elementid+"']"),currElem=elementPreparer.prepare(elem[0]),iframeEvent.broadcast({evt:"setIframeCurrentEv",elem:currElem})},"preview2"===$state.current.name||"localpreview"===$state.current.name||"templatepreview"===$state.current.name||"previewimage"===$state.current.name){for(templ=scope.elemdata.templatehtml.replace(/\&\#39\;/g,"'"),keys=Object.keys(scope.sitecontent),_i=0,_len=keys.length;_len>_i;_i++)key=keys[_i],scope.sitecontent[key]&&scope.sitecontent[key].text&&(templ=templ.replace("ng-model=\"sitecontent['"+key+"']['text']\"","ng-bind-html=\"trustAsHtml(sitecontent['"+key+"']['text'])\""),templ=templ.replace('ng-model="sitecontent.'+key+'.text"','ng-bind-html="trustAsHtml(sitecontent.'+key+'.text)"'));return $compile(templ)(scope,function(newelem){return element.html(newelem)})}return scope.elemdata&&scope.elemdata.templatename&&(scope.updateExtraTemplate(scope.elemdata.templatename),scope.sitecontent.elforucover)?scope.sitecontent.elforucover.template=scope.elemdata.templatename:void 0}}}),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-editor-preview/foru-lightbox/foru-lightbox.html",'<div class="c-foru-lightbox">\n  <div class="c-foru-lightbox-image">\n    <img class="img-responsive"\n      src="{{currentimage.large_image}}" ng-click="openForuLightBoxWindow()"/>\n  </div>\n\n  <div class="c-foru-lightbox-window"\n    ng-show="showForuLightBoxWindow">\n    <div class="c-foru-lightbox-window-close"\n      title="\u0417\u0430\u043a\u0440\u044b\u0442\u044c"\n      ng-click="closeForuLightBoxWindow()">\n    </div>\n    <div class="c-foru-lightbox-window-sidebar">\n      <div class="c-foru-lightbox-window-sidebar-item"\n        ng-repeat="item in gallery"\n        ng-show="item.large_image"\n        ng-class="{\'is-activated\' : item.large_image == currentimage.large_image}"\n        ng-click="setCurrentImageLightBox(item)">\n        <img class="c-foru-lightbox-window-sidebar-item-image img-responsive"\n          src="{{item.large_image}}" />\n      </div>\n    </div>\n    <div class="c-foru-lightbox-window-gallery">\n      <img class="c-foru-lightbox-window-gallery-image img-responsive"\n        src="{{currentimage.original_url}}" />\n\n      <div class="c-foru-lightbox-window-gallery-left" title="\u041d\u0430\u0437\u0430\u0434" ng-click="goPrevGalleryItem()"></div>\n      <div class="c-foru-lightbox-window-gallery-right" title="\u0412\u043f\u0435\u0440\u0435\u0434" ng-click="goNextGalleryItem()"></div>\n    </div>\n  </div>\n</div>')}]),angular.module("YepCom").directive("foruLightbox",function(Page){return{restrict:"EA",replace:!0,scope:{gallery:"=",currentimage:"="},templateUrl:"templates-editor-preview/foru-lightbox/foru-lightbox.html",link:function(scope,element,attrs){scope.showForuLightBoxWindow=!1,scope.$on("changedCurrentImageEvent",function(event,image){scope.currentimage=image}),scope.openForuLightBoxWindow=function(){scope.showForuLightBoxWindow=!0},scope.setCurrentImageLightBox=function(image){scope.currentimage=image},scope.closeForuLightBoxWindow=function(){scope.showForuLightBoxWindow=!1},scope.goPrevGalleryItem=function(){var item=scope.gallery.filter(function(obj){return obj.original_url==scope.currentimage.original_url});if(item[0]){var index=scope.gallery.indexOf(item[0]),goIndex=index-1;0>goIndex&&(goIndex=scope.gallery.length-1),scope.currentimage=scope.gallery[goIndex]}},scope.goNextGalleryItem=function(){var item=scope.gallery.filter(function(obj){return obj.original_url==scope.currentimage.original_url});if(item[0]){var index=scope.gallery.indexOf(item[0]),goIndex=index+1;goIndex>scope.gallery.length-1&&(goIndex=0),scope.currentimage=scope.gallery[goIndex]}},document.addEventListener("keydown",function(e){("ArrowRight"==e.key||"ArrowDown"==e.key)&&scope.goNextGalleryItem(),("ArrowLeft"==e.key||"ArrowUp"==e.key)&&scope.goPrevGalleryItem(),"Escape"==e.key&&scope.closeForuLightBoxWindow()})}}}),angular.module("YepCom").directive("chatbro",function($compile,$ocLazyLoad){return{restrict:"E",replace:!0,scope:{},link:function(scope,element,attrs){$ocLazyLoad.load({cache:!0},{name:"widget-chatbro-defer.js",files:["/assets/js/widget-chatbro-defer.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(){var tmpl='<chatbro-defer chatid="'+attrs.chatid+'" ></chatbro-defer>';$compile(tmpl)(scope,function(newelem){$(element).append(newelem)})})}}}),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-editor-preview/widgets/widget-chatevents/widget-chatevents.html",'<div id="wm-events-holder"\n  class="ewm-widget-comments"\n  data-design="3"\n  data-width="100%"></div>')}]),angular.module("YepCom").directive("chatevents",function($timeout){return{restrict:"E",replace:!0,templateUrl:"templates-editor-preview/widgets/widget-chatevents/widget-chatevents.html",scope:{},link:function(scope,element,attrs){return scope.$on("updateexternalwidgetElement",function(evt){return $("#wm-events-holder").attr("data-inited",0),$(element).children("iframe").remove(),scope.loadChat()}),scope.chathidden=!0,scope.openChat=function(){return scope.chathidden=!1},scope.closeChat=function(){return scope.chathidden=!0},scope.loadChat=function(){var html;return $("[src='https://events.webmoney.ru/js/ewm-api.js?11']").remove(),$("[eventschat]").length>0&&$("[eventschat]").remove(),$("#ewm-js-api").length>0&&$("#ewm-js-api").remove(),html='<script type="text/javascript" eventschat="true">(function (w, d, id) {w.ewmAsyncWidgets = function () { EWM.Widgets.init(); };if (!d.getElementById(id)) {var s = d.createElement("script"); s.id = id; s.async = true;s.src = "https://events.webmoney.ru/js/ewm-api.js?11";(d.getElementsByTagName("head")[0] || d.documentElement).appendChild(s);}})(window, document, "ewm-js-api");</script>',$("head").append(html)},$timeout(function(){return scope.loadChat()},500)}}}),angular.module("YepCom").directive("forucapitaller",function($compile,$ocLazyLoad){return{restrict:"E",scope:{},link:function(scope,element,attrs){$ocLazyLoad.load({cache:!0},{name:"widget-forucapitaller-defer.js",files:["/assets/js/widget-forucapitaller-defer.js?"+(window.yepbuildversion||Math.floor(1e8*Math.random()))]}).then(function(){var tmpl="<forucapitaller-defer ></forucapitaller-defer>";$compile(tmpl)(scope,function(newelem){$(element).append(newelem)})})}}}),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-editor-preview/widgets/widget_forubanner/widget_forubanner.html","<div class=\"widget_forubanner\">\n  <a ng-href=\"{{widgetcontent['elwidgetforulinka']['href']}}\"\n    ng-style=\"widgetcontent['elwidgetforulinka']['style']\">\n    <img ng-src=\"{{widgetcontent.elwidgetforuimg.src}}\"\n      ng-style=\"widgetcontent['elwidgetforuimg']['style']\" />\n  </a>\n</div>")}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-editor-preview/widgets/widget_forubutton/widget_forubutton.html","<div class=\"widget_forubutton\"\n  id=\"{{widgid}}\">\n  <style type=\"text/css\">\n    .widget_forubutton[id='{{widgid}}'] a {\n      background-color: {{widgetcontent.elwidgetforubutton.style.bgcolor}};\n      color: {{widgetcontent.elwidgetforubutton.style.textcolor}};\n    }\n\n    .widget_forubutton[id='{{widgid}}'] a:hover {\n      background-color: {{widgetcontent.elwidgetforubutton.style.bgcolorhover}};\n      color: {{widgetcontent.elwidgetforubutton.style.textcolorhover}};\n    }\n\n  </style>\n  <a href=\"{{widgetcontent['elwidgetforulinka']['href']}}\"\n    ng-style=\"widgetcontent['elwidgetforulinka']['style']\">\n    <span ng-bind=\"widgetcontent.elwidgetforutext.text\">\n    </span></a>\n</div>")}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-editor-preview/widgets/widget_foruimage/widget_foruimage.html",'<div class="widget_foruimage">\n  <img ng-src="{{widgetcontent.elwidgetforuimg.src}}" ng-style="{{widgetcontent.elwidgetforuimg.style}}" />\n</div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-editor-preview/widgets/widget_forutext/widget_forutext.html",'<div class="widget_forutext">\n  <p elementid="elwidgetforutext" ng-model="widgetcontent.elwidgetforutext.text" ng-style="{{widgetcontent.elwidgetforutext.style}}">\n    {{widgetcontent.elwidgetforutext.text}}\n  </p>\n</div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-editor-preview/widgets/widget_forutitle/widget_forutitle.html",'<div class="widget_forutitle">\n  <h1 elementid="elwidgetforutitle" ng-model="widgetcontent.elwidgetforutext.text" ng-style="{{widgetcontent.elwidgetforutext.style}}">\n    Test {{widgetcontent.elwidgetforutext.text}}\n  </h1>\n</div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/c-button-blog-favourites/c-button-blog-favourites.html",'<div class="c-button-blog-favourites"\n  ng-show="hasuserspace && userData">\n  <div class="c-button-blog-favourites-link c-link c-link--small c-link--sky-blue"\n    ng-click="addPostToFavourites(item._id.$oid)"\n    title="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0441\u0442 \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"\n    ng-if="!isInFavourites">+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435</div>\n  <div class="c-button-blog-favourites-link c-link c-link--small c-link--grey"\n    ng-click="removePostFromFavourites(item._id.$oid)"\n    title="\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u0441\u0442 \u0438\u0437 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e"\n    ng-if="isInFavourites">- \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e</div>\n</div>')}]),angular.module("YepCom").directive("cButtonBlogFavourites",function($rootScope,BlogService,toaster){return{restrict:"E",replace:!0,templateUrl:"templates-preview/c-button-blog-favourites/c-button-blog-favourites.html",scope:{item:"=",usrData:"="},link:function(scope,element,attrs){scope.hasuserspace=$rootScope.hasuserspace,scope.isInFavourites=!1,scope.$watch("item",function(newValue,oldValue){newValue&&newValue._id&&newValue._id.$oid&&scope.userData&&scope.getAllFavourites()}),scope.checkUserData=function(data,from_auth_form){data&&(scope.userData=data,scope.getAllFavourites())},scope.$watch("usrData",function(newValue,oldValue){newValue&&scope.checkUserData(newValue.data,newValue.from_auth_form)}),scope.$on("userdataEvent",function(event,data,from_auth_form){scope.userData=data,scope.getAllFavourites()}),scope.getAllFavourites=function(){BlogService.getBlogFavourites().then(function(res){for(var i=0;i<res.length;i++)res[i].newsitem_id==scope.item._id.$oid&&(scope.isInFavourites=!0)})},scope.addPostToFavourites=function(post_id){BlogService.addPostToFavourites(post_id).then(function(res){scope.isInFavourites=!0,toaster.pop("success","\u041e\u0442\u043b\u0438\u0447\u043d\u043e!","\u041f\u043e\u0441\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435.")})},scope.removePostFromFavourites=function(post_id){BlogService.removePostFromFavourites(post_id).then(function(res){scope.isInFavourites=!1,toaster.pop("success","\u041e\u0442\u043b\u0438\u0447\u043d\u043e!","\u041f\u043e\u0441\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0451\u043d \u0438\u0437 \u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e.")})}}}}),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/c-button-subscribe-blog/c-button-subscribe-blog.html",'<div class="c-button-subscribe-blog" ng-show="hasuserspace">\n  <div class="c-button-subscribe-blog-{{type}}"\n    title="\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"\n    ng-click="subscribeToBlog()"\n    ng-if="!userIsSubscribed && !subscriptionId">\n    \u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f\n  </div>\n  <div class="c-button-subscribe-blog-{{type}} is-subscribed"\n    title="\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"\n    ng-click="cancelBlogSubscription(subscriptionId)"\n    ng-if="userIsSubscribed && subscriptionId">\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f</div>\n</div>')}]),angular.module("YepCom").directive("cButtonSubscribeBlog",function($rootScope,BlogService,$timeout,toaster,ngDialog){return{restrict:"E",replace:!0,templateUrl:"templates-preview/c-button-subscribe-blog/c-button-subscribe-blog.html",scope:{type:"@",usrData:"="},link:function(scope,element,attrs){scope.hasuserspace=$rootScope.hasuserspace,scope.userIsSubscribed=!1,scope.subscriptionId=void 0,scope.userData=void 0,scope.type||(scope.type="link"),scope.$on("blogSubscriptionResultEvent",function(evt,value,id){scope.userIsSubscribed=value,scope.subscriptionId=id}),scope.checkUserData=function(data,from_auth_form){data&&(scope.userData=data,scope.hasuserspace&&(scope.checkBlogSubscription(from_auth_form),from_auth_form&&scope.membersAuthDialog&&scope.membersAuthDialog.close()))},scope.$watch("usrData",function(newValue,oldValue){newValue&&scope.checkUserData(newValue.data,newValue.from_auth_form)}),scope.$on("sendUserDataEvent",function(evt,data,from_auth_form){scope.checkUserData(data,from_auth_form)}),scope.subscribeToBlog=function(){scope.userData?BlogService.subscribeToBlog().then(function(res){res&&(toaster.pop("success","\u041e\u0442\u043b\u0438\u0447\u043d\u043e!","\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043b\u0438\u0441\u044c \u043d\u0430 \u0411\u043b\u043e\u0433."),res._id&&scope.$emit("blogSubscriptionEvent",!0,res._id.$oid))}):scope.membersAuthDialog=ngDialog.open({template:"/assets/templates-public/preview/membersauth-modal/membersauth-modal.html?"+(window.yepbuildversion||Math.floor(1e8*Math.random())),className:"t-modal t-modal--membersauth",showClose:!0,closeByEscape:!0,closeByDocument:!0,scope:scope})},scope.checkBlogSubscription=function(from_auth_form){BlogService.checkBlogSubscription().then(function(res){res?(scope.userIsSubscribed=!0,res._id&&(scope.subscriptionId=res._id.$oid)):from_auth_form&&scope.subscribeToBlog()})},scope.cancelBlogSubscription=function(subscription_id){BlogService.cancelBlogSubscription(subscription_id).then(function(res){toaster.pop("success","\u041e\u0442\u043b\u0438\u0447\u043d\u043e!","\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0438\u0441\u0430\u043b\u0438\u0441\u044c \u043e\u0442 \u0411\u043b\u043e\u0433\u0430."),scope.$emit("blogSubscriptionEvent",!1,void 0)})}}}}),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/form-files-table/form-files-table.html",'<div class="c-form-files-table">\n  <div class="c-form-files-table__table">\n    <div class="c-form-files-table__tr" ng-repeat="(fileindex, fileitem) in fileList  track by $index">\n      <div class="c-form-files-table__td">{{fileitem.name}}</div>\n      <div class="c-form-files-table__td" ng-click="removeFileItem(fileindex)"\n        title="\u0423\u0434\u0430\u043b\u0438\u0442\u044c">\n        <div class="c-form-files-table__file-remove"></div>\n      </div>\n    </div>\n  </div>\n</div>')}]),angular.module("YepCom").directive("formFilesTable",function(Page){return{restrict:"E",replace:!0,templateUrl:"templates-preview/form-files-table/form-files-table.html",link:function(scope,element,attrs){}}}),angular.module("YepCom").directive("literalAvatar",function(md5,$interval){return{restrict:"E",replace:!0,scope:{nickname:"=",email:"="},template:"<div class=\"literal-avatar\" ng-class=\"colorCode\" ng-style=\"{'height': size, 'width': size, 'font-size': fontSize}\">{{litera}}</div>",link:function(scope,element,attrs){var checkInterval;return scope.litera="",scope.colorCode="",scope.fontSize="14px",scope.size="30px",scope.createAvatar=function(){var data,hash;return data="\u041d\u0435",data=scope.nickname?scope.nickname:scope.email,data&&(data=data.trim(),scope.litera=data.substr(0,2),hash=md5.createHash(scope.litera),hash.length>0)?scope.colorCode="literal-avatar-"+hash[hash.length-1]:void 0},checkInterval=$interval(function(){return scope.nickname||scope.email?(scope.createAvatar(),$interval.cancel(checkInterval)):void 0},500)}}}),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/members-auth-form/members-auth-form.html",'<div class="c-members-auth-form">\n\n  <div ng-show="isLoginForm">\n\n    <form class="c-members-auth-form__form"\n      name="LoginForm">\n      <div class="c-form">\n        <div class="c-form-item">\n          <label class="c-form-item__title">\u0412\u0430\u0448 Email</label>\n          <input class="c-form-item__input"\n            name="email"\n            ng-class="{\'has-value\': LoginForm.email.$viewValue.length > 0, \'error\': LoginForm.email.$invalid && LoginForm.email.$touched}"\n            ng-model="email"\n            required=""\n            type="email"\n            placeholder="\u0412\u0430\u0448 Email" />\n          <span class="input_border"\n            ng-class="{\'error_border\': LoginForm.email.$invalid && LoginForm.email.$touched}"></span>\n        </div>\n        <div class="c-form-item">\n          <label class="c-form-item__title">\u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c</label>\n          <input class="c-form-item__input"\n            name="password"\n            ng-class="{\'has-value\': LoginForm.password.$viewValue.length > 0, \'error\': LoginForm.password.$invalid && LoginForm.password.$touched}"\n            ng-model="password"\n            required=""\n            type="password"\n            placeholder="\u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c" />\n          <span class="input_border"\n            ng-class="{\'error_border\': LoginForm.password.$invalid && LoginForm.password.$touched}"></span>\n        </div>\n      </div>\n      <div class="text-center">\n        <button class="c-button c-button--dark-blue c-button--big"\n          ng-click="LoginForm.$valid && loginUser()"\n          ng-disabled="loginBtnLock">\u0412\u043e\u0439\u0442\u0438</button>\n      </div>\n    </form>\n\n    <div class="c-members-auth-form__actions">\n      <a class="c-link c-link--small c-link--sky-blue"\n        ng-click="showAuthPart(\'isRegistrationForm\')">\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f</a>\n    </div>\n\n    <div class="c-members-auth-form__actions">\n      <a class="c-link c-link--small c-link--sky-blue"\n        ng-click="showAuthPart(\'isRestorePassForm\')">\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?</a>\n    </div>\n\n  </div>\n\n  <div ng-show="isRegistrationForm">\n\n    <form class="c-members-auth-form__form"\n      name="RegisterForm">\n      <div class="c-form">\n        <div class="c-form-item">\n          <label class="c-form-item__title">\u0412\u0430\u0448 Email</label>\n          <input class="c-form-item__input"\n            name="email"\n            ng-class="{\'has-value\': RegisterForm.email.$viewValue.length > 0, \'error\': RegisterForm.email.$invalid && RegisterForm.email.$touched}"\n            ng-model="email"\n            required=""\n            placeholder="\u0412\u0430\u0448 Email"\n            type="email" /><span class="input_border"\n            ng-class="{\'error_border\': RegisterForm.email.$invalid && RegisterForm.email.$touched}"></span>\n        </div>\n        <div class="c-form-item">\n          <label class="c-form-item__title">\u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c</label>\n          <input class="c-form-item__input"\n            name="password"\n            ng-class="{\'has-value\': RegisterForm.password.$viewValue.length > 0, \'error\': RegisterForm.password.$invalid && RegisterForm.password.$touched}"\n            ng-model="password"\n            required=""\n            placeholder="\u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c"\n            type="password" /><span class="input_border"\n            ng-class="{\'error_border\': RegisterForm.password.$invalid && RegisterForm.password.$touched}"></span </div>\n        </div>\n        <div class="c-form-item">\n          <label class="c-form-item__title">\u041f\u043e\u0432\u0442\u043e\u0440 \u043f\u0430\u0440\u043e\u043b\u044f</label>\n          <input class="c-form-item__input"\n            name="confirmpassword"\n            ng-class="{\'has-value\': RegisterForm.confirmpassword.$viewValue.length > 0, \'error\': RegisterForm.confirmpassword.$invalid && RegisterForm.confirmpassword.$touched}"\n            ng-model="confirmpassword"\n            required=""\n            placeholder="\u041f\u043e\u0432\u0442\u043e\u0440 \u043f\u0430\u0440\u043e\u043b\u044f"\n            type="password" /><span class="input_border"\n            ng-class="{\'error_border\': RegisterForm.confirmpassword.$invalid && RegisterForm.confirmpassword.$touched}"></span>\n        </div>\n      </div>\n      <div class="text-center">\n        <button class="c-button c-button--dark-blue c-button--big c-button--register"\n          ng-click="RegisterForm.$valid && registerUser()"\n          ng-disabled="registerBtnLock">\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f</button>\n      </div>\n    </form>\n\n    <div class="c-members-auth-form__actions">\n      <a class="c-link c-link--small c-link--sky-blue"\n        ng-click="showAuthPart(\'isLoginForm\')">\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442? \u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u043d\u0435\u0433\u043e</a>\n    </div>\n\n    <div class="c-members-auth-form__actions">\n      <a class="c-link c-link--small c-link--sky-blue"\n        ng-click="showAuthPart(\'isRestorePassForm\')">\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?</a>\n    </div>\n\n  </div>\n\n\n  <div ng-show="isRestorePassForm">\n\n    <div class="c-text">\u0414\u043b\u044f \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u0443\u043a\u0430\u0436\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 email</div>\n    <form class="c-members-auth-form__form"\n      name="forgotForm"\n      ng-show="!hideForMessage">\n      <div class="c-form">\n        <div class="c-form-item">\n          <label class="c-form-item__title">\u0412\u0430\u0448 Email</label>\n          <input class="c-form-item__input"\n            name="email"\n            ng-class="{\'has-value\': forgotForm.email.$viewValue.length > 0, \'error\': forgotForm.email.$invalid && forgotForm.email.$touched}"\n            ng-model="email"\n            required=""\n            type="email" />\n          <span class="input_border"\n            ng-class="{\'error_border\': LoginForm.email.$invalid && LoginForm.email.$touched}"></span>\n        </div>\n      </div>\n      <div class="text-center">\n        <button class="c-button c-button--dark-blue c-button--big"\n          ng-click="forgotForm.$valid && forgotPassword()"\n          ng-disabled="loginBtnLock">\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c</button>\n      </div>\n    </form>\n\n    <div class="login-box"\n      ng-show="hideForMessage">\n      <div class="c-alert c-alert--info">\n        \u041d\u0430 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b, \u0447\u0442\u043e \u0432\u044b \u0443\u043a\u0430\u0437\u0430\u043b\u0438, \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0438\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438 \u043f\u043e \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044e \u043f\u0430\u0440\u043e\u043b\u044f.\n      </div>\n    </div>\n\n    <div class="c-members-auth-form__actions">\n      <a class="c-link c-link--small c-link--sky-blue"\n        ng-click="showAuthPart(\'isRegistrationForm\')">\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f</a>\n    </div>\n    <div class="c-members-auth-form__actions">\n      <a class="c-link c-link--small c-link--sky-blue"\n        ng-click="showAuthPart(\'isLoginForm\')">\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442? \u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u043d\u0435\u0433\u043e</a>\n    </div>\n\n  </div>\n\n\n</div>')}]),angular.module("YepCom").directive("membersAuthForm",function($http,toaster){return{restrict:"E",replace:!0,templateUrl:"templates-preview/members-auth-form/members-auth-form.html",link:function(scope,element,attrs){scope.isLoginForm=!0,scope.isRegistrationForm=!1,scope.isRestorePassForm=!1,scope.loginUser=function(){var credentials,data,errorLogin,successLogin;successLogin=function(){scope.loginBtnLock=!1,scope.$emit("userAuthSuccessEvent")},errorLogin=function(err,evt){scope.loginBtnLock=!1,toaster.pop("error","\u041e\u0448\u0438\u0431\u043a\u0430","\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c")},credentials={email:scope.LoginForm.email.$modelValue,password:scope.LoginForm.password.$modelValue},data={member:credentials},scope.loginBtnLock=!0,$http.post("/members/sign_in",data,{withCredentials:!0}).then(successLogin,errorLogin)},scope.registerUser=function(){var confirmPassword,credentials,errorRegister,re,successRegister;successRegister=function(res){scope.registerBtnLock=!1,scope.$emit("userAuthSuccessEvent")},errorRegister=function(res){var _ref;scope.registerBtnLock=!1,(null!=res&&null!=(_ref=res.data)?_ref.retval="422":void 0)?toaster.pop("error","\u041e\u0448\u0438\u0431\u043a\u0430","Email \u0443\u0436\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f"):toaster.pop("error","\u041e\u0448\u0438\u0431\u043a\u0430","\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430")},confirmPassword=scope.RegisterForm.confirmpassword.$modelValue,credentials={email:scope.RegisterForm.email.$modelValue,password:scope.RegisterForm.password.$modelValue},credentials.password&&""!==credentials.password.toString()||toaster.pop("error","\u041d\u0435\u0432\u0435\u0440\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435","\u041f\u0430\u0440\u043e\u043b\u044c \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e"),credentials.password!==confirmPassword&&toaster.pop("error","\u041e\u0448\u0438\u0431\u043a\u0430","\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"),re=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,re.test(String(credentials.email).toLowerCase())||toaster.pop("error","\u041e\u0448\u0438\u0431\u043a\u0430","\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 Email"),scope.registerBtnLock=!0,$http({method:"POST",url:"/members",data:{member:credentials},headers:{"Content-Type":"application/json",Accept:"application/json",withCredentials:!0}}).then(successRegister,errorRegister)},scope.forgotPassword=function(){var credentials,data,errorForm,successForm;successForm=function(res){return scope.hideForMessage=!0},errorForm=function(err,evt){return toaster.pop("error","\u041e\u0448\u0438\u0431\u043a\u0430","\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d")},credentials={email:scope.forgotForm.email.$modelValue},data={member:credentials},$http.post("/members/password.json",data,{withCredentials:!0}).then(successForm,errorForm)},scope.showAuthPart=function(auth_part){scope.isLoginForm=!1,scope.isRegistrationForm=!1,scope.isRestorePassForm=!1,scope[auth_part]=!0}}}}),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additional_chatbro.html",'<chatbro class="additional_widget force-significate"\n  elementid="{{elem.elementid}}"\n  ng-attr-chatid="{{sitecontent[elem.elementid][\'chatid\']}}"\n  ng-attr-chatname="{{sitecontent[elem.elementid][\'chatname\']}}"\n  ng-class="sitecontent[elem.elementid][\'classes\']"\n  ng-style="sitecontent[elem.elementid][\'style\']"></chatbro>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additional_extgiphy.html",'<iframe allowfullscreen="true"\n  class="additional_widget additional_widget_iframe"\n  elementid="{{elem.elementid}}"\n  frameborder="0"\n  height="{{sitecontent[elem.elementid][\'height\']}}"\n  ng-class="sitecontent[elem.elementid][\'classes\']"\n  ng-src="{{trustSrc(sitecontent[elem.elementid][\'framesrc\'])}}"\n  ng-style="sitecontent[elem.elementid][\'style\']"\n  sandbox="allow-same-origin allow-forms allow-popups allow-scripts allow-pointer-lock"\n  width="{{sitecontent[elem.elementid][\'width\']}}"></iframe>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additional_forubanner.html",'<a class="forubanner"\n  elementid="{{elem.elementid}}"\n  ng-class="sitecontent[elem.elementid][\'classes\']"\n  ng-href="{{sitecontent[elem.elementid][\'href\']}}"\n  ng-style="sitecontent[elem.elementid][\'style\']"><img class="img-responsive"\n    elementid="{{elem.imageelid}}"\n    ng-class="sitecontent[elem.imageelid][\'classes\']"\n    ng-src="{{sitecontent[elem.imageelid][\'src\']}}"\n    ng-style="sitecontent[elem.imageelid][\'style\']" /></a>');
}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additional_forubutton.html",'<a class="btn btn-default"\n  elementid="{{elem.elementid}}"\n  ng-bind-html="trustAsHtml(sitecontent[elem.elementid][\'text\'])"\n  ng-class="sitecontent[elem.elementid][\'classes\']"\n  ng-href="{{sitecontent[elem.elementid][\'href\']}}"\n  ng-style="sitecontent[elem.elementid][\'style\']"></a>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additional_forucapitaller.html",'<forucapitaller class="additional_widget additional_widget_iframe"\n  data-fid="{{sitecontent[elem.elementid][\'fid\']}}"\n  data-lang="{{sitecontent[elem.elementid][\'lang\']}}"\n  elementid="{{elem.elementid}}"></forucapitaller>\n<div class="fakeElementFrame f-btn"\n  iframetype="capitallerel"\n  ng-click="setIframeCurrent($event,elem.elementid)"\n  ng-show="currentstate == \'owneditor\' || currentstate == \'siteeditor\'"\n  style="width: 312px; height: 433px;"></div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additional_forucountdown.html",'<forucountdown class="additional_widget force-significate"\n  countdowndata="sitecontent[elem.elementid][\'countdowndata\']"\n  elementid="{{elem.elementid}}"\n  ng-class="sitecontent[elem.elementid][\'classes\']"\n  ng-style="sitecontent[elem.elementid][\'style\']"></forucountdown>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additional_foruevents.html",'<chatevents class="additional_widget additional_widget_iframe"\n  data-lang="{{sitecontent[elem.elementid][\'lang\']}}"\n  data-uid="{{sitecontent[elem.elementid][\'fid\']}}"\n  elementid="{{elem.elementid}}"\n  style="width: 312px; height: 433px; display: block;"></chatevents>\n<div class="fakeElementFrame f-btn"\n  iframetype="eventsel"\n  ng-click="setIframeCurrent($event,elem.elementid)"\n  ng-show="currentstate == \'owneditor\' || currentstate == \'siteeditor\'"\n  style="width: 312px; height: 433px;"></div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additional_forufile.html",'<span class="forufilelink"\n  elementid="{{elem.elementid}}"\n  ng-class="sitecontent[elem.elementid][\'classes\']"\n  ng-style="sitecontent[elem.elementid][\'style\']"><a elementid="{{elem.linkelid}}"\n    ng-attr-target="{{sitecontent[elem.linkelid][\'target\']}}"\n    ng-bind-html="trustAsHtml(sitecontent[elem.linkelid][\'text\'])"\n    ng-class="sitecontent[elem.linkelid][\'classes\']"\n    ng-href="{{sitecontent[elem.linkelid][\'href\']}}"\n    ng-style="sitecontent[elem.linkelid][\'style\']"></a></span>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additional_forufunding.html",'<iframe allowfullscreen="true"\n  class="additional_widget additional_widget_iframe"\n  demo="1"\n  elementid="{{elem.elementid}}"\n  frameborder="0"\n  height="200"\n  ng-class="sitecontent[elem.elementid][\'classes\']"\n  ng-src="{{sitecontent[elem.elementid][\'projectUrl\']}}"\n  ng-style="sitecontent[elem.elementid][\'style\']"\n  width="468"></iframe>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additional_forugallery.html",'<div class="widget_forugallery row"\n  elementid="{{elem.elementid}}"\n  ng-class="sitecontent[elem.elementid][\'classes\']"\n  ng-style="sitecontent[elem.elementid][\'style\']"><a\n    class="fancybox gallery_product col-lg-4 col-md-4 col-sm-4 col-xs-6"\n    href="{{$parent.sitecontent[elem.imageelid1][\'src\']}}"\n    rel="{{elem.elementid}}"><img class="img-responsive"\n      elementid="{{elem.imageelid1}}"\n      ng-class="sitecontent[elem.imageelid1][\'classes\']"\n      ng-src="{{$parent.sitecontent[elem.imageelid1][\'src\']}}"\n      ng-style="sitecontent[elem.imageelid1][\'style\']" /></a><a\n    class="fancybox gallery_product col-lg-4 col-md-4 col-sm-4 col-xs-6"\n    href="{{$parent.sitecontent[elem.imageelid2][\'src\']}}"\n    rel="{{elem.elementid}}"><img class="img-responsive"\n      elementid="{{elem.imageelid2}}"\n      ng-class="sitecontent[elem.imageelid2][\'classes\']"\n      ng-src="{{$parent.sitecontent[elem.imageelid2][\'src\']}}"\n      ng-style="sitecontent[elem.imageelid2][\'style\']" /></a><a\n    class="fancybox gallery_product col-lg-4 col-md-4 col-sm-4 col-xs-6"\n    href="{{$parent.sitecontent[elem.imageelid3][\'src\']}}"\n    rel="{{elem.elementid}}"><img class="img-responsive"\n      elementid="{{elem.imageelid3}}"\n      ng-class="sitecontent[elem.imageelid3][\'classes\']"\n      ng-src="{{$parent.sitecontent[elem.imageelid3][\'src\']}}"\n      ng-style="sitecontent[elem.imageelid3][\'style\']" /></a><a\n    class="fancybox gallery_product col-lg-4 col-md-4 col-sm-4 col-xs-6"\n    href="{{$parent.sitecontent[elem.imageelid4][\'src\']}}"\n    rel="{{elem.elementid}}"><img class="img-responsive"\n      elementid="{{elem.imageelid4}}"\n      ng-class="sitecontent[elem.imageelid4][\'classes\']"\n      ng-src="{{$parent.sitecontent[elem.imageelid4][\'src\']}}"\n      ng-style="sitecontent[elem.imageelid4][\'style\']" /></a><a\n    class="fancybox gallery_product col-lg-4 col-md-4 col-sm-4 col-xs-6"\n    href="{{$parent.sitecontent[elem.imageelid5][\'src\']}}"\n    rel="{{elem.elementid}}"><img class="img-responsive"\n      elementid="{{elem.imageelid5}}"\n      ng-class="sitecontent[elem.imageelid5][\'classes\']"\n      ng-src="{{$parent.sitecontent[elem.imageelid5][\'src\']}}"\n      ng-style="sitecontent[elem.imageelid5][\'style\']" /></a><a\n    class="fancybox gallery_product col-lg-4 col-md-4 col-sm-4 col-xs-6"\n    href="{{$parent.sitecontent[elem.imageelid6][\'src\']}}"\n    rel="{{elem.elementid}}"><img class="img-responsive"\n      elementid="{{elem.imageelid6}}"\n      ng-class="sitecontent[elem.imageelid6][\'classes\']"\n      ng-src="{{$parent.sitecontent[elem.imageelid6][\'src\']}}"\n      ng-style="sitecontent[elem.imageelid6][\'style\']" /></a></div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additional_foruheaderh2.html",'<h2 elementid="{{elem.elementid}}"\n  ng-bind-html="trustAsHtml(sitecontent[elem.elementid].text)"\n  ng-class="sitecontent.{{elem.elementid}}.classes"\n  ng-style="sitecontent.{{elem.elementid}}.style"></h2>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additional_foruhtmlcode.html",'<iframe allowfullscreen="true"\n  elementid="{{elem.elementid}}"\n  frameborder="0"\n  height="{{sitecontent[elem.elementid][\'height\']}}"\n  ng-class="sitecontent[elem.elementid][\'classes\']"\n  ng-style="sitecontent[elem.elementid][\'style\']"\n  sandbox="allow-same-origin allow-forms allow-popups allow-scripts allow-pointer-lock"\n  src="{{trustSrc(sitecontent[elem.elementid][\'framesrc\']|replaceIframeHost)}}"\n  width="{{sitecontent[elem.elementid][\'width\']}}"></iframe>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additional_foruiframe.html",'<iframe allowfullscreen="true"\n  class="additional_widget additional_widget_iframe"\n  elementid="{{elem.elementid}}"\n  frameborder="0"\n  height="{{sitecontent[elem.elementid][\'height\']}}"\n  ng-class="sitecontent[elem.elementid][\'classes\']"\n  ng-src="{{trustSrc(sitecontent[elem.elementid][\'framesrc\'])}}"\n  ng-style="sitecontent[elem.elementid][\'style\']"\n  sandbox="allow-same-origin allow-forms allow-popups allow-scripts allow-pointer-lock"\n  width="{{sitecontent[elem.elementid][\'width\']}}"></iframe>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additional_foruimage.html",'<img class="img-responsive"\n  elementid="{{elem.elementid}}"\n  ng-class="sitecontent[elem.elementid][\'classes\']"\n  ng-src="{{sitecontent[elem.elementid][\'src\']}}"\n  ng-style="sitecontent[elem.elementid][\'style\']" />')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additional_foruimagefile.html",'<div><img class="img-responsive"\n    elementid="{{elem.elementid}}"\n    ng-class="sitecontent[elem.elementid][\'classes\']"\n    ng-if="sitecontent[elem.elementid][\'filetype\'].indexOf(\'image\') > -1"\n    ng-src="{{sitecontent[elem.elementid][\'src\']}}"\n    ng-style="sitecontent[elem.elementid][\'style\']" /><span class="forufilelink"\n    elementid="{{elem.elementid}}"\n    ng-if="sitecontent[elem.elementid][\'filetype\'].indexOf(\'image\') == -1"><i elementid="{{elem.iconelid}}"\n      ng-class="sitecontent.{{elem.iconelid}}.classes"></i><a elementid="{{elem.linkelid}}"\n      ng-bind-html="trustAsHtml(sitecontent[elem.linkelid][\'text\'])"\n      ng-href="{{sitecontent[elem.linkelid][\'href\']}}"\n      ng-style="sitecontent[elem.linkelid][\'style\']"></a></span></div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additional_forulink.html",'<a class="forulink"\n  elementid="{{elem.linkelid}}"\n  ng-attr-target="{{sitecontent[elem.linkelid][\'target\']}}"\n  ng-bind-html="trustAsHtml(sitecontent[elem.linkelid][\'text\'])"\n  ng-class="sitecontent[elem.linkelid][\'classes\']"\n  ng-href="{{sitecontent[elem.linkelid][\'href\']}}"\n  ng-style="sitecontent[elem.linkelid][\'style\']"></a>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additional_forumap.html",'<iframe allowfullscreen="true"\n  elementid="{{elem.elementid}}"\n  frameborder="0"\n  height="{{sitecontent[elem.elementid][\'height\']}}"\n  ng-class="sitecontent[elem.elementid][\'classes\']"\n  ng-src="{{sitecontent[elem.elementid][\'framesrc\']}}"\n  ng-style="sitecontent[elem.elementid][\'style\']"\n  width="{{sitecontent[elem.elementid][\'width\']}}"></iframe>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additional_forunews.html",'<div class="widget_forunews additional_widget"\n  elementid="{{elem.elementid}}"\n  ng-class="sitecontent[elem.elementid][\'classes\']"\n  ng-style="sitecontent[elem.elementid][\'style\']">\n  <div class="row">\n    <div class="col-md-4 col-xs-12 reset-this"\n      elementid="{{newsitem.elementid}}"\n      ng-class="$parent.$parent.sitecontent[newsitem.elementid][\'classes\']"\n      ng-repeat="newsitem in sitecontent[elem.elementid][\'newsitems\']"\n      ng-style="$parent.$parent.sitecontent[newsitem.elementid][\'style\']">\n      <h4>{{newsitem.name}}</h4>\n      <p>{{newsitem.body}}</p>\n    </div>\n  </div>\n</div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additional_forupiechart.html",'<forupiechart chartdata="sitecontent[elem.elementid][\'chartdata\']"\n  class="additional_widget force-significate"\n  elementid="{{elem.elementid}}"\n  ng-class="sitecontent[elem.elementid][\'classes\']"\n  ng-style="sitecontent[elem.elementid][\'style\']"></forupiechart>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additional_forushaperectangle.html",'<div class="b-widget-rectangle additional_widget"\n  dynelement="widgetrectangle"\n  elementid="{{elem.elementid}}"\n  ng-class="sitecontent[elem.elementid][\'classes\']"\n  ng-style="sitecontent[elem.elementid][\'style\']">\n</div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additional_forushopitem.html",'<div class="forushopitem"\n  elementid="{{elem.elementid}}"><img class="img-responsive"\n    elementid="{{elem.imageelid}}"\n    ng-class="sitecontent[elem.imageelid][\'classes\']"\n    ng-src="{{sitecontent[elem.imageelid][\'src\']}}"\n    ng-style="sitecontent[elem.imageelid][\'style\']" /><a elementid="{{elem.linkelid}}"\n    ng-bind-html="trustAsHtml(sitecontent[elem.linkelid][\'text\'])"\n    ng-href="{{sitecontent[elem.linkelid][\'href\']}}"\n    ng-style="sitecontent[elem.linkelid][\'style\']"></a>\n  <p class="price"\n    elementid="{{elem.priceelid}}"\n    ng-bind-html="trustAsHtml(sitecontent[elem.priceelid][\'text\'])"\n    ng-class="sitecontent[elem.priceelid][\'classes\']"\n    ng-style="sitecontent[elem.priceelid][\'style\']"></p>\n</div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additional_forusidemenu.html",'<forusidemenu \n  class="additional_widget force-significate"\n  elementid="{{elem.elementid}}"\n  ng-class="sitecontent[elem.elementid][\'classes\']"\n  ng-style="sitecontent[elem.elementid][\'style\']"></forusidemenu>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additional_forusoberu.html",'<a class="forusoberu-button additional_widget"\n  elementid="{{elem.elementid}}"\n  ng-bind-html="trustAsHtml(sitecontent[elem.elementid][\'text\'])"\n  ng-class="sitecontent[elem.elementid][\'classes\']"\n  ng-href="{{sitecontent[elem.elementid][\'href\']}}"\n  ng-if="!forusoberunopage"\n  ng-style="sitecontent[elem.elementid][\'style\']"></a>\n<div class="foruDragElement f-btn"\n  template="forusoberu"><span class="mdi mdi-24px mdi-drag"></span></div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additional_forutable.html",'<table class="widget_forutable"\n  elementid="{{elem.elementid}}"\n  ng-class="sitecontent[elem.elementid][\'classes\']"\n  ng-style="sitecontent[elem.elementid][\'style\']">\n  <tbody>\n    <tr elementid="{{row.elementid}}"\n      ng-repeat="row in sitecontent[elem.elementid][\'tablecontent\']">\n      <td elementid="{{col.elementid}}"\n        ng-bind-html="trustAsHtml($parent.$parent.$parent.sitecontent[col.elementid][\'text\'])"\n        ng-repeat="col in sitecontent[elem.elementid][\'tablecontent\'][row.elementid][\'tdelements\']">\n      </td>\n    </tr>\n  </tbody>\n</table>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additional_forutext.html",'<p elementid="{{elem.elementid}}"\n  ng-bind-html="trustAsHtml(sitecontent[elem.elementid][\'text\'])"\n  ng-class="sitecontent[elem.elementid][\'classes\']"\n  ng-style="sitecontent[elem.elementid][\'style\']"></p>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additional_forutitle.html",'<h1 elementid="{{elem.elementid}}"\n  ng-bind-html="trustAsHtml(sitecontent[elem.elementid].text)"\n  ng-class="sitecontent.{{elem.elementid}}.classes"\n  ng-style="sitecontent.{{elem.elementid}}.style"></h1>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additional_foruvideo.html",'<iframe allowfullscreen="true"\n  elementid="{{elem.elementid}}"\n  frameborder="0"\n  height="{{sitecontent[elem.elementid][\'height\']}}"\n  ng-class="sitecontent[elem.elementid][\'classes\']"\n  ng-style="sitecontent[elem.elementid][\'style\']"\n  src="{{sitecontent[elem.elementid][\'framesrc\']}}"\n  width="{{sitecontent[elem.elementid][\'width\']}}"></iframe>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additional_foruwidgetlist.html",'<div class="b-widget-list additional_widget"\n  foruwidgetlist=""\n  elementid="{{elem.elementid}}"\n  ng-class="sitecontent[elem.elementid][\'classes\']"\n  ng-style="sitecontent[elem.elementid][\'style\']">\n  <div class="b-widget-list-row-wrapper"\n    ng-repeat="row in $parent.sitecontent[elem.elementid][\'listrows\'] track by $index"\n    elementid="{{row + \'_wrapper\'}}"\n    ng-class="$parent.$parent.sitecontent[row + \'_wrapper\'][\'classes\']"\n    ng-style="$parent.$parent.sitecontent[row + \'_wrapper\'][\'style\']">\n    <div class="b-widget-list-row-marker"\n      elementid="{{row + \'_marker\'}}"\n      ng-class="$parent.$parent.sitecontent[row + \'_marker\'][\'classes\']"\n      data-type="{{$parent.$parent.sitecontent[row + \'_marker\'][\'style\'][\'list-style-type\']}}"\n      data-number="{{$index + 1}}"\n      ng-style="$parent.$parent.sitecontent[row + \'_marker\'][\'style\']"></div>\n    <div class="b-widget-list-row"\n      elementid="{{row}}"\n      ng-class="$parent.$parent.sitecontent[row][\'classes\']"\n      ng-style="$parent.$parent.sitecontent[row][\'style\']">\n      <div class="b-widget-list-item no-significate"\n        ng-repeat="col in $parent.$parent.sitecontent[row][\'listitems\']"\n        elementid="{{col}}"\n        ng-class="$parent.$parent.$parent.sitecontent[col][\'classes\']"\n        ng-bind-html="trustAsHtml($parent.$parent.$parent.sitecontent[col].text)"\n        ng-style="$parent.$parent.$parent.sitecontent[col][\'style\']">\n      </div>\n    </div>\n  </div>\n</div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additional_foruwmmerchant.html",'<div class="foruwmmerchant-outer">\n  <div class="foruwmmerchant additional_widget additional_widget_iframe"\n    elementid="{{elem.elementid}}"\n    foruwmmerchant=""\n    id="{{elem.widgetid}}"\n    ng-class="sitecontent[elem.elementid][\'classes\']"\n    ng-style="sitecontent[elem.elementid][\'style\']"></div>\n  <div class="fakeElementFrame f-btn"\n    iframetype="wmmerchantel"\n    ng-click="setIframeCurrent($event,elem.elementid)"\n    ng-show="currentstate == \'owneditor\' || currentstate == \'siteeditor\'"\n    style="width: 312px; height: 433px;"></div>\n</div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additional_foruyadirect.html",'<div class="foruyadirect-outer"\n  elementid="{{elem.elementid}}"\n  ng-class="sitecontent[elem.elementid][\'classes\']"\n  ng-style="sitecontent[elem.elementid][\'style\']">\n  <yepdirect directid="sitecontent[elem.elementid][\'directid\']"></yepdirect>\n</div>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additional_messengers.html","<span class=\"forumessengerlink\"\n  elementid=\"{{elem.elementid}}\"\n  ng-class=\"sitecontent[elem.elementid]['classes']\"\n  ng-style=\"sitecontent[elem.elementid]['style']\">\n  <a class=\"messengerLink\"\n    href=\"{{sitecontent[elem.elementid]['payload']['data'] | messengerfilter: sitecontent[elem.elementid]['payload']['type']}}\"\n    rel=\"noopener\"\n    target=\"_blank\"\n    title=\"{{sitecontent[elem.elementid]['payload']['text']}}\">\n    <span class=\"s-display-inline-flex forumessengerlink__button\"\n      ng-style=\"{'border-width': sitecontent[elem.elementid]['style']['border-width'],'border-style': sitecontent[elem.elementid]['style']['border-style'],'border-color': sitecontent[elem.elementid]['style']['border-color'],'border-radius': sitecontent[elem.elementid]['style']['border-radius'],'background': sitecontent[elem.elementid]['style']['background-color']}\"\n      ng-class=\"{'btnWhatsApp' : sitecontent[elem.elementid]['payload']['type']=='whatsApp', 'btnTelegram': sitecontent[elem.elementid]['payload']['type']=='Telegram', 'btnSkype': sitecontent[elem.elementid]['payload']['type']=='Skype'}\">\n      <div class=\"messengerIcon\"\n        ng-class=\"{'iconWhatsApp' : sitecontent[elem.elementid]['payload']['type']=='whatsApp', 'iconTelegram': sitecontent[elem.elementid]['payload']['type']=='Telegram', 'iconSkype': sitecontent[elem.elementid]['payload']['type']=='Skype' }\">\n        &nbsp;</div>\n      <span class=\"messengerText\"\n        ng-bind-html=\"sitecontent[elem.elementid]['payload']['text']\"\n        ng-if=\"sitecontent[elem.elementid]['payload']['viewType']=='button'\"\n        ng-style=\"{'color': sitecontent[elem.elementid]['style']['color'], 'font-family': sitecontent[elem.elementid]['style']['font-family']}\">\n      </span>\n    </span>\n  </a>\n</span>")}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-additionallink.html",'<a class="additional_link"\n  elementid="{{elem.elementid}}"\n  ng-attr-target="{{sitecontent[elem.elementid][\'target\']}}"\n  ng-bind-html="trustAsHtml(sitecontent[elem.elementid].text)"\n  ng-class="sitecontent[elem.elementid][\'classes\']"\n  ng-href="{{sitecontent[elem.elementid][\'href\']}}"\n  ng-style="sitecontent[elem.elementid][\'style\']"></a>')}]),angular.module("templates").run(["$templateCache",function($templateCache){$templateCache.put("templates-preview/preview-additional/preview-ddadditionallink.html",'<a class="additional_link additional_link_dd"\n  elementid="{{ddel.elementid}}"\n  ng-attr-arrow="{{sitecontent[ddel.elementid][\'additional_links\'].length > 0 ? \'menu\' : \'\'}}"\n  ng-attr-target="{{sitecontent[ddel.elementid][\'target\']}}"\n  ng-bind-html="trustAsHtml(sitecontent[ddel.elementid][\'text\'])"\n  ng-class="sitecontent.{{ddel.elementid}}.classes"\n  ng-href="{{sitecontent[ddel.elementid][\'href\']}}"\n  ng-style="sitecontent.{{ddel.elementid}}.style"></a>\n<div class="forunavbar2-list-inner-open-btn"\n  ng-click="showhidemenu()"\n  ng-if="sitecontent[ddel.elementid][\'additional_links\'].length > 0"><span ng-if="!showddmenu">+</span><span\n    ng-if="showddmenu">-</span></div>\n<ul class="forunavbar2-list-inner dropdown-menu"\n  elementid="elforunavbaruldd"\n  ng-class="{\'visiblemenu\' : showddmenu}"\n  ng-if="sitecontent[ddel.elementid][\'additional_links\'].length > 0">\n  <li additionallink=""\n    ng-repeat="elem in sitecontent[ddel.elementid][\'additional_links\']"\n    ulelementid="elforunavbaruldd"></li>\n</ul>')}]),window.getCookie=function(name){var match;return match=document.cookie.match(new RegExp("(^| )"+name+"=([^;]+)")),match?match[2]:void 0};